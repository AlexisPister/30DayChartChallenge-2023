import{t as j,c as v,j as x}from"./continuous.4bb1cc2d.js";import{i as F}from"./init.a5b10ee5.js";import{a as L,f as z}from"./defaultLocale.c00e5010.js";function I(t,n){t=t.slice();var u=0,r=t.length-1,a=t[u],o=t[r],g;return o<a&&(g=u,u=r,r=g,g=a,a=o,o=g),t[u]=n.floor(a),t[r]=n.ceil(o),t}function y(t){return Math.log(t)}function w(t){return Math.exp(t)}function R(t){return-Math.log(-t)}function S(t){return-Math.exp(-t)}function q(t){return isFinite(t)?+("1e"+t):t<0?0:t}function A(t){return t===10?q:t===Math.E?Math.exp:n=>Math.pow(t,n)}function B(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),n=>Math.log(n)/t)}function E(t){return(n,u)=>-t(-n,u)}function C(t){const n=t(y,w),u=n.domain;let r=10,a,o;function g(){return a=B(r),o=A(r),u()[0]<0?(a=E(a),o=E(o),t(R,S)):t(y,w),n}return n.base=function(e){return arguments.length?(r=+e,g()):r},n.domain=function(e){return arguments.length?(u(e),g()):u()},n.ticks=e=>{const i=u();let c=i[0],f=i[i.length-1];const p=f<c;p&&([c,f]=[f,c]);let l=a(c),M=a(f),h,s;const k=e==null?10:+e;let m=[];if(!(r%1)&&M-l<k){if(l=Math.floor(l),M=Math.ceil(M),c>0){for(;l<=M;++l)for(h=1;h<r;++h)if(s=l<0?h/o(-l):h*o(l),!(s<c)){if(s>f)break;m.push(s)}}else for(;l<=M;++l)for(h=r-1;h>=1;--h)if(s=l>0?h/o(-l):h*o(l),!(s<c)){if(s>f)break;m.push(s)}m.length*2<k&&(m=x(c,f,k))}else m=x(l,M,Math.min(M-l,k)).map(o);return p?m.reverse():m},n.tickFormat=(e,i)=>{if(e==null&&(e=10),i==null&&(i=r===10?"s":","),typeof i!="function"&&(!(r%1)&&(i=L(i)).precision==null&&(i.trim=!0),i=z(i)),e===1/0)return i;const c=Math.max(1,r*e/n.ticks().length);return f=>{let p=f/o(Math.round(a(f)));return p*r<r-.5&&(p*=r),p<=c?i(f):""}},n.nice=()=>u(I(u(),{floor:e=>o(Math.floor(a(e))),ceil:e=>o(Math.ceil(a(e)))})),n}function D(){const t=C(j()).domain([1,10]);return t.copy=()=>v(t,D()).base(t.base()),F.apply(t,arguments),t}export{D as a,C as l,I as n};
