import{k as y}from"./transform.2ac1f063.js";import{i as N}from"./value.2747a98b.js";import{a as g}from"./ascending.3ff63084.js";import{d as A}from"./descending.129c84e0.js";function k(n){let e,t,i;n.length!==2?(e=g,t=(u,f)=>g(n(u),f),i=(u,f)=>n(u)-f):(e=n===g||n===A?n:q,t=n,i=n);function o(u,f,r=0,s=u.length){if(r<s){if(e(f,f)!==0)return s;do{const a=r+s>>>1;t(u[a],f)<0?r=a+1:s=a}while(r<s)}return r}function l(u,f,r=0,s=u.length){if(r<s){if(e(f,f)!==0)return s;do{const a=r+s>>>1;t(u[a],f)<=0?r=a+1:s=a}while(r<s)}return r}function c(u,f,r=0,s=u.length){const a=o(u,f,r,s-1);return a>r&&i(u[a-1],f)>-i(u[a],f)?a-1:a}return{left:o,center:c,right:l}}function q(){return 0}function R(n){return n===null?NaN:+n}function*P(n,e){if(e===void 0)for(let t of n)t!=null&&(t=+t)>=t&&(yield t);else{let t=-1;for(let i of n)(i=e(i,++t,n))!=null&&(i=+i)>=i&&(yield i)}}const b=k(g),j=b.right;k(R).center;const z=j,S=Math.sqrt(50),$=Math.sqrt(10),B=Math.sqrt(2);function d(n,e,t){const i=(e-n)/Math.max(0,t),o=Math.floor(Math.log10(i)),l=i/Math.pow(10,o),c=l>=S?10:l>=$?5:l>=B?2:1;let u,f,r;return o<0?(r=Math.pow(10,-o)/c,u=Math.round(n*r),f=Math.round(e*r),u/r<n&&++u,f/r>e&&--f,r=-r):(r=Math.pow(10,o)*c,u=Math.round(n/r),f=Math.round(e/r),u*r<n&&++u,f*r>e&&--f),f<u&&.5<=t&&t<2?d(n,e,t*2):[u,f,r]}function Q(n,e,t){if(e=+e,n=+n,t=+t,!(t>0))return[];if(n===e)return[n];const i=e<n,[o,l,c]=i?d(e,n,t):d(n,e,t);if(!(l>=o))return[];const u=l-o+1,f=new Array(u);if(i)if(c<0)for(let r=0;r<u;++r)f[r]=(l-r)/-c;else for(let r=0;r<u;++r)f[r]=(l-r)*c;else if(c<0)for(let r=0;r<u;++r)f[r]=(o+r)/-c;else for(let r=0;r<u;++r)f[r]=(o+r)*c;return f}function M(n,e,t){return e=+e,n=+n,t=+t,d(n,e,t)[2]}function T(n,e,t){e=+e,n=+n,t=+t;const i=e<n,o=i?M(e,n,t):M(n,e,t);return(i?-1:1)*(o<0?1/-o:o)}function I(n,e){return n=+n,e=+e,function(t){return Math.round(n*(1-t)+e*t)}}function C(n){return function(){return n}}function D(n){return+n}var w=[0,1];function h(n){return n}function p(n,e){return(e-=n=+n)?function(t){return(t-n)/e}:C(isNaN(e)?NaN:.5)}function E(n,e){var t;return n>e&&(t=n,n=e,e=t),function(i){return Math.max(n,Math.min(e,i))}}function F(n,e,t){var i=n[0],o=n[1],l=e[0],c=e[1];return o<i?(i=p(o,i),l=t(c,l)):(i=p(i,o),l=t(l,c)),function(u){return l(i(u))}}function G(n,e,t){var i=Math.min(n.length,e.length)-1,o=new Array(i),l=new Array(i),c=-1;for(n[i]<n[0]&&(n=n.slice().reverse(),e=e.slice().reverse());++c<i;)o[c]=p(n[c],n[c+1]),l[c]=t(e[c],e[c+1]);return function(u){var f=z(n,u,1,i)-1;return l[f](o[f](u))}}function U(n,e){return e.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function H(){var n=w,e=w,t=N,i,o,l,c=h,u,f,r;function s(){var m=Math.min(n.length,e.length);return c!==h&&(c=E(n[0],n[m-1])),u=m>2?G:F,f=r=null,a}function a(m){return m==null||isNaN(m=+m)?l:(f||(f=u(n.map(i),e,t)))(i(c(m)))}return a.invert=function(m){return c(o((r||(r=u(e,n.map(i),y)))(m)))},a.domain=function(m){return arguments.length?(n=Array.from(m,D),s()):n.slice()},a.range=function(m){return arguments.length?(e=Array.from(m),s()):e.slice()},a.rangeRound=function(m){return e=Array.from(m),t=I,s()},a.clamp=function(m){return arguments.length?(c=m?!0:h,s()):c!==h},a.interpolate=function(m){return arguments.length?(t=m,s()):t},a.unknown=function(m){return arguments.length?(l=m,a):l},function(m,v){return i=m,o=v,s()}}function V(){return H()(h,h)}export{R as a,D as b,U as c,z as d,k as e,T as f,V as g,I as h,h as i,Q as j,M as k,P as n,H as t};
