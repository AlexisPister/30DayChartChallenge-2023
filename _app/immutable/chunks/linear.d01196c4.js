import{w as lt}from"./transform.7ea19d79.js";import{e as rn,i as ct,a as st,c as pt,f as ht}from"./defaultLocale.d4914ead.js";import{a as pn}from"./ascending.3ff63084.js";import{i as gt}from"./init.a5b10ee5.js";function vt(n,t){return n==null||t==null?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function nt(n){let t,r,i;n.length!==2?(t=pn,r=(c,p)=>pn(n(c),p),i=(c,p)=>n(c)-p):(t=n===pn||n===vt?n:mt,r=n,i=n);function e(c,p,o=0,u=c.length){if(o<u){if(t(p,p)!==0)return u;do{const f=o+u>>>1;r(c[f],p)<0?o=f+1:u=f}while(o<u)}return o}function s(c,p,o=0,u=c.length){if(o<u){if(t(p,p)!==0)return u;do{const f=o+u>>>1;r(c[f],p)<=0?o=f+1:u=f}while(o<u)}return o}function l(c,p,o=0,u=c.length){const f=e(c,p,o,u-1);return f>o&&i(c[f-1],p)>-i(c[f],p)?f-1:f}return{left:e,center:l,right:s}}function mt(){return 0}function Mt(n){return n===null?NaN:+n}function*Ti(n,t){if(t===void 0)for(let r of n)r!=null&&(r=+r)>=r&&(yield r);else{let r=-1;for(let i of n)(i=t(i,++r,n))!=null&&(i=+i)>=i&&(yield i)}}const St=nt(pn),dt=St.right;nt(Mt).center;const Et=dt;class yt{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const r=this._partials;let i=0;for(let e=0;e<this._n&&e<32;e++){const s=r[e],l=t+s,c=Math.abs(t)<Math.abs(s)?t-(l-s):s-(l-t);c&&(r[i++]=c),t=l}return r[i]=t,this._n=i+1,this}valueOf(){const t=this._partials;let r=this._n,i,e,s,l=0;if(r>0){for(l=t[--r];r>0&&(i=l,e=t[--r],l=i+e,s=e-(l-i),!s););r>0&&(s<0&&t[r-1]<0||s>0&&t[r-1]>0)&&(e=s*2,i=l+e,e==i-l&&(l=i))}return l}}const wt=Math.sqrt(50),Nt=Math.sqrt(10),Pt=Math.sqrt(2);function vn(n,t,r){const i=(t-n)/Math.max(0,r),e=Math.floor(Math.log10(i)),s=i/Math.pow(10,e),l=s>=wt?10:s>=Nt?5:s>=Pt?2:1;let c,p,o;return e<0?(o=Math.pow(10,-e)/l,c=Math.round(n*o),p=Math.round(t*o),c/o<n&&++c,p/o>t&&--p,o=-o):(o=Math.pow(10,e)*l,c=Math.round(n/o),p=Math.round(t/o),c*o<n&&++c,p*o>t&&--p),p<c&&.5<=r&&r<2?vn(n,t,r*2):[c,p,o]}function At(n,t,r){if(t=+t,n=+n,r=+r,!(r>0))return[];if(n===t)return[n];const i=t<n,[e,s,l]=i?vn(t,n,r):vn(n,t,r);if(!(s>=e))return[];const c=s-e+1,p=new Array(c);if(i)if(l<0)for(let o=0;o<c;++o)p[o]=(s-o)/-l;else for(let o=0;o<c;++o)p[o]=(s-o)*l;else if(l<0)for(let o=0;o<c;++o)p[o]=(e+o)/-l;else for(let o=0;o<c;++o)p[o]=(e+o)*l;return p}function An(n,t,r){return t=+t,n=+n,r=+r,vn(n,t,r)[2]}function kt(n,t,r){t=+t,n=+n,r=+r;const i=t<n,e=i?An(t,n,r):An(n,t,r);return(i?-1:1)*(e<0?1/-e:e)}function*_t(n){for(const t of n)yield*t}function tt(n){return Array.from(_t(n))}function Rt(n){return n}var hn=1,wn=2,kn=3,b=4,Hn=1e-6;function It(n){return"translate("+n+",0)"}function zt(n){return"translate(0,"+n+")"}function Tt(n){return t=>+n(t)}function Ft(n,t){return t=Math.max(0,n.bandwidth()-t*2)/2,n.round()&&(t=Math.round(t)),r=>+n(r)+t}function Lt(){return!this.__axis}function $n(n,t){var r=[],i=null,e=null,s=6,l=6,c=3,p=typeof window<"u"&&window.devicePixelRatio>1?0:.5,o=n===hn||n===b?-1:1,u=n===b||n===wn?"x":"y",f=n===hn||n===kn?It:zt;function a(h){var v=i??(t.ticks?t.ticks.apply(t,r):t.domain()),N=e??(t.tickFormat?t.tickFormat.apply(t,r):Rt),m=Math.max(s,0)+c,P=t.range(),S=+P[0]+p,E=+P[P.length-1]+p,M=(t.bandwidth?Ft:Tt)(t.copy(),p),y=h.selection?h.selection():h,w=y.selectAll(".domain").data([null]),A=y.selectAll(".tick").data(v,t).order(),_=A.exit(),k=A.enter().append("g").attr("class","tick"),z=A.select("line"),d=A.select("text");w=w.merge(w.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),A=A.merge(k),z=z.merge(k.append("line").attr("stroke","currentColor").attr(u+"2",o*s)),d=d.merge(k.append("text").attr("fill","currentColor").attr(u,o*m).attr("dy",n===hn?"0em":n===kn?"0.71em":"0.32em")),h!==y&&(w=w.transition(h),A=A.transition(h),z=z.transition(h),d=d.transition(h),_=_.transition(h).attr("opacity",Hn).attr("transform",function($){return isFinite($=M($))?f($+p):this.getAttribute("transform")}),k.attr("opacity",Hn).attr("transform",function($){var F=this.parentNode.__axis;return f((F&&isFinite(F=F($))?F:M($))+p)})),_.remove(),w.attr("d",n===b||n===wn?l?"M"+o*l+","+S+"H"+p+"V"+E+"H"+o*l:"M"+p+","+S+"V"+E:l?"M"+S+","+o*l+"V"+p+"H"+E+"V"+o*l:"M"+S+","+p+"H"+E),A.attr("opacity",1).attr("transform",function($){return f(M($)+p)}),z.attr(u+"2",o*s),d.attr(u,o*m).text(N),y.filter(Lt).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",n===wn?"start":n===b?"end":"middle"),y.each(function(){this.__axis=M})}return a.scale=function(h){return arguments.length?(t=h,a):t},a.ticks=function(){return r=Array.from(arguments),a},a.tickArguments=function(h){return arguments.length?(r=h==null?[]:Array.from(h),a):r.slice()},a.tickValues=function(h){return arguments.length?(i=h==null?null:Array.from(h),a):i&&i.slice()},a.tickFormat=function(h){return arguments.length?(e=h,a):e},a.tickSize=function(h){return arguments.length?(s=l=+h,a):s},a.tickSizeInner=function(h){return arguments.length?(s=+h,a):s},a.tickSizeOuter=function(h){return arguments.length?(l=+h,a):l},a.tickPadding=function(h){return arguments.length?(c=+h,a):c},a.offset=function(h){return arguments.length?(p=+h,a):p},a}function Fi(n){return $n(hn,n)}function Li(n){return $n(kn,n)}function $i(n){return $n(b,n)}function $t(n,t){return n=+n,t=+t,function(r){return Math.round(n*(1-r)+t*r)}}function Ct(n){return Math.max(0,-rn(Math.abs(n)))}function qt(n,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(rn(t)/3)))*3-rn(Math.abs(n)))}function Ht(n,t){return n=Math.abs(n),t=Math.abs(t)-n,Math.max(0,rn(t)-rn(n))+1}var L=1e-6,Ot=1e-12,I=Math.PI,D=I/2,On=I/4,X=I*2,G=180/I,O=I/180,C=Math.abs,it=Math.atan,en=Math.atan2,q=Math.cos,Vt=Math.exp,Bt=Math.log,Ci=Math.pow,H=Math.sin,Dt=Math.sign||function(n){return n>0?1:n<0?-1:0},En=Math.sqrt,Gt=Math.tan;function Wt(n){return n>1?0:n<-1?I:Math.acos(n)}function un(n){return n>1?D:n<-1?-D:Math.asin(n)}function nn(){}function mn(n,t){n&&Bn.hasOwnProperty(n.type)&&Bn[n.type](n,t)}var Vn={Feature:function(n,t){mn(n.geometry,t)},FeatureCollection:function(n,t){for(var r=n.features,i=-1,e=r.length;++i<e;)mn(r[i].geometry,t)}},Bn={Sphere:function(n,t){t.sphere()},Point:function(n,t){n=n.coordinates,t.point(n[0],n[1],n[2])},MultiPoint:function(n,t){for(var r=n.coordinates,i=-1,e=r.length;++i<e;)n=r[i],t.point(n[0],n[1],n[2])},LineString:function(n,t){_n(n.coordinates,t,0)},MultiLineString:function(n,t){for(var r=n.coordinates,i=-1,e=r.length;++i<e;)_n(r[i],t,0)},Polygon:function(n,t){Dn(n.coordinates,t)},MultiPolygon:function(n,t){for(var r=n.coordinates,i=-1,e=r.length;++i<e;)Dn(r[i],t)},GeometryCollection:function(n,t){for(var r=n.geometries,i=-1,e=r.length;++i<e;)mn(r[i],t)}};function _n(n,t,r){var i=-1,e=n.length-r,s;for(t.lineStart();++i<e;)s=n[i],t.point(s[0],s[1],s[2]);t.lineEnd()}function Dn(n,t){var r=-1,i=n.length;for(t.polygonStart();++r<i;)_n(n[r],t,1);t.polygonEnd()}function Xt(n,t){n&&Vn.hasOwnProperty(n.type)?Vn[n.type](n,t):mn(n,t)}function Rn(n){return[en(n[1],n[0]),un(n[2])]}function U(n){var t=n[0],r=n[1],i=q(r);return[i*q(t),i*H(t),H(r)]}function fn(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]}function Mn(n,t){return[n[1]*t[2]-n[2]*t[1],n[2]*t[0]-n[0]*t[2],n[0]*t[1]-n[1]*t[0]]}function Nn(n,t){n[0]+=t[0],n[1]+=t[1],n[2]+=t[2]}function ln(n,t){return[n[0]*t,n[1]*t,n[2]*t]}function In(n){var t=En(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=t,n[1]/=t,n[2]/=t}function zn(n,t){function r(i,e){return i=n(i,e),t(i[0],i[1])}return n.invert&&t.invert&&(r.invert=function(i,e){return i=t.invert(i,e),i&&n.invert(i[0],i[1])}),r}function Tn(n,t){return C(n)>I&&(n-=Math.round(n/X)*X),[n,t]}Tn.invert=Tn;function rt(n,t,r){return(n%=X)?t||r?zn(Wn(n),Xn(t,r)):Wn(n):t||r?Xn(t,r):Tn}function Gn(n){return function(t,r){return t+=n,C(t)>I&&(t-=Math.round(t/X)*X),[t,r]}}function Wn(n){var t=Gn(n);return t.invert=Gn(-n),t}function Xn(n,t){var r=q(n),i=H(n),e=q(t),s=H(t);function l(c,p){var o=q(p),u=q(c)*o,f=H(c)*o,a=H(p),h=a*r+u*i;return[en(f*e-h*s,u*r-a*i),un(h*e+f*s)]}return l.invert=function(c,p){var o=q(p),u=q(c)*o,f=H(c)*o,a=H(p),h=a*e-f*s;return[en(f*e+a*s,u*r+h*i),un(h*r-u*i)]},l}function Yt(n){n=rt(n[0]*O,n[1]*O,n.length>2?n[2]*O:0);function t(r){return r=n(r[0]*O,r[1]*O),r[0]*=G,r[1]*=G,r}return t.invert=function(r){return r=n.invert(r[0]*O,r[1]*O),r[0]*=G,r[1]*=G,r},t}function xt(n,t,r,i,e,s){if(r){var l=q(t),c=H(t),p=i*r;e==null?(e=t+i*X,s=t-p/2):(e=Yn(l,e),s=Yn(l,s),(i>0?e<s:e>s)&&(e+=i*X));for(var o,u=e;i>0?u>s:u<s;u-=p)o=Rn([l,-c*q(u),-c*H(u)]),n.point(o[0],o[1])}}function Yn(n,t){t=U(t),t[0]-=n,In(t);var r=Wt(-t[1]);return((-t[2]<0?-r:r)+X-L)%X}function et(){var n=[],t;return{point:function(r,i,e){t.push([r,i,e])},lineStart:function(){n.push(t=[])},lineEnd:nn,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var r=n;return n=[],t=null,r}}}function gn(n,t){return C(n[0]-t[0])<L&&C(n[1]-t[1])<L}function cn(n,t,r,i){this.x=n,this.z=t,this.o=r,this.e=i,this.v=!1,this.n=this.p=null}function ut(n,t,r,i,e){var s=[],l=[],c,p;if(n.forEach(function(v){if(!((N=v.length-1)<=0)){var N,m=v[0],P=v[N],S;if(gn(m,P)){if(!m[2]&&!P[2]){for(e.lineStart(),c=0;c<N;++c)e.point((m=v[c])[0],m[1]);e.lineEnd();return}P[0]+=2*L}s.push(S=new cn(m,v,null,!0)),l.push(S.o=new cn(m,null,S,!1)),s.push(S=new cn(P,v,null,!1)),l.push(S.o=new cn(P,null,S,!0))}}),!!s.length){for(l.sort(t),xn(s),xn(l),c=0,p=l.length;c<p;++c)l[c].e=r=!r;for(var o=s[0],u,f;;){for(var a=o,h=!0;a.v;)if((a=a.n)===o)return;u=a.z,e.lineStart();do{if(a.v=a.o.v=!0,a.e){if(h)for(c=0,p=u.length;c<p;++c)e.point((f=u[c])[0],f[1]);else i(a.x,a.n.x,1,e);a=a.n}else{if(h)for(u=a.p.z,c=u.length-1;c>=0;--c)e.point((f=u[c])[0],f[1]);else i(a.x,a.p.x,-1,e);a=a.p}a=a.o,u=a.z,h=!h}while(!a.v);e.lineEnd()}}}function xn(n){if(t=n.length){for(var t,r=0,i=n[0],e;++r<t;)i.n=e=n[r],e.p=i,i=e;i.n=e=n[0],e.p=i}}function Pn(n){return C(n[0])<=I?n[0]:Dt(n[0])*((C(n[0])+I)%X-I)}function Jt(n,t){var r=Pn(t),i=t[1],e=H(i),s=[H(r),-q(r),0],l=0,c=0,p=new yt;e===1?i=D+L:e===-1&&(i=-D-L);for(var o=0,u=n.length;o<u;++o)if(a=(f=n[o]).length)for(var f,a,h=f[a-1],v=Pn(h),N=h[1]/2+On,m=H(N),P=q(N),S=0;S<a;++S,v=M,m=w,P=A,h=E){var E=f[S],M=Pn(E),y=E[1]/2+On,w=H(y),A=q(y),_=M-v,k=_>=0?1:-1,z=k*_,d=z>I,$=m*w;if(p.add(en($*k*H(z),P*A+$*q(z))),l+=d?_+k*X:_,d^v>=r^M>=r){var F=Mn(U(h),U(E));In(F);var T=Mn(s,F);In(T);var g=(d^_>=0?-1:1)*un(T[2]);(i>g||i===g&&(F[0]||F[1]))&&(c+=d^_>=0?1:-1)}}return(l<-L||l<L&&p<-Ot)^c&1}function ot(n,t,r,i){return function(e){var s=t(e),l=et(),c=t(l),p=!1,o,u,f,a={point:h,lineStart:N,lineEnd:m,polygonStart:function(){a.point=P,a.lineStart=S,a.lineEnd=E,u=[],o=[]},polygonEnd:function(){a.point=h,a.lineStart=N,a.lineEnd=m,u=tt(u);var M=Jt(o,i);u.length?(p||(e.polygonStart(),p=!0),ut(u,Qt,M,r,e)):M&&(p||(e.polygonStart(),p=!0),e.lineStart(),r(null,null,1,e),e.lineEnd()),p&&(e.polygonEnd(),p=!1),u=o=null},sphere:function(){e.polygonStart(),e.lineStart(),r(null,null,1,e),e.lineEnd(),e.polygonEnd()}};function h(M,y){n(M,y)&&e.point(M,y)}function v(M,y){s.point(M,y)}function N(){a.point=v,s.lineStart()}function m(){a.point=h,s.lineEnd()}function P(M,y){f.push([M,y]),c.point(M,y)}function S(){c.lineStart(),f=[]}function E(){P(f[0][0],f[0][1]),c.lineEnd();var M=c.clean(),y=l.result(),w,A=y.length,_,k,z;if(f.pop(),o.push(f),f=null,!!A){if(M&1){if(k=y[0],(_=k.length-1)>0){for(p||(e.polygonStart(),p=!0),e.lineStart(),w=0;w<_;++w)e.point((z=k[w])[0],z[1]);e.lineEnd()}return}A>1&&M&2&&y.push(y.pop().concat(y.shift())),u.push(y.filter(Kt))}}return a}}function Kt(n){return n.length>1}function Qt(n,t){return((n=n.x)[0]<0?n[1]-D-L:D-n[1])-((t=t.x)[0]<0?t[1]-D-L:D-t[1])}const Jn=ot(function(){return!0},Ut,jt,[-I,-D]);function Ut(n){var t=NaN,r=NaN,i=NaN,e;return{lineStart:function(){n.lineStart(),e=1},point:function(s,l){var c=s>0?I:-I,p=C(s-t);C(p-I)<L?(n.point(t,r=(r+l)/2>0?D:-D),n.point(i,r),n.lineEnd(),n.lineStart(),n.point(c,r),n.point(s,r),e=0):i!==c&&p>=I&&(C(t-i)<L&&(t-=i*L),C(s-c)<L&&(s-=c*L),r=Zt(t,r,s,l),n.point(i,r),n.lineEnd(),n.lineStart(),n.point(c,r),e=0),n.point(t=s,r=l),i=c},lineEnd:function(){n.lineEnd(),t=r=NaN},clean:function(){return 2-e}}}function Zt(n,t,r,i){var e,s,l=H(n-r);return C(l)>L?it((H(t)*(s=q(i))*H(r)-H(i)*(e=q(t))*H(n))/(e*s*l)):(t+i)/2}function jt(n,t,r,i){var e;if(n==null)e=r*D,i.point(-I,e),i.point(0,e),i.point(I,e),i.point(I,0),i.point(I,-e),i.point(0,-e),i.point(-I,-e),i.point(-I,0),i.point(-I,e);else if(C(n[0]-t[0])>L){var s=n[0]<t[0]?I:-I;e=r*s/2,i.point(-s,e),i.point(0,e),i.point(s,e)}else i.point(t[0],t[1])}function bt(n){var t=q(n),r=6*O,i=t>0,e=C(t)>L;function s(u,f,a,h){xt(h,n,r,a,u,f)}function l(u,f){return q(u)*q(f)>t}function c(u){var f,a,h,v,N;return{lineStart:function(){v=h=!1,N=1},point:function(m,P){var S=[m,P],E,M=l(m,P),y=i?M?0:o(m,P):M?o(m+(m<0?I:-I),P):0;if(!f&&(v=h=M)&&u.lineStart(),M!==h&&(E=p(f,S),(!E||gn(f,E)||gn(S,E))&&(S[2]=1)),M!==h)N=0,M?(u.lineStart(),E=p(S,f),u.point(E[0],E[1])):(E=p(f,S),u.point(E[0],E[1],2),u.lineEnd()),f=E;else if(e&&f&&i^M){var w;!(y&a)&&(w=p(S,f,!0))&&(N=0,i?(u.lineStart(),u.point(w[0][0],w[0][1]),u.point(w[1][0],w[1][1]),u.lineEnd()):(u.point(w[1][0],w[1][1]),u.lineEnd(),u.lineStart(),u.point(w[0][0],w[0][1],3)))}M&&(!f||!gn(f,S))&&u.point(S[0],S[1]),f=S,h=M,a=y},lineEnd:function(){h&&u.lineEnd(),f=null},clean:function(){return N|(v&&h)<<1}}}function p(u,f,a){var h=U(u),v=U(f),N=[1,0,0],m=Mn(h,v),P=fn(m,m),S=m[0],E=P-S*S;if(!E)return!a&&u;var M=t*P/E,y=-t*S/E,w=Mn(N,m),A=ln(N,M),_=ln(m,y);Nn(A,_);var k=w,z=fn(A,k),d=fn(k,k),$=z*z-d*(fn(A,A)-1);if(!($<0)){var F=En($),T=ln(k,(-z-F)/d);if(Nn(T,A),T=Rn(T),!a)return T;var g=u[0],R=f[0],V=u[1],B=f[1],W;R<g&&(W=g,g=R,R=W);var j=R-g,Y=C(j-I)<L,J=Y||j<L;if(!Y&&B<V&&(W=V,V=B,B=W),J?Y?V+B>0^T[1]<(C(T[0]-g)<L?V:B):V<=T[1]&&T[1]<=B:j>I^(g<=T[0]&&T[0]<=R)){var x=ln(k,(-z+F)/d);return Nn(x,A),[T,Rn(x)]}}}function o(u,f){var a=i?n:I-n,h=0;return u<-a?h|=1:u>a&&(h|=2),f<-a?h|=4:f>a&&(h|=8),h}return ot(l,c,s,i?[0,-n]:[-I,n-I])}function ni(n,t,r,i,e,s){var l=n[0],c=n[1],p=t[0],o=t[1],u=0,f=1,a=p-l,h=o-c,v;if(v=r-l,!(!a&&v>0)){if(v/=a,a<0){if(v<u)return;v<f&&(f=v)}else if(a>0){if(v>f)return;v>u&&(u=v)}if(v=e-l,!(!a&&v<0)){if(v/=a,a<0){if(v>f)return;v>u&&(u=v)}else if(a>0){if(v<u)return;v<f&&(f=v)}if(v=i-c,!(!h&&v>0)){if(v/=h,h<0){if(v<u)return;v<f&&(f=v)}else if(h>0){if(v>f)return;v>u&&(u=v)}if(v=s-c,!(!h&&v<0)){if(v/=h,h<0){if(v>f)return;v>u&&(u=v)}else if(h>0){if(v<u)return;v<f&&(f=v)}return u>0&&(n[0]=l+u*a,n[1]=c+u*h),f<1&&(t[0]=l+f*a,t[1]=c+f*h),!0}}}}}var tn=1e9,sn=-tn;function ti(n,t,r,i){function e(o,u){return n<=o&&o<=r&&t<=u&&u<=i}function s(o,u,f,a){var h=0,v=0;if(o==null||(h=l(o,f))!==(v=l(u,f))||p(o,u)<0^f>0)do a.point(h===0||h===3?n:r,h>1?i:t);while((h=(h+f+4)%4)!==v);else a.point(u[0],u[1])}function l(o,u){return C(o[0]-n)<L?u>0?0:3:C(o[0]-r)<L?u>0?2:1:C(o[1]-t)<L?u>0?1:0:u>0?3:2}function c(o,u){return p(o.x,u.x)}function p(o,u){var f=l(o,1),a=l(u,1);return f!==a?f-a:f===0?u[1]-o[1]:f===1?o[0]-u[0]:f===2?o[1]-u[1]:u[0]-o[0]}return function(o){var u=o,f=et(),a,h,v,N,m,P,S,E,M,y,w,A={point:_,lineStart:$,lineEnd:F,polygonStart:z,polygonEnd:d};function _(g,R){e(g,R)&&u.point(g,R)}function k(){for(var g=0,R=0,V=h.length;R<V;++R)for(var B=h[R],W=1,j=B.length,Y=B[0],J,x,an=Y[0],K=Y[1];W<j;++W)J=an,x=K,Y=B[W],an=Y[0],K=Y[1],x<=i?K>i&&(an-J)*(i-x)>(K-x)*(n-J)&&++g:K<=i&&(an-J)*(i-x)<(K-x)*(n-J)&&--g;return g}function z(){u=f,a=[],h=[],w=!0}function d(){var g=k(),R=w&&g,V=(a=tt(a)).length;(R||V)&&(o.polygonStart(),R&&(o.lineStart(),s(null,null,1,o),o.lineEnd()),V&&ut(a,c,g,s,o),o.polygonEnd()),u=o,a=h=v=null}function $(){A.point=T,h&&h.push(v=[]),y=!0,M=!1,S=E=NaN}function F(){a&&(T(N,m),P&&M&&f.rejoin(),a.push(f.result())),A.point=_,M&&u.lineEnd()}function T(g,R){var V=e(g,R);if(h&&v.push([g,R]),y)N=g,m=R,P=V,y=!1,V&&(u.lineStart(),u.point(g,R));else if(V&&M)u.point(g,R);else{var B=[S=Math.max(sn,Math.min(tn,S)),E=Math.max(sn,Math.min(tn,E))],W=[g=Math.max(sn,Math.min(tn,g)),R=Math.max(sn,Math.min(tn,R))];ni(B,W,n,t,r,i)?(M||(u.lineStart(),u.point(B[0],B[1])),u.point(W[0],W[1]),V||u.lineEnd(),w=!1):V&&(u.lineStart(),u.point(g,R),w=!1)}S=g,E=R,M=V}return A}}const Kn=n=>n;var Z=1/0,Sn=Z,on=-Z,dn=on,ii={point:ri,lineStart:nn,lineEnd:nn,polygonStart:nn,polygonEnd:nn,result:function(){var n=[[Z,Sn],[on,dn]];return on=dn=-(Sn=Z=1/0),n}};function ri(n,t){n<Z&&(Z=n),n>on&&(on=n),t<Sn&&(Sn=t),t>dn&&(dn=t)}const Qn=ii;function qi(n){return{stream:yn(n)}}function yn(n){return function(t){var r=new Fn;for(var i in n)r[i]=n[i];return r.stream=t,r}}function Fn(){}Fn.prototype={constructor:Fn,point:function(n,t){this.stream.point(n,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Cn(n,t,r){var i=n.clipExtent&&n.clipExtent();return n.scale(150).translate([0,0]),i!=null&&n.clipExtent(null),Xt(r,n.stream(Qn)),t(Qn.result()),i!=null&&n.clipExtent(i),n}function at(n,t,r){return Cn(n,function(i){var e=t[1][0]-t[0][0],s=t[1][1]-t[0][1],l=Math.min(e/(i[1][0]-i[0][0]),s/(i[1][1]-i[0][1])),c=+t[0][0]+(e-l*(i[1][0]+i[0][0]))/2,p=+t[0][1]+(s-l*(i[1][1]+i[0][1]))/2;n.scale(150*l).translate([c,p])},r)}function ei(n,t,r){return at(n,[[0,0],t],r)}function ui(n,t,r){return Cn(n,function(i){var e=+t,s=e/(i[1][0]-i[0][0]),l=(e-s*(i[1][0]+i[0][0]))/2,c=-s*i[0][1];n.scale(150*s).translate([l,c])},r)}function oi(n,t,r){return Cn(n,function(i){var e=+t,s=e/(i[1][1]-i[0][1]),l=-s*i[0][0],c=(e-s*(i[1][1]+i[0][1]))/2;n.scale(150*s).translate([l,c])},r)}var Un=16,ai=q(30*O);function Zn(n,t){return+t?li(n,t):fi(n)}function fi(n){return yn({point:function(t,r){t=n(t,r),this.stream.point(t[0],t[1])}})}function li(n,t){function r(i,e,s,l,c,p,o,u,f,a,h,v,N,m){var P=o-i,S=u-e,E=P*P+S*S;if(E>4*t&&N--){var M=l+a,y=c+h,w=p+v,A=En(M*M+y*y+w*w),_=un(w/=A),k=C(C(w)-1)<L||C(s-f)<L?(s+f)/2:en(y,M),z=n(k,_),d=z[0],$=z[1],F=d-i,T=$-e,g=S*F-P*T;(g*g/E>t||C((P*F+S*T)/E-.5)>.3||l*a+c*h+p*v<ai)&&(r(i,e,s,l,c,p,d,$,k,M/=A,y/=A,w,N,m),m.point(d,$),r(d,$,k,M,y,w,o,u,f,a,h,v,N,m))}}return function(i){var e,s,l,c,p,o,u,f,a,h,v,N,m={point:P,lineStart:S,lineEnd:M,polygonStart:function(){i.polygonStart(),m.lineStart=y},polygonEnd:function(){i.polygonEnd(),m.lineStart=S}};function P(_,k){_=n(_,k),i.point(_[0],_[1])}function S(){f=NaN,m.point=E,i.lineStart()}function E(_,k){var z=U([_,k]),d=n(_,k);r(f,a,u,h,v,N,f=d[0],a=d[1],u=_,h=z[0],v=z[1],N=z[2],Un,i),i.point(f,a)}function M(){m.point=P,i.lineEnd()}function y(){S(),m.point=w,m.lineEnd=A}function w(_,k){E(e=_,k),s=f,l=a,c=h,p=v,o=N,m.point=E}function A(){r(f,a,u,h,v,N,s,l,e,c,p,o,Un,i),m.lineEnd=M,M()}return m}}var ci=yn({point:function(n,t){this.stream.point(n*O,t*O)}});function si(n){return yn({point:function(t,r){var i=n(t,r);return this.stream.point(i[0],i[1])}})}function pi(n,t,r,i,e){function s(l,c){return l*=i,c*=e,[t+n*l,r-n*c]}return s.invert=function(l,c){return[(l-t)/n*i,(r-c)/n*e]},s}function jn(n,t,r,i,e,s){if(!s)return pi(n,t,r,i,e);var l=q(s),c=H(s),p=l*n,o=c*n,u=l/n,f=c/n,a=(c*r-l*t)/n,h=(c*t+l*r)/n;function v(N,m){return N*=i,m*=e,[p*N-o*m+t,r-o*N-p*m]}return v.invert=function(N,m){return[i*(u*N-f*m+a),e*(h-f*N-u*m)]},v}function hi(n){return gi(function(){return n})()}function gi(n){var t,r=150,i=480,e=250,s=0,l=0,c=0,p=0,o=0,u,f=0,a=1,h=1,v=null,N=Jn,m=null,P,S,E,M=Kn,y=.5,w,A,_,k,z;function d(g){return _(g[0]*O,g[1]*O)}function $(g){return g=_.invert(g[0],g[1]),g&&[g[0]*G,g[1]*G]}d.stream=function(g){return k&&z===g?k:k=ci(si(u)(N(w(M(z=g)))))},d.preclip=function(g){return arguments.length?(N=g,v=void 0,T()):N},d.postclip=function(g){return arguments.length?(M=g,m=P=S=E=null,T()):M},d.clipAngle=function(g){return arguments.length?(N=+g?bt(v=g*O):(v=null,Jn),T()):v*G},d.clipExtent=function(g){return arguments.length?(M=g==null?(m=P=S=E=null,Kn):ti(m=+g[0][0],P=+g[0][1],S=+g[1][0],E=+g[1][1]),T()):m==null?null:[[m,P],[S,E]]},d.scale=function(g){return arguments.length?(r=+g,F()):r},d.translate=function(g){return arguments.length?(i=+g[0],e=+g[1],F()):[i,e]},d.center=function(g){return arguments.length?(s=g[0]%360*O,l=g[1]%360*O,F()):[s*G,l*G]},d.rotate=function(g){return arguments.length?(c=g[0]%360*O,p=g[1]%360*O,o=g.length>2?g[2]%360*O:0,F()):[c*G,p*G,o*G]},d.angle=function(g){return arguments.length?(f=g%360*O,F()):f*G},d.reflectX=function(g){return arguments.length?(a=g?-1:1,F()):a<0},d.reflectY=function(g){return arguments.length?(h=g?-1:1,F()):h<0},d.precision=function(g){return arguments.length?(w=Zn(A,y=g*g),T()):En(y)},d.fitExtent=function(g,R){return at(d,g,R)},d.fitSize=function(g,R){return ei(d,g,R)},d.fitWidth=function(g,R){return ui(d,g,R)},d.fitHeight=function(g,R){return oi(d,g,R)};function F(){var g=jn(r,0,0,a,h,f).apply(null,t(s,l)),R=jn(r,i-g[0],e-g[1],a,h,f);return u=rt(c,p,o),A=zn(t,R),_=zn(u,A),w=Zn(A,y),T()}function T(){return k=z=null,d}return function(){return t=n.apply(this,arguments),d.invert=t.invert&&$,F()}}function qn(n,t){return[n,Bt(Gt((D+t)/2))]}qn.invert=function(n,t){return[n,2*it(Vt(t))-D]};function Hi(){return vi(qn).scale(961/X)}function vi(n){var t=hi(n),r=t.center,i=t.scale,e=t.translate,s=t.clipExtent,l=null,c,p,o;t.scale=function(f){return arguments.length?(i(f),u()):i()},t.translate=function(f){return arguments.length?(e(f),u()):e()},t.center=function(f){return arguments.length?(r(f),u()):r()},t.clipExtent=function(f){return arguments.length?(f==null?l=c=p=o=null:(l=+f[0][0],c=+f[0][1],p=+f[1][0],o=+f[1][1]),u()):l==null?null:[[l,c],[p,o]]};function u(){var f=I*i(),a=t(Yt(t.rotate()).invert([0,0]));return s(l==null?[[a[0]-f,a[1]-f],[a[0]+f,a[1]+f]]:n===qn?[[Math.max(a[0]-f,l),c],[Math.min(a[0]+f,p),o]]:[[l,Math.max(a[1]-f,c)],[p,Math.min(a[1]+f,o)]])}return u()}function mi(n){return function(){return n}}function Mi(n){return+n}var bn=[0,1];function Q(n){return n}function Ln(n,t){return(t-=n=+n)?function(r){return(r-n)/t}:mi(isNaN(t)?NaN:.5)}function Si(n,t){var r;return n>t&&(r=n,n=t,t=r),function(i){return Math.max(n,Math.min(t,i))}}function di(n,t,r){var i=n[0],e=n[1],s=t[0],l=t[1];return e<i?(i=Ln(e,i),s=r(l,s)):(i=Ln(i,e),s=r(s,l)),function(c){return s(i(c))}}function Ei(n,t,r){var i=Math.min(n.length,t.length)-1,e=new Array(i),s=new Array(i),l=-1;for(n[i]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++l<i;)e[l]=Ln(n[l],n[l+1]),s[l]=r(t[l],t[l+1]);return function(c){var p=Et(n,c,1,i)-1;return s[p](e[p](c))}}function yi(n,t){return t.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function wi(){var n=bn,t=bn,r=ct,i,e,s,l=Q,c,p,o;function u(){var a=Math.min(n.length,t.length);return l!==Q&&(l=Si(n[0],n[a-1])),c=a>2?Ei:di,p=o=null,f}function f(a){return a==null||isNaN(a=+a)?s:(p||(p=c(n.map(i),t,r)))(i(l(a)))}return f.invert=function(a){return l(e((o||(o=c(t,n.map(i),lt)))(a)))},f.domain=function(a){return arguments.length?(n=Array.from(a,Mi),u()):n.slice()},f.range=function(a){return arguments.length?(t=Array.from(a),u()):t.slice()},f.rangeRound=function(a){return t=Array.from(a),r=$t,u()},f.clamp=function(a){return arguments.length?(l=a?!0:Q,u()):l!==Q},f.interpolate=function(a){return arguments.length?(r=a,u()):r},f.unknown=function(a){return arguments.length?(s=a,f):s},function(a,h){return i=a,e=h,u()}}function Ni(){return wi()(Q,Q)}function Pi(n,t,r,i){var e=kt(n,t,r),s;switch(i=st(i??",f"),i.type){case"s":{var l=Math.max(Math.abs(n),Math.abs(t));return i.precision==null&&!isNaN(s=qt(e,l))&&(i.precision=s),pt(i,l)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(s=Ht(e,Math.max(Math.abs(n),Math.abs(t))))&&(i.precision=s-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(s=Ct(e))&&(i.precision=s-(i.type==="%")*2);break}}return ht(i)}function Ai(n){var t=n.domain;return n.ticks=function(r){var i=t();return At(i[0],i[i.length-1],r??10)},n.tickFormat=function(r,i){var e=t();return Pi(e[0],e[e.length-1],r??10,i)},n.nice=function(r){r==null&&(r=10);var i=t(),e=0,s=i.length-1,l=i[e],c=i[s],p,o,u=10;for(c<l&&(o=l,l=c,c=o,o=e,e=s,s=o);u-- >0;){if(o=An(l,c,r),o===p)return i[e]=l,i[s]=c,t(i);if(o>0)l=Math.floor(l/o)*o,c=Math.ceil(c/o)*o;else if(o<0)l=Math.ceil(l*o)/o,c=Math.floor(c*o)/o;else break;p=o}return n},n}function ki(){var n=Ni();return n.copy=function(){return yi(n,ki())},gt.apply(n,arguments),Ai(n)}function ft(n){this._context=n}ft.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,t){switch(n=+n,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,t):this._context.moveTo(n,t);break;case 1:this._point=2;default:this._context.lineTo(n,t);break}}};function Oi(n){return new ft(n)}export{Fi as $,yt as A,Bt as B,it as C,Ci as D,D as E,Gt as F,Ot as G,vi as H,Vt as I,Mi as J,Ai as K,wi as L,yi as M,At as N,Q as O,Et as P,nt as Q,kt as R,Ni as S,$t as T,vt as U,qi as V,ti as W,Hi as X,ki as Y,Li as Z,Oi as _,Mt as a,$i as a0,nn as b,C as c,Qn as d,G as e,I as f,Xt as g,H as h,Kn as i,un as j,q as k,L as l,en as m,Ti as n,Dt as o,gi as p,at as q,O as r,En as s,X as t,ei as u,ui as v,oi as w,hi as x,Wt as y,qn as z};
