import{R as wt,o as Ri,p as Vr,q as Hr,C as Yr,u as Ra,v as Ia,w as La,x as Z,y as Gr,z as Xn,l as Nu,A as Ru,k as Rn,m as Zr,B as Qn}from"./transform.2ac1f063.js";import{d as vt}from"./descending.129c84e0.js";import{a as kn}from"./ascending.3ff63084.js";import{t as Ae,d as Le,a as $e,b as De,c as Kt,u as Kr,e as Xr,f as Da,g as Iu,h as Oa,i as Lu,j as Jn,k as Qr,l as et,m as Du,n as kr,o as Ii,p as Ou,q as qu,r as Pu,s as Bu,v as Fu,w as zu,x as ju,y as Wu,z as _u,A as Uu,B as Vu,C as Hu}from"./defaultLocale.289d5f37.js";import{m as Te}from"./max.adfc8a60.js";import{m as xn,s as Yu}from"./Set2.a485a3be.js";import{n as Gu,a as Zu,b as qa,t as Li,c as Jr,i as Ye,d as Di,e as Ku,f as Pa,g as Xu,h as Oi,j as Qu}from"./continuous.a94dc564.js";import{r as ku}from"./range.6bc2a9a0.js";import{s as j,m as ea,t as $t,p as pr,a as nt,c as qi}from"./math.66d62dd6.js";import{r as yn,g as Pi,m as Ju}from"./mean.e1aff159.js";import{I as es,a as na,i as ns,o as ts}from"./ordinal.9aa01bae.js";import{n as Pe,a as Fe,A as ke,s as le,t as rs,g as sn,b as Ba,i as as,p as is,r as Fa,d as za,c as Mt,e as B,f as We,h as _,j as G,k as xt,l as ae,m as fs,o as cs,q as os,u as us,v as _e,w as ss,x as ds,y as gr,z as Tt,B as Xt,C as Re,D as Bi,E as ls,F as bs,G as hs,H as yr,I as ms,J as ps}from"./mercator.12519c0e.js";import{s as wr}from"./select.c6d05060.js";import{c as N}from"./colors.98f238a0.js";import{c as St,r as D,i as Fi,s as gs}from"./Spectral.e944b73c.js";import{l as At,a as zi,b as ys}from"./linear.4cf592b7.js";import{i as rn,a as Et}from"./init.a5b10ee5.js";import{n as ws,l as vs,a as $s}from"./log.c3a8e9bb.js";import{e as Je}from"./extent.4cf1c809.js";import{i as ji}from"./value.2747a98b.js";import{p as Ms,b as Wi}from"./band.82e7aa82.js";import{f as ta}from"./defaultLocale.c00e5010.js";import{a as vr}from"./path.1bc61eb4.js";function xs(e){return e.length|0}function Ts(e){return!(e>0)}function Ss(e){return typeof e!="object"||"length"in e?e:Array.from(e)}function As(e){return n=>e(...n)}function Es(...e){const n=typeof e[e.length-1]=="function"&&As(e.pop());e=e.map(Ss);const t=e.map(xs),r=e.length-1,a=new Array(r+1).fill(0),i=[];if(r<0||t.some(Ts))return i;for(;;){i.push(a.map((c,o)=>e[o][c]));let f=r;for(;++a[f]===t[f];){if(f===0)return n?i.map(n):i;a[f--]=0}}}function _i(e,n){let t=0,r,a=0,i=0;if(n===void 0)for(let f of e)f!=null&&(f=+f)>=f&&(r=f-a,a+=r/++t,i+=r*(f-a));else{let f=-1;for(let c of e)(c=n(c,++f,e))!=null&&(c=+c)>=c&&(r=c-a,a+=r/++t,i+=r*(c-a))}if(t>1)return i/(t-1)}function Cs(e,n){const t=_i(e,n);return t&&Math.sqrt(t)}function Ns(e,n){return Array.from(n,t=>e[t])}function Ct(e,...n){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");e=Array.from(e);let[t]=n;if(t&&t.length!==2||n.length>1){const r=Uint32Array.from(e,(a,i)=>i);return n.length>1?(n=n.map(a=>e.map(a)),r.sort((a,i)=>{for(const f of n){const c=tt(f[a],f[i]);if(c)return c}})):(t=e.map(t),r.sort((a,i)=>tt(t[a],t[i]))),Ns(e,r)}return e.sort(Ui(t))}function Ui(e=kn){if(e===kn)return tt;if(typeof e!="function")throw new TypeError("compare is not a function");return(n,t)=>{const r=e(n,t);return r||r===0?r:(e(t,t)===0)-(e(n,n)===0)}}function tt(e,n){return(e==null||!(e>=e))-(n==null||!(n>=n))||(e<n?-1:e>n?1:0)}function Rs(e,n){let t,r=-1,a=-1;if(n===void 0)for(const i of e)++a,i!=null&&(t<i||t===void 0&&i>=i)&&(t=i,r=a);else for(let i of e)(i=n(i,++a,e))!=null&&(t<i||t===void 0&&i>=i)&&(t=i,r=a);return r}function Is(e,n){let t,r=-1,a=-1;if(n===void 0)for(const i of e)++a,i!=null&&(t>i||t===void 0&&i>=i)&&(t=i,r=a);else for(let i of e)(i=n(i,++a,e))!=null&&(t>i||t===void 0&&i>=i)&&(t=i,r=a);return r}function Vi(e,n,t=0,r=1/0,a){if(n=Math.floor(n),t=Math.floor(Math.max(0,t)),r=Math.floor(Math.min(e.length-1,r)),!(t<=n&&n<=r))return e;for(a=a===void 0?tt:Ui(a);r>t;){if(r-t>600){const o=r-t+1,u=n-t+1,s=Math.log(o),b=.5*Math.exp(2*s/3),l=.5*Math.sqrt(s*b*(o-b)/o)*(u-o/2<0?-1:1),d=Math.max(t,Math.floor(n-u*b/o+l)),m=Math.min(r,Math.floor(n+(o-u)*b/o+l));Vi(e,n,d,m,a)}const i=e[n];let f=t,c=r;for(dn(e,t,n),a(e[r],i)>0&&dn(e,t,r);f<c;){for(dn(e,f,c),++f,--c;a(e[f],i)<0;)++f;for(;a(e[c],i)>0;)--c}a(e[t],i)===0?dn(e,t,c):(++c,dn(e,c,r)),c<=n&&(t=c+1),n<=c&&(r=c-1)}return e}function dn(e,n,t){const r=e[n];e[n]=e[t],e[t]=r}function rt(e,n,t){if(e=Float64Array.from(Gu(e,t)),!(!(r=e.length)||isNaN(n=+n))){if(n<=0||r<2)return xn(e);if(n>=1)return Te(e);var r,a=(r-1)*n,i=Math.floor(a),f=Te(Vi(e,i).subarray(0,i+1)),c=xn(e.subarray(i+1));return f+(c-f)*(a-i)}}function Ls(e,n,t=Zu){if(!(!(r=e.length)||isNaN(n=+n))){if(n<=0||r<2)return+t(e[0],0,e);if(n>=1)return+t(e[r-1],r-1,e);var r,a=(r-1)*n,i=Math.floor(a),f=+t(e[i],i,e),c=+t(e[i+1],i+1,e);return f+(c-f)*(a-i)}}function $r(e,n){return rt(e,.5,n)}function Ds(e,n){const t=new es;if(n===void 0)for(let i of e)i!=null&&i>=i&&t.set(i,(t.get(i)||0)+1);else{let i=-1;for(let f of e)(f=n(f,++i,e))!=null&&f>=f&&t.set(f,(t.get(f)||0)+1)}let r,a=0;for(const[i,f]of t)f>a&&(a=f,r=i);return r}function Nt(e,n){let t=0;if(n===void 0)for(let r of e)(r=+r)&&(t+=r);else{let r=-1;for(let a of e)(a=+n(a,++r,e))&&(t+=a)}return t}function at(e){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(e).reverse()}const Hi=Math.PI/180,Yi=180/Math.PI,it=18,Gi=.96422,Zi=1,Ki=.82521,Xi=4/29,Ze=6/29,Qi=3*Ze*Ze,Os=Ze*Ze*Ze;function ki(e){if(e instanceof de)return new de(e.l,e.a,e.b,e.opacity);if(e instanceof Me)return Ji(e);e instanceof wt||(e=Ri(e));var n=er(e.r),t=er(e.g),r=er(e.b),a=Qt((.2225045*n+.7168786*t+.0606169*r)/Zi),i,f;return n===t&&t===r?i=f=a:(i=Qt((.4360747*n+.3850649*t+.1430804*r)/Gi),f=Qt((.0139322*n+.0971045*t+.7141733*r)/Ki)),new de(116*a-16,500*(i-a),200*(a-f),e.opacity)}function Mr(e,n,t,r){return arguments.length===1?ki(e):new de(e,n,t,r??1)}function de(e,n,t,r){this.l=+e,this.a=+n,this.b=+t,this.opacity=+r}Vr(de,Mr,Hr(Yr,{brighter(e){return new de(this.l+it*(e??1),this.a,this.b,this.opacity)},darker(e){return new de(this.l-it*(e??1),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,n=isNaN(this.a)?e:e+this.a/500,t=isNaN(this.b)?e:e-this.b/200;return n=Gi*kt(n),e=Zi*kt(e),t=Ki*kt(t),new wt(Jt(3.1338561*n-1.6168667*e-.4906146*t),Jt(-.9787684*n+1.9161415*e+.033454*t),Jt(.0719453*n-.2289914*e+1.4052427*t),this.opacity)}}));function Qt(e){return e>Os?Math.pow(e,1/3):e/Qi+Xi}function kt(e){return e>Ze?e*e*e:Qi*(e-Xi)}function Jt(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function er(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function qs(e){if(e instanceof Me)return new Me(e.h,e.c,e.l,e.opacity);if(e instanceof de||(e=ki(e)),e.a===0&&e.b===0)return new Me(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var n=Math.atan2(e.b,e.a)*Yi;return new Me(n<0?n+360:n,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function xr(e,n,t,r){return arguments.length===1?qs(e):new Me(e,n,t,r??1)}function Me(e,n,t,r){this.h=+e,this.c=+n,this.l=+t,this.opacity=+r}function Ji(e){if(isNaN(e.h))return new de(e.l,0,0,e.opacity);var n=e.h*Hi;return new de(e.l,Math.cos(n)*e.c,Math.sin(n)*e.c,e.opacity)}Vr(Me,xr,Hr(Yr,{brighter(e){return new Me(this.h,this.c,this.l+it*(e??1),this.opacity)},darker(e){return new Me(this.h,this.c,this.l-it*(e??1),this.opacity)},rgb(){return Ji(this).rgb()}}));var ef=-.14861,ra=1.78277,aa=-.29227,Rt=-.90649,Tn=1.97294,ja=Tn*Rt,Wa=Tn*ra,_a=ra*aa-Rt*ef;function Ps(e){if(e instanceof Be)return new Be(e.h,e.s,e.l,e.opacity);e instanceof wt||(e=Ri(e));var n=e.r/255,t=e.g/255,r=e.b/255,a=(_a*r+ja*n-Wa*t)/(_a+ja-Wa),i=r-a,f=(Tn*(t-a)-aa*i)/Rt,c=Math.sqrt(f*f+i*i)/(Tn*a*(1-a)),o=c?Math.atan2(f,i)*Yi-120:NaN;return new Be(o<0?o+360:o,c,a,e.opacity)}function be(e,n,t,r){return arguments.length===1?Ps(e):new Be(e,n,t,r??1)}function Be(e,n,t,r){this.h=+e,this.s=+n,this.l=+t,this.opacity=+r}Vr(Be,be,Hr(Yr,{brighter(e){return e=e==null?Ra:Math.pow(Ra,e),new Be(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ia:Math.pow(Ia,e),new Be(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*Hi,n=+this.l,t=isNaN(this.s)?0:this.s*n*(1-n),r=Math.cos(e),a=Math.sin(e);return new wt(255*(n+t*(ef*r+ra*a)),255*(n+t*(aa*r+Rt*a)),255*(n+t*(Tn*r)),this.opacity)}}));function Bs(e){return function(n,t){var r=e((n=La(n)).h,(t=La(t)).h),a=Z(n.s,t.s),i=Z(n.l,t.l),f=Z(n.opacity,t.opacity);return function(c){return n.h=r(c),n.s=a(c),n.l=i(c),n.opacity=f(c),n+""}}}const Fs=Bs(Gr);function zs(e,n){var t=Z((e=Mr(e)).l,(n=Mr(n)).l),r=Z(e.a,n.a),a=Z(e.b,n.b),i=Z(e.opacity,n.opacity);return function(f){return e.l=t(f),e.a=r(f),e.b=a(f),e.opacity=i(f),e+""}}function js(e){return function(n,t){var r=e((n=xr(n)).h,(t=xr(t)).h),a=Z(n.c,t.c),i=Z(n.l,t.l),f=Z(n.opacity,t.opacity);return function(c){return n.h=r(c),n.c=a(c),n.l=i(c),n.opacity=f(c),n+""}}}const Ws=js(Gr);function nf(e){return function n(t){t=+t;function r(a,i){var f=e((a=be(a)).h,(i=be(i)).h),c=Z(a.s,i.s),o=Z(a.l,i.l),u=Z(a.opacity,i.opacity);return function(s){return a.h=f(s),a.s=c(s),a.l=o(Math.pow(s,t)),a.opacity=u(s),a+""}}return r.gamma=n,r}(1)}nf(Gr);var ia=nf(Z);function fa(e,n){n===void 0&&(n=e,e=ji);for(var t=0,r=n.length-1,a=n[0],i=new Array(r<0?0:r);t<r;)i[t]=e(a,a=n[++t]);return function(f){var c=Math.max(0,Math.min(r-1,Math.floor(f*=r)));return i[c](f-c)}}function fe(e,n){for(var t=new Array(n),r=0;r<n;++r)t[r]=e(r/(n-1));return t}var nr=new ke,Tr=new ke,tf,rf,Sr,Ar,Ie={point:Pe,lineStart:Pe,lineEnd:Pe,polygonStart:function(){Ie.lineStart=_s,Ie.lineEnd=Vs},polygonEnd:function(){Ie.lineStart=Ie.lineEnd=Ie.point=Pe,nr.add(Fe(Tr)),Tr=new ke},result:function(){var e=nr/2;return nr=new ke,e}};function _s(){Ie.point=Us}function Us(e,n){Ie.point=af,tf=Sr=e,rf=Ar=n}function af(e,n){Tr.add(Ar*e-Sr*n),Sr=e,Ar=n}function Vs(){af(tf,rf)}const Ua=Ie;var Er=0,Cr=0,hn=0,ft=0,ct=0,Ge=0,Nr=0,Rr=0,mn=0,ff,cf,oe,ue,re={point:ze,lineStart:Va,lineEnd:Ha,polygonStart:function(){re.lineStart=Gs,re.lineEnd=Zs},polygonEnd:function(){re.point=ze,re.lineStart=Va,re.lineEnd=Ha},result:function(){var e=mn?[Nr/mn,Rr/mn]:Ge?[ft/Ge,ct/Ge]:hn?[Er/hn,Cr/hn]:[NaN,NaN];return Er=Cr=hn=ft=ct=Ge=Nr=Rr=mn=0,e}};function ze(e,n){Er+=e,Cr+=n,++hn}function Va(){re.point=Hs}function Hs(e,n){re.point=Ys,ze(oe=e,ue=n)}function Ys(e,n){var t=e-oe,r=n-ue,a=le(t*t+r*r);ft+=a*(oe+e)/2,ct+=a*(ue+n)/2,Ge+=a,ze(oe=e,ue=n)}function Ha(){re.point=ze}function Gs(){re.point=Ks}function Zs(){of(ff,cf)}function Ks(e,n){re.point=of,ze(ff=oe=e,cf=ue=n)}function of(e,n){var t=e-oe,r=n-ue,a=le(t*t+r*r);ft+=a*(oe+e)/2,ct+=a*(ue+n)/2,Ge+=a,a=ue*e-oe*n,Nr+=a*(oe+e),Rr+=a*(ue+n),mn+=a*3,ze(oe=e,ue=n)}const Ya=re;function uf(e){this._context=e}uf.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,n){switch(this._point){case 0:{this._context.moveTo(e,n),this._point=1;break}case 1:{this._context.lineTo(e,n);break}default:{this._context.moveTo(e+this._radius,n),this._context.arc(e,n,this._radius,0,rs);break}}},result:Pe};var Ir=new ke,tr,sf,df,pn,gn,ot={point:Pe,lineStart:function(){ot.point=Xs},lineEnd:function(){tr&&lf(sf,df),ot.point=Pe},polygonStart:function(){tr=!0},polygonEnd:function(){tr=null},result:function(){var e=+Ir;return Ir=new ke,e}};function Xs(e,n){ot.point=lf,sf=pn=e,df=gn=n}function lf(e,n){pn-=e,gn-=n,Ir.add(le(pn*pn+gn*gn)),pn=e,gn=n}const Ga=ot;let Za,ut,Ka,Xa;class Qa{constructor(n){this._append=n==null?bf:Qs(n),this._radius=4.5,this._=""}pointRadius(n){return this._radius=+n,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(n,t){switch(this._point){case 0:{this._append`M${n},${t}`,this._point=1;break}case 1:{this._append`L${n},${t}`;break}default:{if(this._append`M${n},${t}`,this._radius!==Ka||this._append!==ut){const r=this._radius,a=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,Ka=r,ut=this._append,Xa=this._,this._=a}this._+=Xa;break}}}result(){const n=this._;return this._="",n.length?n:null}}function bf(e){let n=1;this._+=e[0];for(const t=e.length;n<t;++n)this._+=arguments[n]+e[n]}function Qs(e){const n=Math.floor(e);if(!(n>=0))throw new RangeError(`invalid digits: ${e}`);if(n>15)return bf;if(n!==Za){const t=10**n;Za=n,ut=function(a){let i=1;this._+=a[0];for(const f=a.length;i<f;++i)this._+=Math.round(arguments[i]*t)/t+a[i]}}return ut}function hf(e,n){let t=3,r=4.5,a,i;function f(c){return c&&(typeof r=="function"&&i.pointRadius(+r.apply(this,arguments)),sn(c,a(i))),i.result()}return f.area=function(c){return sn(c,a(Ua)),Ua.result()},f.measure=function(c){return sn(c,a(Ga)),Ga.result()},f.bounds=function(c){return sn(c,a(Ba)),Ba.result()},f.centroid=function(c){return sn(c,a(Ya)),Ya.result()},f.projection=function(c){return arguments.length?(a=c==null?(e=null,as):(e=c).stream,f):e},f.context=function(c){return arguments.length?(i=c==null?(n=null,new Qa(t)):new uf(n=c),typeof r!="function"&&i.pointRadius(r),f):n},f.pointRadius=function(c){return arguments.length?(r=typeof c=="function"?c:(i.pointRadius(+c),+c),f):r},f.digits=function(c){if(!arguments.length)return t;if(c==null)t=null;else{const o=Math.floor(c);if(!(o>=0))throw new RangeError(`invalid digits: ${c}`);t=o}return n===null&&(i=new Qa(t)),f},f.projection(e).digits(t).context(n)}function ca(e){var n=0,t=Mt/3,r=is(e),a=r(n,t);return a.parallels=function(i){return arguments.length?r(n=i[0]*Fa,t=i[1]*Fa):[n*za,t*za]},a}function ks(e){var n=_(e);function t(r,a){return[r*n,B(a)/n]}return t.invert=function(r,a){return[r/n,We(a*n)]},t}function Js(e,n){var t=B(e),r=(t+B(n))/2;if(Fe(r)<G)return ks(e);var a=1+t*(2*r-t),i=le(a)/r;function f(c,o){var u=le(a-2*r*B(o))/r;return[u*B(c*=r),i-u*_(c)]}return f.invert=function(c,o){var u=i-o,s=xt(c,Fe(u))*ae(u);return u*r<0&&(s-=Mt*ae(c)*ae(u)),[s/r,We((a-(c*c+u*u)*r*r)/(2*r))]},f}function st(){return ca(Js).scale(155.424).center([0,33.6442])}function mf(){return st().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function ed(e){var n=e.length;return{point:function(t,r){for(var a=-1;++a<n;)e[a].point(t,r)},sphere:function(){for(var t=-1;++t<n;)e[t].sphere()},lineStart:function(){for(var t=-1;++t<n;)e[t].lineStart()},lineEnd:function(){for(var t=-1;++t<n;)e[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<n;)e[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<n;)e[t].polygonEnd()}}}function nd(){var e,n,t=mf(),r,a=st().rotate([154,0]).center([-2,58.5]).parallels([55,65]),i,f=st().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c,o,u={point:function(l,d){o=[l,d]}};function s(l){var d=l[0],m=l[1];return o=null,r.point(d,m),o||(i.point(d,m),o)||(c.point(d,m),o)}s.invert=function(l){var d=t.scale(),m=t.translate(),h=(l[0]-m[0])/d,p=(l[1]-m[1])/d;return(p>=.12&&p<.234&&h>=-.425&&h<-.214?a:p>=.166&&p<.234&&h>=-.214&&h<-.115?f:t).invert(l)},s.stream=function(l){return e&&n===l?e:e=ed([t.stream(n=l),a.stream(l),f.stream(l)])},s.precision=function(l){return arguments.length?(t.precision(l),a.precision(l),f.precision(l),b()):t.precision()},s.scale=function(l){return arguments.length?(t.scale(l),a.scale(l*.35),f.scale(l),s.translate(t.translate())):t.scale()},s.translate=function(l){if(!arguments.length)return t.translate();var d=t.scale(),m=+l[0],h=+l[1];return r=t.translate(l).clipExtent([[m-.455*d,h-.238*d],[m+.455*d,h+.238*d]]).stream(u),i=a.translate([m-.307*d,h+.201*d]).clipExtent([[m-.425*d+G,h+.12*d+G],[m-.214*d-G,h+.234*d-G]]).stream(u),c=f.translate([m-.205*d,h+.212*d]).clipExtent([[m-.214*d+G,h+.166*d+G],[m-.115*d-G,h+.234*d-G]]).stream(u),b()},s.fitExtent=function(l,d){return fs(s,l,d)},s.fitSize=function(l,d){return cs(s,l,d)},s.fitWidth=function(l,d){return os(s,l,d)},s.fitHeight=function(l,d){return us(s,l,d)};function b(){return e=n=null,s}return s.scale(1070)}function pf(e){return function(n,t){var r=_(n),a=_(t),i=e(r*a);return i===1/0?[2,0]:[i*a*B(n),i*B(t)]}}function In(e){return function(n,t){var r=le(n*n+t*t),a=e(r),i=B(a),f=_(a);return[xt(n*i,r*f),We(r&&t*i/r)]}}var gf=pf(function(e){return le(2/(1+e))});gf.invert=In(function(e){return 2*We(e/2)});function td(){return _e(gf).scale(124.75).clipAngle(180-.001)}var yf=pf(function(e){return(e=ss(e))&&e/B(e)});yf.invert=In(function(e){return e});function rd(){return _e(yf).scale(79.4188).clipAngle(180-.001)}function jn(e){return Bi((Re+e)/2)}function ad(e,n){var t=_(e),r=e===n?B(e):gr(t/_(n))/gr(jn(n)/jn(e)),a=t*Xt(jn(e),r)/r;if(!r)return ds;function i(f,c){a>0?c<-Re+G&&(c=-Re+G):c>Re-G&&(c=Re-G);var o=a/Xt(jn(c),r);return[o*B(r*f),a-o*_(r*f)]}return i.invert=function(f,c){var o=a-c,u=ae(r)*le(f*f+o*o),s=xt(f,Fe(o))*ae(o);return o*r<0&&(s-=Mt*ae(f)*ae(o)),[s/r,2*Tt(Xt(a/u,1/r))-Re]},i}function id(){return ca(ad).scale(109.5).parallels([30,30])}function dt(e,n){return[e,n]}dt.invert=dt;function fd(){return _e(dt).scale(152.63)}function cd(e,n){var t=_(e),r=e===n?B(e):(t-_(n))/(n-e),a=t/r+e;if(Fe(r)<G)return dt;function i(f,c){var o=a-c,u=r*f;return[o*B(u),a-o*_(u)]}return i.invert=function(f,c){var o=a-c,u=xt(f,Fe(o))*ae(o);return o*r<0&&(u-=Mt*ae(f)*ae(o)),[u/r,a-ae(r)*le(f*f+o*o)]},i}function od(){return ca(cd).scale(131.154).center([0,13.9389])}var wn=1.340264,vn=-.081106,$n=893e-6,Mn=.003796,lt=le(3)/2,ud=12;function wf(e,n){var t=We(lt*B(n)),r=t*t,a=r*r*r;return[e*_(t)/(lt*(wn+3*vn*r+a*(7*$n+9*Mn*r))),t*(wn+vn*r+a*($n+Mn*r))]}wf.invert=function(e,n){for(var t=n,r=t*t,a=r*r*r,i=0,f,c,o;i<ud&&(c=t*(wn+vn*r+a*($n+Mn*r))-n,o=wn+3*vn*r+a*(7*$n+9*Mn*r),t-=f=c/o,r=t*t,a=r*r*r,!(Fe(f)<ls));++i);return[lt*e*(wn+3*vn*r+a*(7*$n+9*Mn*r))/_(t),We(B(t)/lt)]};function sd(){return _e(wf).scale(177.158)}function vf(e,n){var t=_(n),r=_(e)*t;return[t*B(e)/r,B(n)/r]}vf.invert=In(Tt);function dd(){return _e(vf).scale(144.049).clipAngle(60)}function $f(e,n){return[_(n)*B(e),B(n)]}$f.invert=In(We);function ld(){return _e($f).scale(249.5).clipAngle(90+G)}function Mf(e,n){var t=_(n),r=1+_(e)*t;return[t*B(e)/r,B(n)/r]}Mf.invert=In(function(e){return 2*Tt(e)});function bd(){return _e(Mf).scale(250).clipAngle(142)}function xf(e,n){return[gr(Bi((Re+n)/2)),-e]}xf.invert=function(e,n){return[-n,2*Tt(hs(e))-Re]};function hd(){var e=bs(xf),n=e.center,t=e.rotate;return e.center=function(r){return arguments.length?n([-r[1],r[0]]):(r=n(),[r[1],-r[0]])},e.rotate=function(r){return arguments.length?t([r[0],r[1],r.length>2?r[2]+90:90]):(r=t(),[r[0],r[1],r[2]-90])},t([0,0,90]).scale(159.155)}function Tf(e){var n;function t(r){return r==null||isNaN(r=+r)?n:r}return t.invert=t,t.domain=t.range=function(r){return arguments.length?(e=Array.from(r,qa),t):e.slice()},t.unknown=function(r){return arguments.length?(n=r,t):n},t.copy=function(){return Tf(e).unknown(n)},e=arguments.length?Array.from(e,qa):[0,1],At(t)}function ka(e){return function(n){return Math.sign(n)*Math.log1p(Math.abs(n/e))}}function Ja(e){return function(n){return Math.sign(n)*Math.expm1(Math.abs(n))*e}}function Sf(e){var n=1,t=e(ka(n),Ja(n));return t.constant=function(r){return arguments.length?e(ka(n=+r),Ja(n)):n},At(t)}function Af(){var e=Sf(Li());return e.copy=function(){return Jr(e,Af()).constant(e.constant())},rn.apply(e,arguments)}function ei(e){return function(n){return n<0?-Math.pow(-n,e):Math.pow(n,e)}}function md(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function pd(e){return e<0?-e*e:e*e}function Ef(e){var n=e(Ye,Ye),t=1;function r(){return t===1?e(Ye,Ye):t===.5?e(md,pd):e(ei(t),ei(1/t))}return n.exponent=function(a){return arguments.length?(t=+a,r()):t},At(n)}function Cf(){var e=Ef(Li());return e.copy=function(){return Jr(e,Cf()).exponent(e.exponent())},rn.apply(e,arguments),e}function Nf(){var e=[],n=[],t=[],r;function a(){var f=0,c=Math.max(1,n.length);for(t=new Array(c-1);++f<c;)t[f-1]=Ls(e,f/c);return i}function i(f){return f==null||isNaN(f=+f)?r:n[Di(t,f)]}return i.invertExtent=function(f){var c=n.indexOf(f);return c<0?[NaN,NaN]:[c>0?t[c-1]:e[0],c<t.length?t[c]:e[e.length-1]]},i.domain=function(f){if(!arguments.length)return e.slice();e=[];for(let c of f)c!=null&&!isNaN(c=+c)&&e.push(c);return e.sort(kn),a()},i.range=function(f){return arguments.length?(n=Array.from(f),a()):n.slice()},i.unknown=function(f){return arguments.length?(r=f,i):r},i.quantiles=function(){return t.slice()},i.copy=function(){return Nf().domain(e).range(n).unknown(r)},rn.apply(i,arguments)}function Rf(){var e=[.5],n=[0,1],t,r=1;function a(i){return i!=null&&i<=i?n[Di(e,i,0,r)]:t}return a.domain=function(i){return arguments.length?(e=Array.from(i),r=Math.min(e.length,n.length-1),a):e.slice()},a.range=function(i){return arguments.length?(n=Array.from(i),r=Math.min(e.length,n.length-1),a):n.slice()},a.invertExtent=function(i){var f=n.indexOf(i);return[e[f-1],e[f]]},a.unknown=function(i){return arguments.length?(t=i,a):t},a.copy=function(){return Rf().domain(e).range(n).unknown(t)},rn.apply(a,arguments)}const bt=Ae(()=>{},(e,n)=>{e.setTime(+e+n)},(e,n)=>n-e);bt.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Ae(n=>{n.setTime(Math.floor(n/e)*e)},(n,t)=>{n.setTime(+n+t*e)},(n,t)=>(t-n)/e):bt);bt.range;const xe=Ae(e=>{e.setTime(e-e.getMilliseconds())},(e,n)=>{e.setTime(+e+n*Le)},(e,n)=>(n-e)/Le,e=>e.getUTCSeconds());xe.range;const It=Ae(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Le)},(e,n)=>{e.setTime(+e+n*$e)},(e,n)=>(n-e)/$e,e=>e.getMinutes());It.range;const Lt=Ae(e=>{e.setUTCSeconds(0,0)},(e,n)=>{e.setTime(+e+n*$e)},(e,n)=>(n-e)/$e,e=>e.getUTCMinutes());Lt.range;const Dt=Ae(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Le-e.getMinutes()*$e)},(e,n)=>{e.setTime(+e+n*De)},(e,n)=>(n-e)/De,e=>e.getHours());Dt.range;const Ot=Ae(e=>{e.setUTCMinutes(0,0,0)},(e,n)=>{e.setTime(+e+n*De)},(e,n)=>(n-e)/De,e=>e.getUTCHours());Ot.range;const Ke=Ae(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,n)=>{e.setMonth(e.getMonth()+n)},(e,n)=>n.getMonth()-e.getMonth()+(n.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Ke.range;const Xe=Ae(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCMonth(e.getUTCMonth()+n)},(e,n)=>n.getUTCMonth()-e.getUTCMonth()+(n.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Xe.range;function If(e,n,t,r,a,i){const f=[[xe,1,Le],[xe,5,5*Le],[xe,15,15*Le],[xe,30,30*Le],[i,1,$e],[i,5,5*$e],[i,15,15*$e],[i,30,30*$e],[a,1,De],[a,3,3*De],[a,6,6*De],[a,12,12*De],[r,1,Da],[r,2,2*Da],[t,1,Iu],[n,1,Oa],[n,3,3*Oa],[e,1,Kt]];function c(u,s,b){const l=s<u;l&&([u,s]=[s,u]);const d=b&&typeof b.range=="function"?b:o(u,s,b),m=d?d.range(u,+s+1):[];return l?m.reverse():m}function o(u,s,b){const l=Math.abs(s-u)/b,d=Ku(([,,p])=>p).right(f,l);if(d===f.length)return e.every(Pa(u/Kt,s/Kt,b));if(d===0)return bt.every(Math.max(Pa(u,s,b),1));const[m,h]=f[l/f[d-1][2]<f[d][2]/l?d-1:d];return m.every(h)}return[c,o]}const[gd,yd]=If(Kr,Xe,Jn,Lu,Ot,Lt),[wd,vd]=If(Xr,Ke,et,Qr,Dt,It);function $d(e){return new Date(e)}function Md(e){return e instanceof Date?+e:+new Date(+e)}function oa(e,n,t,r,a,i,f,c,o,u){var s=Xu(),b=s.invert,l=s.domain,d=u(".%L"),m=u(":%S"),h=u("%I:%M"),p=u("%I %p"),g=u("%a %d"),w=u("%b %d"),v=u("%B"),y=u("%Y");function $(M){return(o(M)<M?d:c(M)<M?m:f(M)<M?h:i(M)<M?p:r(M)<M?a(M)<M?g:w:t(M)<M?v:y)(M)}return s.invert=function(M){return new Date(b(M))},s.domain=function(M){return arguments.length?l(Array.from(M,Md)):l().map($d)},s.ticks=function(M){var S=l();return e(S[0],S[S.length-1],M??10)},s.tickFormat=function(M,S){return S==null?$:u(S)},s.nice=function(M){var S=l();return(!M||typeof M.range!="function")&&(M=n(S[0],S[S.length-1],M??10)),M?l(ws(S,M)):s},s.copy=function(){return Jr(s,oa(e,n,t,r,a,i,f,c,o,u))},s}function xd(){return rn.apply(oa(wd,vd,Xr,Ke,et,Qr,Dt,It,xe,Du).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Td(){return rn.apply(oa(gd,yd,Kr,Xe,Jn,Ii,Ot,Lt,xe,kr).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function qt(){var e=0,n=.5,t=1,r=1,a,i,f,c,o,u=Ye,s,b=!1,l;function d(h){return isNaN(h=+h)?l:(h=.5+((h=+s(h))-i)*(r*h<r*i?c:o),u(b?Math.max(0,Math.min(1,h)):h))}d.domain=function(h){return arguments.length?([e,n,t]=h,a=s(e=+e),i=s(n=+n),f=s(t=+t),c=a===i?0:.5/(i-a),o=i===f?0:.5/(f-i),r=i<a?-1:1,d):[e,n,t]},d.clamp=function(h){return arguments.length?(b=!!h,d):b},d.interpolator=function(h){return arguments.length?(u=h,d):u};function m(h){return function(p){var g,w,v;return arguments.length?([g,w,v]=p,u=fa(h,[g,w,v]),d):[u(0),u(.5),u(1)]}}return d.range=m(ji),d.rangeRound=m(Oi),d.unknown=function(h){return arguments.length?(l=h,d):l},function(h){return s=h,a=h(e),i=h(n),f=h(t),c=a===i?0:.5/(i-a),o=i===f?0:.5/(f-i),r=i<a?-1:1,d}}function Lf(){var e=At(qt()(Ye));return e.copy=function(){return St(e,Lf())},Et.apply(e,arguments)}function Df(){var e=vs(qt()).domain([.1,1,10]);return e.copy=function(){return St(e,Df()).base(e.base())},Et.apply(e,arguments)}function Of(){var e=Sf(qt());return e.copy=function(){return St(e,Of()).constant(e.constant())},Et.apply(e,arguments)}function qf(){var e=Ef(qt());return e.copy=function(){return St(e,qf()).exponent(e.exponent())},Et.apply(e,arguments)}const Sd=N("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Ad=N("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),Ed=N("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),Cd=N("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),Nd=N("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),Rd=N("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),Id=N("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),Ld=N("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),Dd=N("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");var Pf=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(N);const Bf=D(Pf);var Ff=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(N);const zf=D(Ff);var jf=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(N);const Wf=D(jf);var _f=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(N);const Uf=D(_f);var Lr=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(N);const ht=D(Lr);var Vf=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(N);const Hf=D(Vf);var Dr=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(N);const mt=D(Dr);var Yf=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(N);const Gf=D(Yf);var Zf=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(N);const Kf=D(Zf);var Xf=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(N);const Qf=D(Xf);var kf=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(N);const Jf=D(kf);var ec=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(N);const nc=D(ec);var tc=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(N);const rc=D(tc);var ac=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(N);const ic=D(ac);var fc=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(N);const cc=D(fc);var oc=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(N);const uc=D(oc);var sc=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(N);const dc=D(sc);var lc=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(N);const bc=D(lc);var hc=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(N);const mc=D(hc);var pc=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(N);const gc=D(pc);var yc=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(N);const wc=D(yc);var vc=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(N);const $c=D(vc);var Mc=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(N);const xc=D(Mc);var Tc=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(N);const Sc=D(Tc);var Ac=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(N);const Ec=D(Ac);var Cc=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(N);const Nc=D(Cc);function Rc(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-e*(35.34-e*(2381.73-e*(6402.7-e*(7024.72-e*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+e*(170.73+e*(52.82-e*(131.46-e*(176.58-e*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+e*(442.36-e*(2482.43-e*(6167.24-e*(6614.94-e*2475.67)))))))+")"}const Ic=ia(be(300,.5,0),be(-240,.5,1));var Lc=ia(be(-100,.75,.35),be(80,1.5,.8)),Dc=ia(be(260,.75,.35),be(80,1.5,.8)),Wn=be();function Oc(e){(e<0||e>1)&&(e-=Math.floor(e));var n=Math.abs(e-.5);return Wn.h=360*e-100,Wn.s=1.5-1.5*n,Wn.l=.8-.9*n,Wn+""}var _n=Xn(),Od=Math.PI/3,qd=Math.PI*2/3;function qc(e){var n;return e=(.5-e)*Math.PI,_n.r=255*(n=Math.sin(e))*n,_n.g=255*(n=Math.sin(e+Od))*n,_n.b=255*(n=Math.sin(e+qd))*n,_n+""}function Pc(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+e*(1172.33-e*(10793.56-e*(33300.12-e*(38394.49-e*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+e*(557.33+e*(1225.33-e*(3574.96-e*(1073.77+e*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+e*(3211.1-e*(15327.97-e*(27814-e*(22569.18-e*6838.66)))))))+")"}function Pt(e){var n=e.length;return function(t){return e[Math.max(0,Math.min(n-1,Math.floor(t*n)))]}}const Bc=Pt(N("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var Fc=Pt(N("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),zc=Pt(N("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),jc=Pt(N("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));const Pd=j(3),Wc={draw(e,n){const t=j(n+ea(n/28,.75))*.59436,r=t/2,a=r*Pd;e.moveTo(0,t),e.lineTo(0,-t),e.moveTo(-a,-r),e.lineTo(a,r),e.moveTo(-a,r),e.lineTo(a,-r)}},ua={draw(e,n){const t=j(n/pr);e.moveTo(t,0),e.arc(0,0,t,0,$t)}},_c={draw(e,n){const t=j(n/5)/2;e.moveTo(-3*t,-t),e.lineTo(-t,-t),e.lineTo(-t,-3*t),e.lineTo(t,-3*t),e.lineTo(t,-t),e.lineTo(3*t,-t),e.lineTo(3*t,t),e.lineTo(t,t),e.lineTo(t,3*t),e.lineTo(-t,3*t),e.lineTo(-t,t),e.lineTo(-3*t,t),e.closePath()}},Uc=j(1/3),Bd=Uc*2,Vc={draw(e,n){const t=j(n/Bd),r=t*Uc;e.moveTo(0,-t),e.lineTo(r,0),e.lineTo(0,t),e.lineTo(-r,0),e.closePath()}},Hc={draw(e,n){const t=j(n)*.62625;e.moveTo(0,-t),e.lineTo(t,0),e.lineTo(0,t),e.lineTo(-t,0),e.closePath()}},Yc={draw(e,n){const t=j(n-ea(n/7,2))*.87559;e.moveTo(-t,0),e.lineTo(t,0),e.moveTo(0,t),e.lineTo(0,-t)}},Gc={draw(e,n){const t=j(n),r=-t/2;e.rect(r,r,t,t)}},Zc={draw(e,n){const t=j(n)*.4431;e.moveTo(t,t),e.lineTo(t,-t),e.lineTo(-t,-t),e.lineTo(-t,t),e.closePath()}},Fd=.8908130915292852,Kc=nt(pr/10)/nt(7*pr/10),zd=nt($t/10)*Kc,jd=-qi($t/10)*Kc,Xc={draw(e,n){const t=j(n*Fd),r=zd*t,a=jd*t;e.moveTo(0,-t),e.lineTo(r,a);for(let i=1;i<5;++i){const f=$t*i/5,c=qi(f),o=nt(f);e.lineTo(o*t,-c*t),e.lineTo(c*r-o*a,o*r+c*a)}e.closePath()}},rr=j(3),Qc={draw(e,n){const t=-j(n/(rr*3));e.moveTo(0,t*2),e.lineTo(-rr*t,-t),e.lineTo(rr*t,-t),e.closePath()}},Wd=j(3),kc={draw(e,n){const t=j(n)*.6824,r=t/2,a=t*Wd/2;e.moveTo(0,-t),e.lineTo(a,r),e.lineTo(-a,r),e.closePath()}},J=-.5,ee=j(3)/2,Or=1/j(12),_d=(Or/2+1)*3,Jc={draw(e,n){const t=j(n/_d),r=t/2,a=t*Or,i=r,f=t*Or+t,c=-i,o=f;e.moveTo(r,a),e.lineTo(i,f),e.lineTo(c,o),e.lineTo(J*r-ee*a,ee*r+J*a),e.lineTo(J*i-ee*f,ee*i+J*f),e.lineTo(J*c-ee*o,ee*c+J*o),e.lineTo(J*r+ee*a,J*a-ee*r),e.lineTo(J*i+ee*f,J*f-ee*i),e.lineTo(J*c+ee*o,J*o-ee*c),e.closePath()}},eo={draw(e,n){const t=j(n-ea(n/6,1.7))*.6189;e.moveTo(-t,-t),e.lineTo(t,t),e.moveTo(-t,t),e.lineTo(t,-t)}},Ud=[ua,_c,Vc,Gc,Xc,Qc,Jc],Vd=[ua,Yc,eo,kc,Wc,Zc,Hc];function en(e){return e!=null&&!Number.isNaN(e)}function je(e,n){return+en(n)-+en(e)||kn(e,n)}function no(e,n){return+en(n)-+en(e)||vt(e,n)}function sa(e){return e!=null&&`${e}`!=""}function to(e){return isFinite(e)?e:NaN}function da(e){return e>0&&isFinite(e)?e:NaN}function ro(e){return e<0&&isFinite(e)?e:NaN}function Hd(e,n){if(e instanceof Date||(e=new Date(+e)),isNaN(e))return typeof n=="function"?n(e):n;const t=e.getUTCHours(),r=e.getUTCMinutes(),a=e.getUTCSeconds(),i=e.getUTCMilliseconds();return`${Yd(e.getUTCFullYear())}-${ve(e.getUTCMonth()+1,2)}-${ve(e.getUTCDate(),2)}${t||r||a||i?`T${ve(t,2)}:${ve(r,2)}${a||i?`:${ve(a,2)}${i?`.${ve(i,3)}`:""}`:""}Z`:""}`}function Yd(e){return e<0?`-${ve(-e,6)}`:e>9999?`+${ve(e,6)}`:ve(e,4)}function ve(e,n){return`${e}`.padStart(n,"0")}const Gd=/^(?:[-+]\d{2})?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{3})?)?(?:Z|[-+]\d{2}:?\d{2})?)?$/;function ao(e,n){return Gd.test(e+="")?new Date(e):typeof n=="function"?n(e):n}const Zd=new Map([["second",xe],["minute",It],["hour",Dt],["day",Qr],["week",et],["month",Ke],["quarter",Ke.every(3)],["half",Ke.every(6)],["year",Xr],["monday",Ou],["tuesday",qu],["wednesday",Pu],["thursday",Bu],["friday",Fu],["saturday",zu],["sunday",et]]),Kd=new Map([["second",xe],["minute",Lt],["hour",Ot],["day",Ii],["week",Jn],["month",Xe],["quarter",Xe.every(3)],["half",Xe.every(6)],["year",Kr],["monday",ju],["tuesday",Wu],["wednesday",_u],["thursday",Uu],["friday",Vu],["saturday",Hu],["sunday",Jn]]);function Xd(e){const n=Zd.get(`${e}`.toLowerCase());if(!n)throw new Error(`unknown interval: ${e}`);return n}function Qd(e){const n=Kd.get(`${e}`.toLowerCase());if(!n)throw new Error(`unknown interval: ${e}`);return n}const Sn=Object.getPrototypeOf(Uint8Array),kd=Object.prototype.toString;function Se(e,n,t){const r=typeof n;return r==="string"?ni(e,el(n),t):r==="function"?ni(e,n,t):r==="number"||n instanceof Date||r==="boolean"?H(e,an(n),t):typeof(n==null?void 0:n.transform)=="function"?ti(n.transform(e),t):ti(n,t)}function ni(e,n,t){return H(e,(t==null?void 0:t.prototype)instanceof Sn?Jd(n):n,t)}function ti(e,n){return n===void 0?he(e):e instanceof n?e:n.prototype instanceof Sn&&!(e instanceof Sn)?n.from(e,ba):n.from(e)}function Jd(e){return(n,t)=>ba(e(n,t))}const el=e=>n=>n[e],nl=(e,n)=>n,Ee={transform:e=>e},nh=()=>1,tl=()=>!0,ie=e=>e==null?e:`${e}`,V=e=>e==null?e:+e,la=e=>e?e[0]:void 0,qr=e=>e?e[1]:void 0,an=e=>()=>e;function rl(e){const n=+`${e}`.slice(1)/100;return(t,r)=>rt(t,n,r)}function pt(e){return e instanceof Sn?e:H(e,ba,Float64Array)}function ba(e){return e==null?NaN:Number(e)}function al(e){return H(e,il)}function il(e){return e instanceof Date&&!isNaN(e)?e:typeof e=="string"?ao(e):e==null||isNaN(e=+e)?void 0:new Date(e)}function nn(e,n){return e===void 0&&(e=n),e===null?[void 0,"none"]:Ft(e)?[void 0,e]:[e,void 0]}function ne(e,n){return e===void 0&&(e=n),e===null||typeof e=="number"?[void 0,e]:[e,void 0]}function io(e,n,t){if(e!=null)return Ce(e,n,t)}function Ce(e,n,t){const r=`${e}`.toLowerCase();if(!t.includes(r))throw new Error(`invalid ${n}: ${e}`);return r}function he(e){return e==null||e instanceof Array||e instanceof Sn?e:Array.from(e)}function H(e,n,t=Array){return e==null?e:e instanceof t?e.map(n):t.from(e,n)}function Pr(e,n=Array){return e instanceof n?e.slice():n.from(e)}function fn(e){return(e==null?void 0:e.toString)===kd}function Br(e){return fn(e)&&(e.type!==void 0||e.domain!==void 0)}function Bt(e){return fn(e)&&typeof e.transform!="function"}function tn(e){return Bt(e)&&e.value===void 0&&e.channel===void 0}function th(e,n,t,r=Ee){return n===void 0&&t===void 0?(n=0,t=e===void 0?r:e):n===void 0?n=e===void 0?0:e:t===void 0&&(t=e===void 0?0:e),[n,t]}function fl(e,n){return e===void 0&&n===void 0?[la,qr]:[e,n]}function rh({z:e,fill:n,stroke:t}={}){return e===void 0&&([e]=nn(n)),e===void 0&&([e]=nn(t)),e}function Ln(e){const n=e.length,t=new Uint32Array(n);for(let r=0;r<n;++r)t[r]=r;return t}function fo(e,n){return H(n,t=>e[t])}function ar(e){return e!==null&&typeof e=="object"?e.valueOf():e}function cl(e,n){if(n[e]!==void 0)return n[e];switch(e){case"x1":case"x2":e="x";break;case"y1":case"y2":e="y";break}return n[e]}function co(e){let n;return[{transform:()=>n,label:cn(e)},t=>n=t]}function ah(e){return e==null?[e]:co(e)}function cn(e,n){return typeof e=="string"?e:e&&e.label!==void 0?e.label:n}function ih(e,n){return{transform(t){const r=e.transform(t),a=n.transform(t);return ce(r)||ce(a)?H(r,(i,f)=>new Date((+r[f]+ +a[f])/2)):H(r,(i,f)=>(+r[f]+ +a[f])/2,Float64Array)},label:e.label}}function ha(e,n){if(e!=null){if(typeof e=="number"){const t=e;return{floor:r=>t*Math.floor(r/t),offset:r=>r+t,range:(r,a)=>ku(Math.ceil(r/t),a/t).map(i=>t*i)}}if(typeof e=="string")return(n==="time"?Xd:Qd)(e);if(typeof e.floor!="function")throw new Error("invalid interval; missing floor method");if(typeof e.offset!="function")throw new Error("invalid interval; missing offset method");return e}}function Dn(e,n){if(e=ha(e,n),e&&typeof e.range!="function")throw new Error("invalid interval: missing range method");return e}function ol(e,n){if(e=Dn(e,n),e&&typeof e.ceil!="function")throw new Error("invalid interval: missing ceil method");return e}function ma(e){return e===void 0||Bt(e)?e:{value:e}}function ul(e){return e==null?null:{transform:n=>Se(n,e,Float64Array),label:cn(e)}}function Ue(e){return e&&typeof e[Symbol.iterator]=="function"}function sl(e){for(const n of e)if(n!=null)return typeof n!="object"||n instanceof Date}function ri(e){for(const n of e){if(n==null)continue;const t=typeof n;return t==="string"||t==="boolean"}}function ce(e){for(const n of e)if(n!=null)return n instanceof Date}function dl(e){for(const n of e)if(n!=null)return typeof n=="string"&&isNaN(n)&&ao(n)}function ll(e){for(const n of e)if(n!=null){if(typeof n!="string")return!1;if(n.trim())return!isNaN(n)}}function bl(e){for(const n of e)if(n!=null)return typeof n=="number"}function ir(e,n){let t;for(const r of e)if(r!=null){if(!n(r))return!1;t=!0}return t}function Ft(e){return typeof e!="string"?!1:(e=e.toLowerCase().trim(),e==="none"||e==="currentcolor"||e.startsWith("url(")&&e.endsWith(")")||e.startsWith("var(")&&e.endsWith(")")||Nu(e)!==null)}function hl(e){return typeof e=="number"&&(0<=e&&e<=1||isNaN(e))}function X(e){return e==null||An(e)}function An(e){return/^\s*none\s*$/i.test(e)}function ml(e){return/^\s*round\s*$/i.test(e)}function oo(e="middle"){return Ce(e,"frameAnchor",["middle","top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"])}function En(e){if(e==null)return;const n=e[0],t=e[e.length-1];return vt(n,t)}function pl(e={},...n){let t=e;for(const r of n)for(const a in r)if(t[a]===void 0){const i=r[a];t===e?t={...t,[a]:i}:t[a]=i}return t}function gl(e){console.warn("named iterables are deprecated; please use an object instead");const n=new Set;return Object.fromEntries(Array.from(e,t=>{const{name:r}=t;if(r==null)throw new Error("missing name");const a=`${r}`;if(a==="__proto__")throw new Error(`illegal name: ${a}`);if(n.has(a))throw new Error(`duplicate name: ${a}`);return n.add(a),[r,t]}))}function ai(e){return Ue(e)?gl(e):e}const se=Symbol("position"),me=Symbol("color"),zt=Symbol("radius"),jt=Symbol("length"),Wt=Symbol("opacity"),_t=Symbol("symbol"),P=new Map([["x",se],["y",se],["fx",se],["fy",se],["r",zt],["color",me],["opacity",Wt],["symbol",_t],["length",jt]]),yl=Math.sqrt(3),wl=2/yl,vl={draw(e,n){const t=Math.sqrt(n/Math.PI),r=t*wl,a=r/2;e.moveTo(0,r),e.lineTo(t,a),e.lineTo(t,-a),e.lineTo(0,-r),e.lineTo(-t,-a),e.lineTo(-t,a),e.closePath()}},pa=new Map([["asterisk",Wc],["circle",ua],["cross",_c],["diamond",Vc],["diamond2",Hc],["hexagon",vl],["plus",Yc],["square",Gc],["square2",Zc],["star",Xc],["times",eo],["triangle",Qc],["triangle2",kc],["wye",Jc]]);function ga(e){return e&&typeof e.draw=="function"}function $l(e){return ga(e)?!0:typeof e!="string"?!1:pa.has(e.toLowerCase())}function ya(e){if(e==null||ga(e))return e;const n=pa.get(`${e}`.toLowerCase());if(n)return n;throw new Error(`invalid symbol: ${e}`)}function fh(e){if(e==null||ga(e))return[void 0,e];if(typeof e=="string"){const n=pa.get(`${e}`.toLowerCase());if(n)return[void 0,n]}return[e,void 0]}function uo({filter:e,sort:n,reverse:t,transform:r,initializer:a,...i}={},f){if(r===void 0&&(e!=null&&(r=so(e)),n!=null&&!tn(n)&&(r=fr(r,wa(n))),t&&(r=fr(r,lo))),f!=null&&a!=null)throw new Error("transforms cannot be applied after initializers");return{...i,...(n===null||tn(n))&&{sort:n},transform:fr(r,f)}}function Ut({filter:e,sort:n,reverse:t,initializer:r,...a}={},i){return r===void 0&&(e!=null&&(r=so(e)),n!=null&&!tn(n)&&(r=cr(r,wa(n))),t&&(r=cr(r,lo))),{...a,...(n===null||tn(n))&&{sort:n},initializer:cr(r,i)}}function fr(e,n){return e==null?n===null?void 0:n:n==null?e===null?void 0:e:function(t,r){return{data:t,facets:r}=e.call(this,t,r),n.call(this,he(t),r)}}function cr(e,n){return e==null?n===null?void 0:n:n==null?e===null?void 0:e:function(t,r,a,...i){let f,c,o,u,s,b;return{data:c=t,facets:o=r,channels:f}=e.call(this,t,r,a,...i),{data:s=c,facets:b=o,channels:u}=n.call(this,c,o,{...a,...f},...i),{data:s,facets:b,channels:{...f,...u}}}}function Ml(e,n){return(e.initializer!=null?Ut:uo)(e,n)}function so(e){return(n,t)=>{const r=Se(n,e);return{data:n,facets:t.map(a=>a.filter(i=>r[i]))}}}function lo(e,n){return{data:e,facets:n.map(t=>t.slice().reverse())}}function ch(e,{sort:n,...t}={}){return{...(Bt(e)&&e.channel!==void 0?Ut:Ml)(t,wa(e)),sort:tn(n)?n:null}}function wa(e){return(typeof e=="function"&&e.length!==1?xl:Tl)(e)}function xl(e){return(n,t)=>{const r=(a,i)=>e(n[a],n[i]);return{data:n,facets:t.map(a=>a.slice().sort(r))}}}function Tl(e){let n,t;if({channel:n,value:e,order:t=je}={...ma(e)},typeof t!="function")switch(`${t}`.toLowerCase()){case"ascending":t=je;break;case"descending":t=no;break;default:throw new Error(`invalid order: ${t}`)}return(r,a,i)=>{let f;if(n===void 0)f=Se(r,e);else{if(i===void 0)throw new Error("channel sort requires an initializer");if(f=i[n],!f)return{};f=f.value}const c=(o,u)=>t(f[o],f[u]);return{data:r,facets:a.map(o=>o.slice().sort(c))}}}function oh(e,...n){for(const{name:t}of e)if(n.includes(t))return!0;return!1}function uh(e,n,t=Sl){const r=Object.entries(e);return n.title!=null&&e.title===void 0&&r.push(["title",Ll]),n.href!=null&&e.href===void 0&&r.push(["href",ho]),r.filter(([,a])=>a!==void 0).map(([a,i])=>i===null?Al(a):t(a,i,n))}function Sl(e,n,t,r=El){let a;fn(n)&&"reduce"in n&&(a=n.scale,n=n.reduce);const i=r(e,n,t),[f,c]=co(i.label);let o;return{name:e,output:a===void 0?f:{value:f,scale:a},initialize(u){i.initialize(u),o=c([])},scope(u,s){i.scope(u,s)},reduce(u,s){o.push(i.reduce(u,s))}}}function Al(e){return{name:e,initialize(){},scope(){},reduce(){}}}function El(e,n,t,r=bo){const a=cl(e,t),i=r(n,a);let f,c;return{label:cn(i===Fr?null:a,i.label),initialize(o){f=a===void 0?o:Se(o,a),i.scope==="data"&&(c=i.reduceIndex(Ln(o),f))},scope(o,u){i.scope===o&&(c=i.reduceIndex(u,f))},reduce(o,u){return i.scope==null?i.reduceIndex(o,f,u):i.reduceIndex(o,f,c,u)}}}function sh(e,n){return n?Ct(Pi(e,t=>n[t]),la):[[,e]]}function bo(e,n,t=Cl){if(e==null)return t(e);if(typeof e.reduceIndex=="function")return e;if(typeof e.reduce=="function"&&fn(e))return Nl(e);if(typeof e=="function")return Rl(e);if(/^p\d{2}$/i.test(e))return we(rl(e));switch(`${e}`.toLowerCase()){case"first":return ho;case"last":return Dl;case"identity":return Il;case"count":return Fr;case"distinct":return Ol;case"sum":return n==null?Fr:ql;case"proportion":return fi(n,"data");case"proportion-facet":return fi(n,"facet");case"deviation":return we(Cs);case"min":return we(xn);case"min-index":return we(Is);case"max":return we(Te);case"max-index":return we(Rs);case"mean":return ii(Ju);case"median":return ii($r);case"variance":return we(_i);case"mode":return we(Ds)}return t(e)}function Cl(e){throw new Error(`invalid reduce: ${e}`)}function dh(e,n){for(const t in n){const r=n[t];if(r!==void 0&&!e.some(a=>a.name===t))return r}}function lh(e,n,t){if(n){const r=n.output.transform(),a=(i,f)=>je(r[i],r[f]);e.forEach(i=>i.sort(a))}t&&e.forEach(r=>r.reverse())}function Nl(e){return console.warn("deprecated reduce interface; implement reduceIndex instead."),{...e,reduceIndex:e.reduce.bind(e)}}function Rl(e){return{reduceIndex(n,t,r){return e(fo(t,n),r)}}}function we(e){return{reduceIndex(n,t){return e(n,r=>t[r])}}}function ii(e){return{reduceIndex(n,t){const r=e(n,a=>t[a]);return ce(t)?new Date(r):r}}}const Il={reduceIndex(e,n){return fo(n,e)}},ho={reduceIndex(e,n){return n[e[0]]}},Ll={reduceIndex(e,n){const r=Ct(yn(e,i=>i.length,i=>n[i]),qr),a=r.slice(-5).reverse();if(a.length<r.length){const i=r.slice(0,-4);a[5-1]=[` ${i.length.toLocaleString("en-US")} more`,Nt(i,qr)]}return a.map(([i,f])=>`${i} (${f.toLocaleString("en-US")})`).join(`
`)}},Dl={reduceIndex(e,n){return n[e[e.length-1]]}},Fr={label:"Frequency",reduceIndex(e){return e.length}},Ol={label:"Distinct",reduceIndex(e,n){const t=new na;for(const r of e)t.add(n[r]);return t.size}},ql=we(Nt);function fi(e,n){return e==null?{scope:n,label:"Frequency",reduceIndex:(t,r,a=1)=>t.length/a}:{scope:n,reduceIndex:(t,r,a=1)=>Nt(t,i=>r[i])/a}}function Cn(e,{scale:n,type:t,value:r,filter:a,hint:i},f){return po(f,{scale:n,type:t,value:Se(e,r),label:cn(r),filter:a,hint:i})}function Pl(e,n){return Object.fromEntries(Object.entries(e).map(([t,r])=>[t,Cn(n,r,t)]))}function mo(e,n){const t=Object.fromEntries(Object.entries(e).map(([r,{scale:a,value:i}])=>{const f=a==null?null:n[a];return[r,f==null?i:H(i,f)]}));return t.channels=e,t}function po(e,n){const{scale:t,value:r}=n;if(t===!0||t==="auto")switch(e){case"fill":case"stroke":case"color":n.scale=t!==!0&&ir(r,Ft)?null:"color";break;case"fillOpacity":case"strokeOpacity":n.scale=t!==!0&&ir(r,hl)?null:"opacity";break;case"symbol":t!==!0&&ir(r,$l)?(n.scale=null,n.value=H(r,ya)):n.scale="symbol";break;default:n.scale=P.has(e)?e:null;break}else if(t===!1)n.scale=null;else if(t!=null&&!P.has(t))throw new Error(`unknown scale: ${t}`);return n}function Bl(e,n,t,r,a){const{reverse:i,reduce:f=!0,limit:c}=a;for(const o in a){if(!P.has(o))continue;let{value:u,reverse:s=i,reduce:b=f,limit:l=c}=ma(a[o]);if(s===void 0&&(s=u==="width"||u==="height"),b==null||b===!1)continue;const d=o==="fx"||o==="fy"?zl(n,r[o]):Fl(t,o);if(!d)throw new Error(`missing channel for scale: ${o}`);const m=d.value,[h=0,p=1/0]=Ue(l)?l:l<0?[l]:[0,l];if(u==null)d.domain=()=>{let g=Array.from(new na(m));return s&&(g=g.reverse()),(h!==0||p!==1/0)&&(g=g.slice(h,p)),g};else{const g=u==="data"?e:u==="height"?ci(t,"y1","y2"):u==="width"?ci(t,"x1","x2"):zr(t,u,u==="y"?"y2":u==="x"?"x2":void 0),w=bo(b===!0?"max":b,g);d.domain=()=>{let v=yn(Ln(m),y=>w.reduceIndex(y,g),y=>m[y]);return v=Ct(v,s?Wl:jl),(h!==0||p!==1/0)&&(v=v.slice(h,p)),v.map(la)}}}}function Fl(e,n){for(const t in e){const r=e[t];if(r.scale===n)return r}}function zl(e,n){const t=e.original;if(t===e)return n;const r=n.value,a=n.value=[];for(let i=0;i<t.length;++i){const f=r[t[i][0]];for(const c of e[i])a[c]=f}return n}function ci(e,n,t){const r=zr(e,n),a=zr(e,t);return H(a,(i,f)=>Math.abs(i-r[f]),Float64Array)}function zr(e,n,t){let r=e[n];if(!r&&t!==void 0&&(r=e[t]),r)return r.value;throw new Error(`missing channel: ${n}`)}function jl([e,n],[t,r]){return je(n,r)||je(e,t)}function Wl([e,n],[t,r]){return no(n,r)||je(e,t)}let jr=0;function _l(){const e=jr;return jr=0,e}function Qe(e){console.warn(e),++jr}const go=Math.PI,pe=2*go,or=.618;function Ul({projection:e,inset:n=0,insetTop:t=n,insetRight:r=n,insetBottom:a=n,insetLeft:i=n}={},f){if(e==null)return;if(typeof e.stream=="function")return e;let c,o,u="frame";if(fn(e)){let $;if({type:e,domain:o,inset:$,insetTop:t=$!==void 0?$:t,insetRight:r=$!==void 0?$:r,insetBottom:a=$!==void 0?$:a,insetLeft:i=$!==void 0?$:i,clip:u=u,...c}=e,e==null)return}typeof e!="function"&&({type:e}=yo(e));const{width:s,height:b,marginLeft:l,marginRight:d,marginTop:m,marginBottom:h}=f,p=s-l-d-i-r,g=b-m-h-t-a;if(e=e==null?void 0:e({width:p,height:g,clip:u,...c}),e==null)return;u=Vl(u,l,m,s-d,b-h);let w=l+i,v=m+t,y;if(o!=null){const[[$,M],[S,L]]=hf(e).bounds(o),R=Math.min(p/(S-$),g/(L-M));R>0?(w-=(R*($+S)-p)/2,v-=(R*(M+L)-g)/2,y=yr({point(F,k){this.stream.point(F*R+w,k*R+v)}})):Qe("Warning: the projection could not be fit to the specified domain; using the default scale.")}return y??(y=w===0&&v===0?wo():yr({point($,M){this.stream.point($+w,M+v)}})),{stream:$=>e.stream(y.stream(u($)))}}function yo(e){switch(`${e}`.toLowerCase()){case"albers-usa":return te(nd,.7463,.4673);case"albers":return Un(mf,.7463,.4673);case"azimuthal-equal-area":return te(td,4,4);case"azimuthal-equidistant":return te(rd,pe,pe);case"conic-conformal":return Un(id,pe,pe);case"conic-equal-area":return Un(st,6.1702,2.9781);case"conic-equidistant":return Un(od,7.312,3.6282);case"equal-earth":return te(sd,5.4133,2.6347);case"equirectangular":return te(fd,pe,go);case"gnomonic":return te(dd,3.4641,3.4641);case"identity":return{type:wo};case"reflect-y":return{type:Hl};case"mercator":return te(ps,pe,pe);case"orthographic":return te(ld,2,2);case"stereographic":return te(bd,2,2);case"transverse-mercator":return te(hd,pe,pe);default:throw new Error(`unknown projection type: ${e}`)}}function Vl(e,n,t,r,a){if(e===!1||e==null||typeof e=="number")return i=>i;switch(e===!0&&(e="frame"),`${e}`.toLowerCase()){case"frame":return ms(n,t,r,a);default:throw new Error(`unknown projection clip type: ${e}`)}}function te(e,n,t){return{type:({width:r,height:a,rotate:i,precision:f=.15,clip:c})=>{var u,s,b;const o=e();return f!=null&&((u=o.precision)==null||u.call(o,f)),i!=null&&((s=o.rotate)==null||s.call(o,i)),typeof c=="number"&&((b=o.clipAngle)==null||b.call(o,c)),o.scale(Math.min(r/n,a/t)),o.translate([r/2,a/2]),o},aspectRatio:t/n}}function Un(e,n,t){const{type:r,aspectRatio:a}=te(e,n,t);return{type:i=>{const{parallels:f,domain:c,width:o,height:u}=i,s=r(i);return f!=null&&(s.parallels(f),c===void 0&&s.fitSize([o,u],{type:"Sphere"})),s},aspectRatio:a}}const wo=an({stream:e=>e}),Hl=an(yr({point(e,n){this.stream.point(e,-n)}}));function Kn(e,n,t,r,a){const i=t[e]&&t[e].scale==="x",f=t[n]&&t[n].scale==="y";if(i&&f)Yl(e,n,r,a.projection);else{if(i)throw new Error(`projection requires paired x and y channels; ${e} is missing ${n}`);if(f)throw new Error(`projection requires paired x and y channels; ${n} is missing ${e}`)}}function Yl(e,n,t,r){const a=t[e],i=t[n],f=a.length,c=t[e]=new Float64Array(f).fill(NaN),o=t[n]=new Float64Array(f).fill(NaN);let u;const s=r.stream({point(b,l){c[u]=b,o[u]=l}});for(u=0;u<f;++u)s.point(a[u],i[u])}function Gl(e,n){if(typeof(e==null?void 0:e.stream)=="function")return or;if(fn(e)&&(e=e.type),e==null)return Zl(n)?or:void 0;if(typeof e!="function"){const{aspectRatio:t}=yo(e);if(t)return t}return or}function bh(e,n,t){const{x:r,y:a}=e;let i={};return r&&(i.x=r),a&&(i.y=a),i=mo(i,n),t.projection&&Kn("x","y",e,i,t),r&&(i.x=pt(i.x)),a&&(i.y=pt(i.y)),i}function Zl(e){for(const n of e)if(n.channels.geometry)return!0;return!1}function va(e={},n){const{document:t=typeof window<"u"?window.document:void 0}=e;return{document:t,projection:Ul(e,n)}}function Ne(e,{document:n}){return wr(Ru(e).call(n.documentElement))}const oi=new Map([["accent",Ad],["category10",Sd],["dark2",Ed],["paired",Cd],["pastel1",Nd],["pastel2",Rd],["set1",Id],["set2",Yu],["set3",Ld],["tableau10",Dd],["brbg",ge(Pf,Bf)],["prgn",ge(Ff,zf)],["piyg",ge(jf,Wf)],["puor",ge(_f,Uf)],["rdbu",ge(Lr,ht)],["rdgy",ge(Vf,Hf)],["rdylbu",ge(Dr,mt)],["rdylgn",ge(Yf,Gf)],["spectral",ge(gs,Fi)],["burd",ui(Lr,ht)],["buylrd",ui(Dr,mt)],["blues",W(yc,wc)],["greens",W(vc,$c)],["greys",W(Mc,xc)],["oranges",W(Cc,Nc)],["purples",W(Tc,Sc)],["reds",W(Ac,Ec)],["turbo",ye(Pc)],["viridis",ye(Bc)],["magma",ye(Fc)],["inferno",ye(zc)],["plasma",ye(jc)],["cividis",ye(Rc)],["cubehelix",ye(Ic)],["warm",ye(Lc)],["cool",ye(Dc)],["bugn",W(Zf,Kf)],["bupu",W(Xf,Qf)],["gnbu",W(kf,Jf)],["orrd",W(ec,nc)],["pubu",W(ac,ic)],["pubugn",W(tc,rc)],["purd",W(fc,cc)],["rdpu",W(oc,uc)],["ylgn",W(lc,bc)],["ylgnbu",W(sc,dc)],["ylorbr",W(hc,mc)],["ylorrd",W(pc,gc)],["rainbow",si(Oc)],["sinebow",si(qc)]]);function W(e,n){return({length:t})=>t===1?[e[3][1]]:t===2?[e[3][1],e[3][2]]:(t=Math.max(3,Math.floor(t)),t>9?fe(n,t):e[t])}function ge(e,n){return({length:t})=>t===2?[e[3][0],e[3][2]]:(t=Math.max(3,Math.floor(t)),t>11?fe(n,t):e[t])}function ui(e,n){return({length:t})=>t===2?[e[3][2],e[3][0]]:(t=Math.max(3,Math.floor(t)),t>11?fe(r=>n(1-r),t):e[t].slice().reverse())}function ye(e){return({length:n})=>fe(e,Math.max(2,Math.floor(n)))}function si(e){return({length:n})=>fe(e,Math.floor(n)+1).slice(0,-1)}function vo(e){const n=`${e}`.toLowerCase();if(!oi.has(n))throw new Error(`unknown ordinal scheme: ${n}`);return oi.get(n)}function Vt(e,n){const t=vo(e),r=typeof t=="function"?t({length:n}):t;return r.length!==n?r.slice(0,n):r}function Kl(e,n="greys"){const t=new Set,[r,a]=Vt(n,2);for(const i of e)if(i!=null)if(i===!0)t.add(a);else if(i===!1)t.add(r);else return;return[...t]}const di=new Map([["brbg",Bf],["prgn",zf],["piyg",Wf],["puor",Uf],["rdbu",ht],["rdgy",Hf],["rdylbu",mt],["rdylgn",Gf],["spectral",Fi],["burd",e=>ht(1-e)],["buylrd",e=>mt(1-e)],["blues",wc],["greens",$c],["greys",xc],["purples",Sc],["reds",Ec],["oranges",Nc],["turbo",Pc],["viridis",Bc],["magma",Fc],["inferno",zc],["plasma",jc],["cividis",Rc],["cubehelix",Ic],["warm",Lc],["cool",Dc],["bugn",Kf],["bupu",Qf],["gnbu",Jf],["orrd",nc],["pubugn",rc],["pubu",ic],["purd",cc],["rdpu",uc],["ylgnbu",dc],["ylgn",bc],["ylorbr",mc],["ylorrd",gc],["rainbow",Oc],["sinebow",qc]]);function $a(e){const n=`${e}`.toLowerCase();if(!di.has(n))throw new Error(`unknown quantitative scheme: ${n}`);return di.get(n)}const Xl=new Set(["brbg","prgn","piyg","puor","rdbu","rdgy","rdylbu","rdylgn","spectral","burd","buylrd"]);function li(e){return e!=null&&Xl.has(`${e}`.toLowerCase())}const $o=e=>n=>e(1-n),ur=[0,1],bi=new Map([["number",Rn],["rgb",Zr],["hsl",Fs],["hcl",Ws],["lab",zs]]);function Mo(e){const n=`${e}`.toLowerCase();if(!bi.has(n))throw new Error(`unknown interpolator: ${n}`);return bi.get(n)}function On(e,n,t,{type:r,nice:a,clamp:i,zero:f,domain:c=To(e,t),unknown:o,round:u,scheme:s,interval:b,range:l=P.get(e)===zt?c0(t,c):P.get(e)===jt?o0(t,c):P.get(e)===Wt?ur:void 0,interpolate:d=P.get(e)===me?s==null&&l!==void 0?Zr:$a(s!==void 0?s:r==="cyclical"?"rainbow":"turbo"):u?Oi:Rn,reverse:m}){if(b=Dn(b,r),(r==="cyclical"||r==="sequential")&&(r="linear"),m=!!m,typeof d!="function"&&(d=Mo(d)),d.length===1?(m&&(d=$o(d),m=!1),l===void 0&&(l=Float64Array.from(c,(h,p)=>p/(c.length-1)),l.length===2&&(l=ur)),n.interpolate((l===ur?an:xa)(d))):n.interpolate(d),f){const[h,p]=Je(c);(h>0||p<0)&&(c=Pr(c),En(c)!==Math.sign(h)?c[c.length-1]=0:c[0]=0)}return m&&(c=at(c)),n.domain(c).unknown(o),a&&(n.nice(Ql(a,r)),c=n.domain()),l!==void 0&&n.range(l),i&&n.clamp(i),{type:r,domain:c,range:l,scale:n,interpolate:d,interval:b}}function Ql(e,n){return e===!0?void 0:typeof e=="number"?e:ol(e,n)}function kl(e,n,t){return On(e,zi(),n,t)}function Jl(e,n,t){return xo(e,n,{...t,exponent:.5})}function xo(e,n,{exponent:t=1,...r}){return On(e,Cf().exponent(t),n,{...r,type:"pow"})}function e0(e,n,{base:t=10,domain:r=u0(n),...a}){return On(e,$s().base(t),n,{...a,domain:r})}function n0(e,n,{constant:t=1,...r}){return On(e,Af().constant(t),n,r)}function t0(e,n,{range:t,quantiles:r=t===void 0?5:(t=[...t]).length,n:a=r,scheme:i="rdylbu",domain:f=s0(n),unknown:c,interpolate:o,reverse:u}){return t===void 0&&(t=o!==void 0?fe(o,a):P.get(e)===me?Vt(i,a):void 0),f.length>0&&(f=Nf(f,t===void 0?{length:a}:t).quantiles()),Ma(e,n,{domain:f,range:t,reverse:u,unknown:c})}function r0(e,n,{range:t,n:r=t===void 0?5:(t=[...t]).length,scheme:a="rdylbu",domain:i=To(e,n),unknown:f,interpolate:c,reverse:o}){const[u,s]=Je(i);let b;return t===void 0?(b=Qu(u,s,r),b[0]<=u&&b.splice(0,1),b[b.length-1]>=s&&b.pop(),r=b.length+1,t=c!==void 0?fe(c,r):P.get(e)===me?Vt(a,r):void 0):(b=fe(Rn(u,s),r+1).slice(1,-1),u instanceof Date&&(b=b.map(l=>new Date(l)))),En(he(i))<0&&b.reverse(),Ma(e,n,{domain:b,range:t,reverse:o,unknown:f})}function Ma(e,n,{domain:t=[0],unknown:r,scheme:a="rdylbu",interpolate:i,range:f=i!==void 0?fe(i,t.length+1):P.get(e)===me?Vt(a,t.length+1):void 0,reverse:c}){t=he(t);const o=En(t);if(!isNaN(o)&&!a0(t,o))throw new Error(`the ${e} scale has a non-monotonic domain`);return c&&(f=at(f)),{type:"threshold",scale:Rf(o<0?at(t):t,f===void 0?[]:f).unknown(r),domain:t,range:f}}function a0(e,n){for(let t=1,r=e.length,a=e[0];t<r;++t){const i=vt(a,a=e[t]);if(i!==0&&i!==n)return!1}return!0}function i0(){return{type:"identity",scale:Tf()}}function Nn(e,n=to){return e.length?[xn(e,({value:t})=>t===void 0?t:xn(t,n)),Te(e,({value:t})=>t===void 0?t:Te(t,n))]:[0,1]}function To(e,n){const t=P.get(e);return(t===zt||t===Wt||t===jt?f0:Nn)(n)}function f0(e){return[0,e.length?Te(e,({value:n})=>n===void 0?n:Te(n,to)):1]}function c0(e,n){const t=e.find(({radius:f})=>f!==void 0);if(t!==void 0)return[0,t.radius];const r=rt(e,.5,({value:f})=>f===void 0?NaN:rt(f,.25,da)),a=n.map(f=>3*Math.sqrt(f/r)),i=30/Te(a);return i<1?a.map(f=>f*i):a}function o0(e,n){const t=$r(e,({value:i})=>i===void 0?NaN:$r(i,Math.abs)),r=n.map(i=>12*i/t),a=60/Te(r);return a<1?r.map(i=>i*a):r}function u0(e){for(const{value:n}of e)if(n!==void 0)for(let t of n){if(t>0)return Nn(e,da);if(t<0)return Nn(e,ro)}return[1,10]}function s0(e){const n=[];for(const{value:t}of e)if(t!==void 0)for(const r of t)n.push(r);return n}function xa(e){return(n,t)=>r=>e(n+r*(t-n))}function Ht(e,n,t,r,{type:a,nice:i,clamp:f,domain:c=Nn(r),unknown:o,pivot:u=0,scheme:s,range:b,symmetric:l=!0,interpolate:d=P.get(e)===me?s==null&&b!==void 0?Zr:$a(s!==void 0?s:"rdbu"):Rn,reverse:m}){u=+u;let[h,p]=c;if(vt(h,p)<0&&([h,p]=[p,h],m=!m),h=Math.min(h,u),p=Math.max(p,u),typeof d!="function"&&(d=Mo(d)),b!==void 0&&(d=d.length===1?xa(d)(...b):fa(d,b)),m&&(d=$o(d)),l){const g=t.apply(u),w=g-t.apply(h),v=t.apply(p)-g;w<v?h=t.invert(g-v):w>v&&(p=t.invert(g+w))}return n.domain([h,u,p]).unknown(o).interpolator(d),f&&n.clamp(f),i&&n.nice(i),{type:a,domain:[h,p],pivot:u,interpolate:d,scale:n}}function d0(e,n,t){return Ht(e,Lf(),m0,n,t)}function l0(e,n,t){return So(e,n,{...t,exponent:.5})}function So(e,n,{exponent:t=1,...r}){return Ht(e,qf().exponent(t=+t),y0(t),n,{...r,type:"diverging-pow"})}function b0(e,n,{base:t=10,pivot:r=1,domain:a=Nn(n,r<0?ro:da),...i}){return Ht(e,Df().base(t=+t),p0,n,{domain:a,pivot:r,...i})}function h0(e,n,{constant:t=1,...r}){return Ht(e,Of().constant(t=+t),w0(t),n,r)}const m0={apply(e){return e},invert(e){return e}},p0={apply:Math.log,invert:Math.exp},g0={apply(e){return Math.sign(e)*Math.sqrt(Math.abs(e))},invert(e){return Math.sign(e)*(e*e)}};function y0(e){return e===.5?g0:{apply(n){return Math.sign(n)*Math.pow(Math.abs(n),e)},invert(n){return Math.sign(n)*Math.pow(Math.abs(n),1/e)}}}function w0(e){return{apply(n){return Math.sign(n)*Math.log1p(Math.abs(n/e))},invert(n){return Math.sign(n)*Math.expm1(Math.abs(n))*e}}}function Ao(e,n,t,r){return On(e,n,t,r)}function v0(e,n,t){return Ao(e,xd(),n,t)}function $0(e,n,t){return Ao(e,Td(),n,t)}const qn=Symbol("ordinal");function Eo(e,n,t,{type:r,interval:a,domain:i,range:f,reverse:c,hint:o}){return a=Dn(a,r),i===void 0&&(i=No(t,a,e)),(r==="categorical"||r===qn)&&(r="ordinal"),c&&(i=at(i)),n.domain(i),f!==void 0&&(typeof f=="function"&&(f=f(i)),n.range(f)),{type:r,domain:i,range:f,scale:n,hint:o,interval:a}}function M0(e,n,{type:t,interval:r,domain:a,range:i,scheme:f,unknown:c,...o}){r=Dn(r,t),a===void 0&&(a=No(n,r,e));let u;if(P.get(e)===_t)u=S0(n),i=i===void 0?A0(u):H(i,ya);else if(P.get(e)===me&&(i===void 0&&(t==="ordinal"||t===qn)&&(i=Kl(a,f),i!==void 0&&(f=void 0)),f===void 0&&i===void 0&&(f=t==="ordinal"?"turbo":"tableau10"),f!==void 0))if(i!==void 0){const s=$a(f),b=i[0],l=i[1]-i[0];i=({length:d})=>fe(m=>s(b+l*m),d)}else i=vo(f);if(c===ns)throw new Error(`implicit unknown on ${e} scale is not supported`);return Eo(e,ts().unknown(c),n,{...o,type:t,domain:a,range:i,hint:u})}function x0(e,n,{align:t=.5,padding:r=.5,...a}){return Co(Ms().align(t).padding(r),n,a,e)}function T0(e,n,{align:t=.5,padding:r=.1,paddingInner:a=r,paddingOuter:i=e==="fx"||e==="fy"?0:r,...f}){return Co(Wi().align(t).paddingInner(a).paddingOuter(i),n,f,e)}function Co(e,n,t,r){let{round:a}=t;return a!==void 0&&e.round(a=!!a),e=Eo(r,e,n,t),e.round=a,e}function No(e,n,t){const r=new na;for(const{value:a,domain:i}of e){if(i!==void 0)return i();if(a!==void 0)for(const f of a)r.add(f)}if(n!==void 0){const[a,i]=Je(r).map(n.floor,n);return n.range(a,n.offset(i))}if(r.size>1e4&&P.get(t)===se)throw new Error(`implicit ordinal domain of ${t} scale has more than 10,000 values`);return Ct(r,je)}function hi(e,n){let t;for(const{hint:r}of e){const a=r==null?void 0:r[n];if(a!==void 0){if(t===void 0)t=a;else if(t!==a)return}}return t}function S0(e){return{fill:hi(e,"fill"),stroke:hi(e,"stroke")}}function A0(e){return X(e.fill)?Vd:Ud}function Wr(e,{label:n,inset:t=0,insetTop:r=t,insetRight:a=t,insetBottom:i=t,insetLeft:f=t,round:c,nice:o,clamp:u,zero:s,align:b,padding:l,projection:d,facet:{label:m=n}={},...h}={}){const p={};for(const[g,w]of e){const v=h[g],y=R0(g,w,{round:P.get(g)===se?c:void 0,nice:o,clamp:u,zero:s,align:b,padding:l,projection:d,...v});if(y){let{label:$=g==="fx"||g==="fy"?m:n,percent:M,transform:S,inset:L,insetTop:R=L!==void 0?L:g==="y"?r:0,insetRight:F=L!==void 0?L:g==="x"?a:0,insetBottom:k=L!==void 0?L:g==="y"?i:0,insetLeft:O=L!==void 0?L:g==="x"?f:0}=v||{};if(S==null)S=void 0;else if(typeof S!="function")throw new Error("invalid scale transform; not a function");y.percent=!!M,y.label=$===void 0?C0(w,y):$,y.transform=S,g==="x"||g==="fx"?(y.insetLeft=+O,y.insetRight=+F):(g==="y"||g==="fy")&&(y.insetTop=+R,y.insetBottom=+k),p[g]=y}}return p}function mi(e){return Object.fromEntries(Object.entries(e).filter(([,{scale:n}])=>n).map(([n,{scale:t,type:r,interval:a,label:i}])=>(t.type=r,a!=null&&(t.interval=a),i!=null&&(t.label=i),[n,t])))}function E0(e,n){const{x:t,y:r,fx:a,fy:i}=e,f=a||i?Ta(n):n;a&&pi(a,f),i&&gi(i,f);const c=a||i?Ro(e,n):n;t&&pi(t,c),r&&gi(r,c)}function C0(e=[],n){let t;for(const{label:r}of e)if(r!==void 0){if(t===void 0)t=r;else if(t!==r)return}if(t!==void 0&&!(Do(n)&&/^(date|time|year)$/i.test(t)))return!Ve(n)&&n.percent&&(t=`${t} (%)`),{inferred:!0,toString:()=>t}}function Ta(e){const{marginTop:n,marginRight:t,marginBottom:r,marginLeft:a,width:i,height:f,facet:{marginTop:c,marginRight:o,marginBottom:u,marginLeft:s}}=e;return{marginTop:Math.max(n,c),marginRight:Math.max(t,o),marginBottom:Math.max(r,u),marginLeft:Math.max(a,s),width:i,height:f}}function Ro({fx:e,fy:n},t){const{marginTop:r,marginRight:a,marginBottom:i,marginLeft:f,width:c,height:o}=Ta(t);return{marginTop:r,marginRight:a,marginBottom:i,marginLeft:f,width:e?e.scale.bandwidth()+f+a:c,height:n?n.scale.bandwidth()+r+i:o}}function pi(e,n){if(e.range===void 0){const{insetLeft:t,insetRight:r}=e,{width:a,marginLeft:i=0,marginRight:f=0}=n,c=i+t,o=a-f-r;e.range=[c,Math.max(c,o)],Ve(e)||(e.range=Lo(e)),e.scale.range(e.range)}Io(e)}function gi(e,n){if(e.range===void 0){const{insetTop:t,insetBottom:r}=e,{height:a,marginTop:i=0,marginBottom:f=0}=n,c=i+t,o=a-f-r;e.range=[Math.max(c,o),c],Ve(e)?e.range.reverse():e.range=Lo(e),e.scale.range(e.range)}Io(e)}function Io(e){e.round===void 0&&L0(e)&&N0(e)<=30&&e.scale.round(!0)}function N0({scale:e}){const n=e.domain().length,[t,r]=e.range(),a=e.paddingInner?e.paddingInner():1,i=e.paddingOuter?e.paddingOuter():e.padding(),f=n-a,c=Math.abs(r-t)/Math.max(1,f+i*2);return(c-Math.floor(c))*f}function Lo(e){const n=e.scale.domain().length+Oo(e);if(!(n>2))return e.range;const[t,r]=e.range;return Array.from({length:n},(a,i)=>t+i/(n-1)*(r-t))}function R0(e,n=[],t={}){const r=I0(e,n,t);if(t.type===void 0&&t.domain===void 0&&t.range===void 0&&t.interval==null&&e!=="fx"&&e!=="fy"&&Ve({type:r})){const a=n.map(({value:i})=>i).filter(i=>i!==void 0);a.some(ce)?Qe(`Warning: some data associated with the ${e} scale are dates. Dates are typically associated with a "utc" or "time" scale rather than a "${He(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can specify the interval of the ${e} scale (e.g., d3.utcDay), or you can suppress this warning by setting the type of the ${e} scale to "${He(r)}".`):a.some(dl)?Qe(`Warning: some data associated with the ${e} scale are strings that appear to be dates (e.g., YYYY-MM-DD). If these strings represent dates, you should parse them to Date objects. Dates are typically associated with a "utc" or "time" scale rather than a "${He(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can suppress this warning by setting the type of the ${e} scale to "${He(r)}".`):a.some(ll)&&Qe(`Warning: some data associated with the ${e} scale are strings that appear to be numbers. If these strings represent numbers, you should parse or coerce them to numbers. Numbers are typically associated with a "linear" scale rather than a "${He(r)}" scale. If you want to treat this data as ordinal, you can specify the interval of the ${e} scale (e.g., 1 for integers), or you can suppress this warning by setting the type of the ${e} scale to "${He(r)}".`)}switch(t.type=r,r){case"diverging":case"diverging-sqrt":case"diverging-pow":case"diverging-log":case"diverging-symlog":case"cyclical":case"sequential":case"linear":case"sqrt":case"threshold":case"quantile":case"pow":case"log":case"symlog":t=Vn(n,t,pt);break;case"identity":switch(P.get(e)){case se:t=Vn(n,t,pt);break;case _t:t=Vn(n,t,D0);break}break;case"utc":case"time":t=Vn(n,t,al);break}switch(r){case"diverging":return d0(e,n,t);case"diverging-sqrt":return l0(e,n,t);case"diverging-pow":return So(e,n,t);case"diverging-log":return b0(e,n,t);case"diverging-symlog":return h0(e,n,t);case"categorical":case"ordinal":case qn:return M0(e,n,t);case"cyclical":case"sequential":case"linear":return kl(e,n,t);case"sqrt":return Jl(e,n,t);case"threshold":return Ma(e,n,t);case"quantile":return t0(e,n,t);case"quantize":return r0(e,n,t);case"pow":return xo(e,n,t);case"log":return e0(e,n,t);case"symlog":return n0(e,n,t);case"utc":return $0(e,n,t);case"time":return v0(e,n,t);case"point":return x0(e,n,t);case"band":return T0(e,n,t);case"identity":return P.get(e)===se?i0():{type:"identity"};case void 0:return;default:throw new Error(`unknown scale type: ${r}`)}}function He(e){return typeof e=="symbol"?e.description:e}const yi={toString:()=>"projection"};function I0(e,n,{type:t,domain:r,range:a,scheme:i,pivot:f,projection:c}){if(e==="fx"||e==="fy")return"band";(e==="x"||e==="y")&&c!=null&&(t=yi);for(const{type:s}of n)if(s!==void 0){if(t===void 0)t=s;else if(t!==s)throw new Error(`scale incompatible with channel: ${t} !== ${s}`)}if(t===yi)return;if(t!==void 0)return t;if(r===void 0&&!n.some(({value:s})=>s!==void 0))return;const o=P.get(e);if(o===zt)return"sqrt";if(o===Wt||o===jt)return"linear";if(o===_t)return"ordinal";if((r||a||[]).length>2)return sr(o);if(r!==void 0)return ri(r)?sr(o):ce(r)?"utc":o===me&&(f!=null||li(i))?"diverging":"linear";const u=n.map(({value:s})=>s).filter(s=>s!==void 0);return u.some(ri)?sr(o):u.some(ce)?"utc":o===me&&(f!=null||li(i))?"diverging":"linear"}function sr(e){switch(e){case se:return"point";case me:return qn;default:return"ordinal"}}function Do({type:e}){return e==="time"||e==="utc"}function Ve({type:e}){return e==="ordinal"||e==="point"||e==="band"||e===qn}function Oo({type:e}){return e==="threshold"}function L0({type:e}){return e==="point"||e==="band"}function gt(e){if(e===void 0)return!0;const n=e.domain(),t=e(n[0]);for(let r=1,a=n.length;r<a;++r)if(e(n[r])-t)return!1;return!0}function Vn(e,{domain:n,...t},r){for(const a of e)a.value!==void 0&&(a.value=r(a.value));return{domain:n===void 0?n:r(n),...t}}function D0(e){return H(e,ya)}function O0(e){return n=>{if(!P.has(n=`${n}`))throw new Error(`unknown scale: ${n}`);return n in e?q0(e[n]):void 0}}function q0({scale:e,type:n,domain:t,range:r,interpolate:a,interval:i,transform:f,percent:c,pivot:o}){if(n==="identity")return{type:"identity",apply:s=>s,invert:s=>s};const u=e.unknown?e.unknown():void 0;return{type:n,domain:Pr(t),...r!==void 0&&{range:Pr(r)},...f!==void 0&&{transform:f},...c&&{percent:c},...u!==void 0&&{unknown:u},...i!==void 0&&{interval:i},...a!==void 0&&{interpolate:a},...e.clamp&&{clamp:e.clamp()},...o!==void 0&&{pivot:o,symmetric:!1},...e.base&&{base:e.base()},...e.exponent&&{exponent:e.exponent()},...e.constant&&{constant:e.constant()},...e.align&&{align:e.align(),round:e.round()},...e.padding&&(e.paddingInner?{paddingInner:e.paddingInner(),paddingOuter:e.paddingOuter()}:{padding:e.padding()}),...e.bandwidth&&{bandwidth:e.bandwidth(),step:e.step()},apply:s=>e(s),...e.invert&&{invert:s=>e.invert(s)}}}function qo(e){let n,t;return(...r)=>(((t==null?void 0:t.length)!==r.length||t.some((a,i)=>a!==r[i]))&&(t=r,n=e(...r)),n)}const P0=qo(e=>new Intl.NumberFormat(e)),B0=qo((e,n)=>new Intl.DateTimeFormat(e,{timeZone:"UTC",...n&&{month:n}}));function F0(e="en-US"){const n=P0(e);return t=>t!=null&&!isNaN(t)?n.format(t):void 0}function hh(e="en-US",n="short"){const t=B0(e,n);return r=>r!=null&&!isNaN(r=+new Date(Date.UTC(2e3,+r)))?t.format(r):void 0}function Po(e){return Hd(e,"Invalid Date")}function z0(e="en-US"){const n=F0(e);return t=>(t instanceof Date?Po:typeof t=="number"?n:ie)(t)}const Yt=z0(),Q=typeof window<"u"&&window.devicePixelRatio>1?0:.5;let j0=0;function wi(){return`plot-clip-${++j0}`}function W0(e,{title:n,href:t,ariaLabel:r,ariaDescription:a,ariaHidden:i,target:f,fill:c,fillOpacity:o,stroke:u,strokeWidth:s,strokeOpacity:b,strokeLinejoin:l,strokeLinecap:d,strokeMiterlimit:m,strokeDasharray:h,strokeDashoffset:p,opacity:g,mixBlendMode:w,paintOrder:v,pointerEvents:y,shapeRendering:$},{ariaLabel:M,fill:S="currentColor",fillOpacity:L,stroke:R="none",strokeOpacity:F,strokeWidth:k,strokeLinecap:O,strokeLinejoin:T,strokeMiterlimit:x,paintOrder:A}){S===null&&(c=null,o=null),R===null&&(u=null,b=null),X(S)?!X(R)&&!X(c)&&(R="none"):X(R)&&!X(u)&&(S="none");const[E,I]=nn(c,S),[U,z]=ne(o,L),[q,Y]=nn(u,R),[zn,Tu]=ne(b,F),[Su,Au]=ne(g);An(Y)||(s===void 0&&(s=k),d===void 0&&(d=O),l===void 0&&(l=T),m===void 0&&!ml(l)&&(m=x),!An(I)&&v===void 0&&(v=A));const[Eu,Cu]=ne(s);return S!==null&&(e.fill=K(I,"currentColor"),e.fillOpacity=ln(z,1)),R!==null&&(e.stroke=K(Y,"none"),e.strokeWidth=ln(Cu,1),e.strokeOpacity=ln(Tu,1),e.strokeLinejoin=K(l,"miter"),e.strokeLinecap=K(d,"butt"),e.strokeMiterlimit=ln(m,4),e.strokeDasharray=K(h,"none"),e.strokeDashoffset=K(p,"0")),e.target=ie(f),e.ariaLabel=ie(M),e.ariaDescription=ie(a),e.ariaHidden=ie(i),e.opacity=ln(Au,1),e.mixBlendMode=K(w,"normal"),e.paintOrder=K(v,"normal"),e.pointerEvents=K(y,"auto"),e.shapeRendering=K($,"auto"),{title:{value:n,optional:!0},href:{value:t,optional:!0},ariaLabel:{value:r,optional:!0},fill:{value:E,scale:"auto",optional:!0},fillOpacity:{value:U,scale:"auto",optional:!0},stroke:{value:q,scale:"auto",optional:!0},strokeOpacity:{value:zn,scale:"auto",optional:!0},strokeWidth:{value:Eu,optional:!0},opacity:{value:Su,scale:"auto",optional:!0}}}function _0(e,n){n&&e.filter(t=>sa(n[t])).append("title").call(V0,n)}function U0(e,n){n&&e.filter(([t])=>sa(n[t])).append("title").call(H0,n)}function V0(e,n){n&&e.text(t=>Yt(n[t]))}function H0(e,n){n&&e.text(([t])=>Yt(n[t]))}function Gt(e,{target:n},{ariaLabel:t,title:r,fill:a,fillOpacity:i,stroke:f,strokeOpacity:c,strokeWidth:o,opacity:u,href:s}){t&&C(e,"aria-label",b=>t[b]),a&&C(e,"fill",b=>a[b]),i&&C(e,"fill-opacity",b=>i[b]),f&&C(e,"stroke",b=>f[b]),c&&C(e,"stroke-opacity",b=>c[b]),o&&C(e,"stroke-width",b=>o[b]),u&&C(e,"opacity",b=>u[b]),s&&Bo(e,b=>s[b],n),_0(e,r)}function mh(e,{target:n},{ariaLabel:t,title:r,fill:a,fillOpacity:i,stroke:f,strokeOpacity:c,strokeWidth:o,opacity:u,href:s}){t&&C(e,"aria-label",([b])=>t[b]),a&&C(e,"fill",([b])=>a[b]),i&&C(e,"fill-opacity",([b])=>i[b]),f&&C(e,"stroke",([b])=>f[b]),c&&C(e,"stroke-opacity",([b])=>c[b]),o&&C(e,"stroke-width",([b])=>o[b]),u&&C(e,"opacity",([b])=>u[b]),s&&Bo(e,([b])=>s[b],n),U0(e,r)}function Y0({ariaLabel:e,title:n,fill:t,fillOpacity:r,stroke:a,strokeOpacity:i,strokeWidth:f,opacity:c,href:o}){return[e,n,t,r,a,i,f,c,o].filter(u=>u!==void 0)}function G0(e,n,t){const r=Pi(e,a=>n[a]);return t===void 0&&r.size>e.length>>1&&Qe("Warning: the implicit z channel has high cardinality. This may occur when the fill or stroke channel is associated with quantitative data rather than ordinal or categorical data. You can suppress this warning by setting the z option explicitly; if this data represents a single series, set z to null."),r.values()}function*ph(e,n,{z:t},r){const{z:a}=r,i=Y0(r),f=[...n,...i];for(const c of a?G0(e,a,t):[e]){let o,u;e:for(const s of c){for(const b of f)if(!en(b[s])){u&&u.push(-1);continue e}if(o===void 0){u&&(yield u),o=i.map(b=>ar(b[s])),u=[s];continue}u.push(s);for(let b=0;b<i.length;++b)if(ar(i[b][s])!==o[b]){yield u,o=i.map(d=>ar(d[s])),u=[s];continue e}}u&&(yield u)}}function Z0(e){return e===!0?e="frame":e===!1&&(e=null),io(e,"clip",["frame","sphere"])}function K0(e,n,t,r){let a;switch(n.clip){case"frame":{const{width:i,height:f,marginLeft:c,marginRight:o,marginTop:u,marginBottom:s}=t,b=wi();a=`url(#${b})`,e=Ne("svg:g",r).call(l=>l.append("svg:clipPath").attr("id",b).append("rect").attr("x",c).attr("y",u).attr("width",i-o-c).attr("height",f-u-s)).each(function(){this.appendChild(e.node()),e.node=()=>this});break}case"sphere":{const{projection:i}=r;if(!i)throw new Error('the "sphere" clip option requires a projection');const f=wi();a=`url(#${f})`,e.append("clipPath").attr("id",f).append("path").attr("d",hf(i)({type:"Sphere"}));break}}C(e,"aria-label",n.ariaLabel),C(e,"aria-description",n.ariaDescription),C(e,"aria-hidden",n.ariaHidden),C(e,"clip-path",a)}function Pn(e,n,t,r){K0(e,n,t,r),C(e,"fill",n.fill),C(e,"fill-opacity",n.fillOpacity),C(e,"stroke",n.stroke),C(e,"stroke-width",n.strokeWidth),C(e,"stroke-opacity",n.strokeOpacity),C(e,"stroke-linejoin",n.strokeLinejoin),C(e,"stroke-linecap",n.strokeLinecap),C(e,"stroke-miterlimit",n.strokeMiterlimit),C(e,"stroke-dasharray",n.strokeDasharray),C(e,"stroke-dashoffset",n.strokeDashoffset),C(e,"shape-rendering",n.shapeRendering),C(e,"paint-order",n.paintOrder),C(e,"pointer-events",n.pointerEvents)}function Bn(e,n){X0(e,"mix-blend-mode",n.mixBlendMode),C(e,"opacity",n.opacity)}function Bo(e,n,t){e.each(function(r){const a=n(r);if(a!=null){const i=this.ownerDocument.createElementNS(Qn.svg,"a");i.setAttribute("fill","inherit"),i.setAttributeNS(Qn.xlink,"href",a),t!=null&&i.setAttribute("target",t),this.parentNode.insertBefore(i,this).appendChild(this)}})}function C(e,n,t){t!=null&&e.attr(n,t)}function X0(e,n,t){t!=null&&e.style(n,t)}function Fn(e,n,{x:t,y:r},a=Q,i=Q){a+=n.dx,i+=n.dy,t!=null&&t.bandwidth&&(a+=t.bandwidth()/2),r!=null&&r.bandwidth&&(i+=r.bandwidth()/2),(a||i)&&e.attr("transform",`translate(${a},${i})`)}function K(e,n){if((e=ie(e))!==n)return e}function ln(e,n){if((e=V(e))!==n)return e}const Q0=/^-?([_a-z]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])([_a-z0-9-]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*$/i;function Sa(e){if(e===void 0)return`plot-${Math.random().toString(16).slice(2)}`;if(e=`${e}`,!Q0.test(e))throw new Error(`invalid class name: ${e}`);return e}function Aa(e,n){if(typeof n=="string")e.property("style",n);else if(n!=null)for(const t of e)Object.assign(t.style,n)}function Fo({frameAnchor:e},{width:n,height:t,marginTop:r,marginRight:a,marginBottom:i,marginLeft:f}){return[/left$/.test(e)?f:/right$/.test(e)?n-a:(f+n-a)/2,/^top/.test(e)?r:/^bottom/.test(e)?t-i:(r+t-i)/2]}function k0(e,n,t={}){let r=.5-Q,a=.5+Q,i=.5+Q,f=.5-Q;for(const{marginTop:h,marginRight:p,marginBottom:g,marginLeft:w}of n)h>r&&(r=h),p>a&&(a=p),g>i&&(i=g),w>f&&(f=w);let{margin:c,marginTop:o=c!==void 0?c:r,marginRight:u=c!==void 0?c:a,marginBottom:s=c!==void 0?c:i,marginLeft:b=c!==void 0?c:f}=t;o=+o,u=+u,s=+s,b=+b;let{width:l=640,height:d=J0(e,n,t,{width:l,marginTopDefault:r,marginRightDefault:a,marginBottomDefault:i,marginLeftDefault:f})+Math.max(0,o-r+s-i)}=t;l=+l,d=+d;const m={width:l,height:d,marginTop:o,marginRight:u,marginBottom:s,marginLeft:b};if(e.fx||e.fy){let{margin:h,marginTop:p=h!==void 0?h:o,marginRight:g=h!==void 0?h:u,marginBottom:w=h!==void 0?h:s,marginLeft:v=h!==void 0?h:b}=t.facet??{};p=+p,g=+g,w=+w,v=+v,m.facet={marginTop:p,marginRight:g,marginBottom:w,marginLeft:v}}return m}function J0({x:e,y:n,fy:t,fx:r},a,{projection:i,aspectRatio:f},{width:c,marginTopDefault:o,marginRightDefault:u,marginBottomDefault:s,marginLeftDefault:b}){const l=t?t.scale.domain().length:1,d=Gl(i,a);if(d){const h=r?r.scale.domain().length:1,p=(1.1*l-.1)/(1.1*h-.1)*d,g=Math.max(.1,Math.min(10,p));return Math.round((c-b-u)*g+o+s)}const m=n?Ve(n)?n.scale.domain().length:Math.max(7,17/l):1;if(f!=null){if(f=+f,!(isFinite(f)&&f>0))throw new Error(`invalid aspectRatio: ${f}`);const h=vi("y",n)/(vi("x",e)*f),p=r?r.scale.bandwidth():1,g=t?t.scale.bandwidth():1,w=p*(c-b-u)-e.insetLeft-e.insetRight;return(h*w+n.insetTop+n.insetBottom)/g+o+s}return!!(n||t)*Math.max(1,Math.min(60,m*l))*20+!!r*30+60}function vi(e,n){if(!n)throw new Error(`aspectRatio requires ${e} scale`);const{type:t,domain:r}=n;let a;switch(t){case"linear":case"utc":case"time":a=Number;break;case"pow":{const c=n.scale.exponent();a=o=>Math.pow(o,c);break}case"log":a=Math.log;break;case"point":case"band":return r.length;default:throw new Error(`unsupported ${e} scale for aspectRatio: ${t}`)}const[i,f]=Je(r);return Math.abs(a(f)-a(i))}function eb(e,n){const{fx:t,fy:r}=Wr(e,n),a=t==null?void 0:t.scale.domain(),i=r==null?void 0:r.scale.domain();return a&&i?Es(a,i).map(([f,c],o)=>({x:f,y:c,i:o})):a?a.map((f,c)=>({x:f,i:c})):i?i.map((f,c)=>({y:f,i:c})):void 0}function nb({x:e,y:n}){const t=e&&new Map(e.map((a,i)=>[a,i])),r=n&&new Map(n.map((a,i)=>[a,i]));return e&&n?(a,i)=>t.get(a.x)-t.get(i.x)||r.get(a.y)-r.get(i.y):e?(a,i)=>t.get(a.x)-t.get(i.x):(a,i)=>r.get(a.y)-r.get(i.y)}function Ea(e,{fx:n,fy:t}){const r=Ln(e),a=n==null?void 0:n.value,i=t==null?void 0:t.value;return n&&t?yn(r,f=>(f.fx=a[f[0]],f.fy=i[f[0]],f),f=>a[f],f=>i[f]):n?yn(r,f=>(f.fx=a[f[0]],f),f=>a[f]):yn(r,f=>(f.fy=i[f[0]],f),f=>i[f])}function tb(e,n,{marginTop:t,marginLeft:r}){return e&&n?({x:a,y:i})=>`translate(${e(a)-r},${n(i)-t})`:e?({x:a})=>`translate(${e(a)-r},0)`:({y:a})=>`translate(0,${n(a)-t})`}function rb(e){const n=[],t=new Uint32Array(Nt(e,r=>r.length));for(const r of e){let a=0;for(const i of e)r!==i&&(t.set(i,a),a+=i.length);n.push(t.slice(0,a))}return n}const ab=new Map([["top",dr],["right",hr],["bottom",lr],["left",br],["top-left",Hn(dr,br)],["top-right",Hn(dr,hr)],["bottom-left",Hn(lr,br)],["bottom-right",Hn(lr,hr)],["top-empty",fb],["right-empty",ub],["bottom-empty",cb],["left-empty",ob],["empty",sb]]);function ib(e){if(e==null)return null;const n=ab.get(`${e}`.toLowerCase());if(n)return n;throw new Error(`invalid facet anchor: ${e}`)}function dr(e,{y:n},{y:t}){return n?n.indexOf(t)===0:!0}function lr(e,{y:n},{y:t}){return n?n.indexOf(t)===n.length-1:!0}function br(e,{x:n},{x:t}){return n?n.indexOf(t)===0:!0}function hr(e,{x:n},{x:t}){return n?n.indexOf(t)===n.length-1:!0}function fb(e,{y:n},{x:t,y:r,empty:a}){var f;if(a)return!1;const i=n==null?void 0:n.indexOf(r);if(i>0){const c=n[i-1];return(f=e.find(o=>o.x===t&&o.y===c))==null?void 0:f.empty}}function cb(e,{y:n},{x:t,y:r,empty:a}){var f;if(a)return!1;const i=n==null?void 0:n.indexOf(r);if(i<(n==null?void 0:n.length)-1){const c=n[i+1];return(f=e.find(o=>o.x===t&&o.y===c))==null?void 0:f.empty}}function ob(e,{x:n},{x:t,y:r,empty:a}){var f;if(a)return!1;const i=n==null?void 0:n.indexOf(t);if(i>0){const c=n[i-1];return(f=e.find(o=>o.x===c&&o.y===r))==null?void 0:f.empty}}function ub(e,{x:n},{x:t,y:r,empty:a}){var f;if(a)return!1;const i=n==null?void 0:n.indexOf(t);if(i<(n==null?void 0:n.length)-1){const c=n[i+1];return(f=e.find(o=>o.x===c&&o.y===r))==null?void 0:f.empty}}function sb(e,n,{empty:t}){return t}function Hn(e,n){return function(){return e.apply(null,arguments)&&n.apply(null,arguments)}}function mr(e,{channels:{fx:n,fy:t},groups:r}){return n&&t?e.map(({x:a,y:i})=>{var f;return((f=r.get(a))==null?void 0:f.get(i))??[]}):n?e.map(({x:a})=>r.get(a)??[]):e.map(({y:a})=>r.get(a)??[])}function zo(e){return Ve(e)&&e.interval===void 0?void 0:"tabular-nums"}function db(e,n){return e===void 0?ce(n)?Po:ie:typeof e=="function"?e:(typeof e=="string"?ce(n)?kr:ta:an)(e)}function lb(e,n){let{label:t=e.label,tickSize:r=6,width:a=240,height:i=44+r,marginTop:f=18,marginRight:c=0,marginBottom:o=16+r,marginLeft:u=0,style:s,ticks:b=(a-u-c)/64,tickFormat:l,fontVariant:d=zo(e),round:m=!0,opacity:h,className:p}=n;const g=va(n);p=Sa(p),h=ne(h)[1],l===null&&(l=()=>null);const w=Ne("svg",g).attr("class",p).attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("width",a).attr("height",i).attr("viewBox",`0 0 ${a} ${i}`).call(O=>O.append("style").text(`
        .${p} {
          display: block;
          background: white;
          height: auto;
          height: intrinsic;
          max-width: 100%;
          overflow: visible;
        }
        .${p} text {
          white-space: pre;
        }
      `)).call(Aa,s);let v=O=>O.selectAll(".tick line").attr("y1",f+o-i),y;const $=m?(O,T)=>O.rangeRound(T):(O,T)=>O.range(T),{type:M,domain:S,range:L,interpolate:R,scale:F,pivot:k}=e;if(R){const O=L===void 0?R:fa(R.length===1?xa(R):R,L);y=$(F.copy(),fe(Rn(u,a-c),Math.min(S.length+(k!==void 0),L===void 0?1/0:L.length)));const T=256,x=g.document.createElement("canvas");x.width=T,x.height=1;const A=x.getContext("2d");for(let E=0,I=T-1;E<T;++E)A.fillStyle=O(E/I),A.fillRect(E,0,1,1);w.append("image").attr("opacity",h).attr("x",u).attr("y",f).attr("width",a-u-c).attr("height",i-f-o).attr("preserveAspectRatio","none").attr("xlink:href",x.toDataURL())}else if(M==="threshold"){const O=S,T=l===void 0?x=>x:typeof l=="string"?ta(l):l;y=$(zi().domain([-1,L.length-1]),[u,a-c]),w.append("g").attr("fill-opacity",h).selectAll().data(L).enter().append("rect").attr("x",(x,A)=>y(A-1)).attr("y",f).attr("width",(x,A)=>y(A)-y(A-1)).attr("height",i-f-o).attr("fill",x=>x),b=H(O,(x,A)=>A),l=x=>T(O[x],x)}else y=$(Wi().domain(S),[u,a-c]),w.append("g").attr("fill-opacity",h).selectAll().data(S).enter().append("rect").attr("x",y).attr("y",f).attr("width",Math.max(0,y.bandwidth()-1)).attr("height",i-f-o).attr("fill",F),v=()=>{};return w.append("g").attr("transform",`translate(0,${i-o})`).call(ys(y).ticks(Array.isArray(b)?null:b,typeof l=="string"?l:void 0).tickFormat(typeof l=="function"?l:void 0).tickSize(r).tickValues(Array.isArray(b)?b:null)).attr("font-size",null).attr("font-family",null).attr("font-variant",K(d,"normal")).call(v).call(O=>O.select(".domain").remove()),t!==void 0&&w.append("text").attr("x",u).attr("y",f-6).attr("fill","currentColor").attr("font-weight","bold").text(t),w.node()}function $i(e,n){if(n==null)return n;const t=e(n);if(!t)throw new Error(`scale not found: ${n}`);return t}function bb(e,{opacity:n,...t}={}){if(!Ve(e)&&!Oo(e))throw new Error(`swatches legend requires ordinal or threshold color scale (not ${e.type})`);return jo(e,t,(r,a)=>r.append("svg").attr("fill",a.scale).attr("fill-opacity",ne(n)[1]).append("rect").attr("width","100%").attr("height","100%"),r=>`.${r}-swatch svg {
        width: var(--swatchWidth);
        height: var(--swatchHeight);
        margin-right: 0.5em;
      }`)}function hb(e,{fill:n=(u=>(u=e.hint)==null?void 0:u.fill)()!==void 0?e.hint.fill:"none",fillOpacity:t=1,stroke:r=(s=>(s=e.hint)==null?void 0:s.stroke)()!==void 0?e.hint.stroke:X(n)?"currentColor":"none",strokeOpacity:a=1,strokeWidth:i=1.5,r:f=4.5,...c}={},o){const[b,l]=nn(n),[d,m]=nn(r),h=$i(o,b),p=$i(o,d),g=f*f*Math.PI;return t=ne(t)[1],a=ne(a)[1],i=ne(i)[1],jo(e,c,w=>w.append("svg").attr("viewBox","-8 -8 16 16").attr("fill",b==="color"?v=>h.scale(v):null).attr("stroke",d==="color"?v=>p.scale(v):null).append("path").attr("d",v=>{const y=vr();return e.scale(v).draw(y,g),y}),w=>`.${w}-swatch > svg {
        width: var(--swatchWidth);
        height: var(--swatchHeight);
        margin-right: 0.5em;
        overflow: visible;
        fill: ${l};
        fill-opacity: ${t};
        stroke: ${m};
        stroke-width: ${i}px;
        stroke-opacity: ${a};
      }`)}function jo(e,n={},t,r){let{columns:a,tickFormat:i,fontVariant:f=zo(e),swatchSize:c=15,swatchWidth:o=c,swatchHeight:u=c,marginLeft:s=0,className:b,style:l,width:d}=n;const m=va(n);b=Sa(b),i=db(i,e.domain);const h=Ne("div",m).attr("class",b).attr("style",`
        --swatchWidth: ${+o}px;
        --swatchHeight: ${+u}px;
      `);let p;return a!=null?(p=`
      .${b}-swatch {
        display: flex;
        align-items: center;
        break-inside: avoid;
        padding-bottom: 1px;
      }
      .${b}-swatch::before {
        flex-shrink: 0;
      }
      .${b}-label {
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
      }
    `,h.style("columns",a).selectAll().data(e.domain).enter().append("div").attr("class",`${b}-swatch`).call(t,e).call(g=>g.append("div").attr("class",`${b}-label`).attr("title",i).text(i))):(p=`
      .${b} {
        display: flex;
        align-items: center;
        min-height: 33px;
        flex-wrap: wrap;
      }
      .${b}-swatch {
        display: inline-flex;
        align-items: center;
        margin-right: 1em;
      }
    `,h.selectAll().data(e.domain).enter().append("span").attr("class",`${b}-swatch`).call(t,e).append(function(){return this.ownerDocument.createTextNode(i.apply(this,arguments))})),h.call(g=>g.insert("style","*").text(`
        .${b} {
          font-family: system-ui, sans-serif;
          font-size: 10px;
          margin-bottom: 0.5em;${s===void 0?"":`
          margin-left: ${+s}px;`}${d===void 0?"":`
          width: ${d}px;`}
        }
        ${r(b)}
        ${p}
      `)).style("font-variant",K(f,"normal")).call(Aa,l).node()}const _r=new Map([["symbol",hb],["color",_o],["opacity",pb]]);function mb(e,n,t={}){return(r,a)=>{if(!_r.has(r))throw new Error(`unknown legend type: ${r}`);if(r in e)return _r.get(r)(e[r],Wo(n,t[r],a),i=>e[i])}}function Wo(e,{label:n,ticks:t,tickFormat:r}={},a){return pl(a,e,{label:n,ticks:t,tickFormat:r})}function _o(e,{legend:n=!0,...t}){if(n===!0&&(n=e.type==="ordinal"?"swatches":"ramp"),e.domain!==void 0)switch(`${n}`.toLowerCase()){case"swatches":return bb(e,t);case"ramp":return lb(e,t);default:throw new Error(`unknown legend type: ${n}`)}}function pb({type:e,interpolate:n,...t},{legend:r=!0,color:a=Xn(0,0,0),...i}){if(!n)throw new Error(`${e} opacity scales are not supported`);if(r===!0&&(r="ramp"),`${r}`.toLowerCase()!=="ramp")throw new Error(`${r} opacity legends are not supported`);return _o({type:e,...t,interpolate:gb(a)},{legend:r,...i})}function gb(e){const{r:n,g:t,b:r}=Xn(e)||Xn(0,0,0);return a=>`rgba(${n},${t},${r},${a})`}function yb(e,n,t){const r=[];for(const[a,i]of _r){const f=t[a];if(f!=null&&f.legend&&a in e){const c=i(e[a],Wo(n,e[a],f),o=>e[o]);c!=null&&r.push(c)}}return r}class Oe{constructor(n,t={},r={},a){const{facet:i="auto",facetAnchor:f,fx:c,fy:o,sort:u,dx:s=0,dy:b=0,margin:l=0,marginTop:d=l,marginRight:m=l,marginBottom:h=l,marginLeft:p=l,clip:g,channels:w}=r;if(this.data=n,this.sort=tn(u)?u:null,this.initializer=Ut(r).initializer,this.transform=this.initializer?r.transform:uo(r).transform,i===null||i===!1?this.facet=null:(this.facet=Ce(i===!0?"include":i,"facet",["auto","include","exclude","super"]),this.fx=c,this.fy=o),this.facetAnchor=ib(f),t=ai(t),w!==void 0&&(t={...ai(w),...t}),a!==void 0&&(t={...W0(this,r,a),...t}),this.channels=Object.fromEntries(Object.entries(t).map(([v,y])=>{const{value:$}=y;return Bt($)&&(y={...y,value:$.value},$.scale!==void 0&&(y.scale=$.scale)),[v,y]}).filter(([v,{value:y,optional:$}])=>{if(y!=null)return!0;if($)return!1;throw new Error(`missing channel value: ${v}`)})),this.dx=+s,this.dy=+b,this.marginTop=+d,this.marginRight=+m,this.marginBottom=+h,this.marginLeft=+p,this.clip=Z0(g),this.facet==="super"){if(c||o)throw new Error("super-faceting cannot use fx or fy");for(const v in this.channels){const{scale:y}=t[v];if(!(y!=="x"&&y!=="y"))throw new Error("super-faceting cannot use x or y")}}}initialize(n,t){let r=he(this.data);n===void 0&&r!=null&&(n=[Ln(r)]);const a=n;this.transform!=null&&({facets:n,data:r}=this.transform(r,n),r=he(r)),n!==void 0&&(n.original=a);const i=Pl(this.channels,r);return this.sort!=null&&Bl(r,n,i,t,this.sort),{data:r,facets:n,channels:i}}filter(n,t,r){for(const a in t){const{filter:i=en}=t[a];if(i!==null){const f=r[a];n=n.filter(c=>i(f[c]))}}return n}project(n,t,r){Kn("x","y",n,t,r),Kn("x1","y1",n,t,r),Kn("x2","y2",n,t,r)}scale(n,t,r){const a=mo(n,t);return r.projection&&this.project(n,a,r),a}}function Uo(...e){return e.plot=Oe.prototype.plot,e}const Vo=Math.PI/180;function Ho({inset:e,insetLeft:n,insetRight:t,...r}={}){return[n,t]=Go(e,n,t),{inset:e,insetLeft:n,insetRight:t,...r}}function Yo({inset:e,insetTop:n,insetBottom:t,...r}={}){return[n,t]=Go(e,n,t),{inset:e,insetTop:n,insetBottom:t,...r}}function Go(e,n,t){return e===void 0&&n===void 0&&t===void 0?Q?[1,0]:[.5,.5]:[n,t]}function Zo(e,{interval:n}){return e={...ma(e)},e.interval=ha(e.interval===void 0?n:e.interval),e}function Ko(e,n,t,r){const{[e]:a,[`${e}1`]:i,[`${e}2`]:f}=t,{value:c,interval:o}=Zo(a,t);if(c==null||o==null&&!r)return t;const u=cn(a);if(o==null){let d;const m={transform:h=>d||(d=Se(h,c)),label:u};return{...t,[e]:void 0,[`${e}1`]:i===void 0?m:i,[`${e}2`]:f===void 0?m:f}}let s,b;function l(d){return b!==void 0&&d===s?b:b=H(Se(s=d,c),m=>o.floor(m))}return n({...t,[e]:void 0,[`${e}1`]:i===void 0?{transform:l,label:u}:i,[`${e}2`]:f===void 0?{transform:d=>l(d).map(m=>o.offset(m)),label:u}:f})}function Xo(e,n,t){const{[e]:r}=t,{value:a,interval:i}=Zo(r,t);return a==null||i==null?t:n({...t,[e]:{label:cn(r),transform:f=>{const c=H(Se(f,a),u=>i.floor(u)),o=c.map(u=>i.offset(u));return c.map(ce(c)?(u,s)=>u==null||isNaN(u=+u)||(s=o[s],s==null)||isNaN(s=+s)?void 0:new Date((u+s)/2):(u,s)=>u==null||(s=o[s],s==null)?NaN:(+u+ +s)/2)}}})}function wb(e={}){return Ko("x",Ho,e)}function vb(e={}){return Ko("y",Yo,e)}function $b(e={}){return Xo("x",Ho,e)}function Mb(e={}){return Xo("y",Yo,e)}const Qo={ariaLabel:"rule",fill:null,stroke:"currentColor"};class xb extends Oe{constructor(n,t={}){const{x:r,y1:a,y2:i,inset:f=0,insetTop:c=f,insetBottom:o=f}=t;super(n,{x:{value:r,scale:"x",optional:!0},y1:{value:a,scale:"y",optional:!0},y2:{value:i,scale:"y",optional:!0}},t,Qo),this.insetTop=V(c),this.insetBottom=V(o)}render(n,t,r,a,i){const{x:f,y:c}=t,{x:o,y1:u,y2:s}=r,{width:b,height:l,marginTop:d,marginRight:m,marginLeft:h,marginBottom:p}=a,{insetTop:g,insetBottom:w}=this;return Ne("svg:g",i).call(Pn,this,a).call(Fn,this,{x:o&&f},Q,0).call(v=>v.selectAll().data(n).enter().append("line").call(Bn,this).attr("x1",o?y=>o[y]:(h+b-m)/2).attr("x2",o?y=>o[y]:(h+b-m)/2).attr("y1",u&&!gt(c)?y=>u[y]+g:d+g).attr("y2",s&&!gt(c)?c.bandwidth?y=>s[y]+c.bandwidth()-w:y=>s[y]-w:l-p-w).call(Gt,this,r)).node()}}class Tb extends Oe{constructor(n,t={}){const{x1:r,x2:a,y:i,inset:f=0,insetRight:c=f,insetLeft:o=f}=t;super(n,{y:{value:i,scale:"y",optional:!0},x1:{value:r,scale:"x",optional:!0},x2:{value:a,scale:"x",optional:!0}},t,Qo),this.insetRight=V(c),this.insetLeft=V(o)}render(n,t,r,a,i){const{x:f,y:c}=t,{y:o,x1:u,x2:s}=r,{width:b,height:l,marginTop:d,marginRight:m,marginLeft:h,marginBottom:p}=a,{insetLeft:g,insetRight:w}=this;return Ne("svg:g",i).call(Pn,this,a,i).call(Fn,this,{y:o&&c},0,Q).call(v=>v.selectAll().data(n).enter().append("line").call(Bn,this).attr("x1",u&&!gt(f)?y=>u[y]+g:h+g).attr("x2",s&&!gt(f)?f.bandwidth?y=>s[y]+f.bandwidth()-w:y=>s[y]-w:b-m-w).attr("y1",o?y=>o[y]:(d+l-p)/2).attr("y2",o?y=>o[y]:(d+l-p)/2).call(Gt,this,r)).node()}}function Sb(e,n){let{x:t=Ee,y:r,y1:a,y2:i,...f}=vb(n);return[a,i]=ko(r,a,i),new xb(e,{...f,x:t,y1:a,y2:i})}function Ab(e,n){let{y:t=Ee,x:r,x1:a,x2:i,...f}=wb(n);return[a,i]=ko(r,a,i),new Tb(e,{...f,y:t,x1:a,x2:i})}function ko(e,n,t){if(e===void 0){if(n===void 0){if(t!==void 0)return[0,t]}else if(t===void 0)return[0,n]}else{if(n===void 0)return t===void 0?[0,e]:[e,t];if(t===void 0)return[e,n]}return[n,t]}function Jo(e,...n){let t=n.length;for(let r=0,a=!0;r<t;++r)typeof n[r]!="function"&&(a&&(e=e.slice(),a=!1),e.splice(r,2,e[r]+n[r]+e[r+1]),n.splice(r,1),--r,--t);return r=>{let a=e[0];for(let i=0;i<t;++i)a+=n[i](r)+e[i+1];return a}}const Eb={ariaLabel:"text",strokeLinejoin:"round",strokeWidth:3,paintOrder:"stroke"},eu="";class Ca extends Oe{constructor(n,t={}){const{x:r,y:a,text:i=Ue(n)&&sl(n)?Ee:nl,frameAnchor:f,textAnchor:c=/right$/i.test(f)?"end":/left$/i.test(f)?"start":"middle",lineAnchor:o=/^top/i.test(f)?"top":/^bottom/i.test(f)?"bottom":"middle",lineHeight:u=1,lineWidth:s=1/0,textOverflow:b,monospace:l,fontFamily:d=l?"ui-monospace, monospace":void 0,fontSize:m,fontStyle:h,fontVariant:p,fontWeight:g,rotate:w}=t,[v,y]=ne(w,0),[$,M]=qb(m);if(super(n,{x:{value:r,scale:"x",optional:!0},y:{value:a,scale:"y",optional:!0},fontSize:{value:$,optional:!0},rotate:{value:ul(v),optional:!0},text:{value:i,filter:sa,optional:!0}},t,Eb),this.rotate=y,this.textAnchor=K(c,"middle"),this.lineAnchor=Ce(o,"lineAnchor",["top","middle","bottom"]),this.lineHeight=+u,this.lineWidth=+s,this.textOverflow=Cb(b),this.monospace=!!l,this.fontFamily=ie(d),this.fontSize=M,this.fontStyle=ie(h),this.fontVariant=ie(p),this.fontWeight=ie(g),this.frameAnchor=oo(f),!(this.lineWidth>=0))throw new Error(`invalid lineWidth: ${s}`);this.splitLines=Fb(this),this.clipLine=zb(this)}render(n,t,r,a,i){const{x:f,y:c}=t,{x:o,y:u,rotate:s,text:b,title:l,fontSize:d}=r,{rotate:m}=this,[h,p]=Fo(this,a);return Ne("svg:g",i).call(Pn,this,a,i).call(Lb,this,b,a).call(Fn,this,{x:o&&f,y:u&&c}).call(g=>g.selectAll().data(n).enter().append("text").call(Bn,this).call(Nb,this,b,l).attr("transform",Jo`translate(${o?w=>o[w]:h},${u?w=>u[w]:p})${s?w=>` rotate(${s[w]})`:m?` rotate(${m})`:""}`).call(C,"font-size",d&&(w=>d[w])).call(Gt,this,r)).node()}}function Cb(e){return e==null?null:Ce(e,"textOverflow",["clip","ellipsis","clip-start","clip-end","ellipsis-start","ellipsis-middle","ellipsis-end"]).replace(/^(clip|ellipsis)$/,"$1-end")}function Nb(e,n,t,r){if(!t)return;const{lineAnchor:a,lineHeight:i,textOverflow:f,splitLines:c,clipLine:o}=n;e.each(function(u){const s=c(Yt(t[u])??"").map(o),b=s.length,l=a==="top"?.71:a==="bottom"?1-b:(164-b*100)/200;if(b>1)for(let d=0;d<b;++d){if(!s[d])continue;const m=this.ownerDocument.createElementNS(Qn.svg,"tspan");m.setAttribute("x",0),m.setAttribute("y",`${(l+d)*i}em`),m.textContent=s[d],this.appendChild(m)}else l&&this.setAttribute("y",`${l*i}em`),this.textContent=s[0];if(f&&!r&&s[0]!==t[u]){const d=this.ownerDocument.createElementNS(Qn.svg,"title");d.textContent=t[u],this.appendChild(d)}})}function nu(e,n={}){let{x:t,y:r,...a}=n;return n.frameAnchor===void 0&&([t,r]=fl(t,r)),new Ca(e,{...a,x:t,y:r})}function Rb(e,n={}){const{x:t=Ee,...r}=n;return new Ca(e,Mb({...r,x:t}))}function Ib(e,n={}){const{y:t=Ee,...r}=n;return new Ca(e,$b({...r,y:t}))}function Lb(e,n,t){C(e,"text-anchor",n.textAnchor),C(e,"font-family",n.fontFamily),C(e,"font-size",n.fontSize),C(e,"font-style",n.fontStyle),C(e,"font-variant",n.fontVariant===void 0?Db(t):n.fontVariant),C(e,"font-weight",n.fontWeight)}function Db(e){return bl(e)||ce(e)?"tabular-nums":void 0}const Ob=new Set(["inherit","initial","revert","unset","xx-small","x-small","small","medium","large","x-large","xx-large","xxx-large","larger","smaller"]);function qb(e){return e==null||typeof e=="number"?[void 0,e]:typeof e!="string"?[e,void 0]:(e=e.trim().toLowerCase(),Ob.has(e)||/^[+-]?\d*\.?\d+(e[+-]?\d+)?(\w*|%)$/.test(e)?[void 0,e]:[e,void 0])}function Pb(e,n,t){const r=[];let a,i=0;for(const[f,c,o]of Bb(e)){if(a===void 0&&(a=f),i>a&&t(e,a,c)>n&&(r.push(e.slice(a,i)+(e[i-1]===eu?"-":"")),a=f),o){r.push(e.slice(a,c)),a=void 0;continue}i=c}return r}function*Bb(e){let n=0,t=0;const r=e.length;for(;t<r;){let a=1;switch(e[t]){case eu:case"-":++t,yield[n,t,!1],n=t;break;case" ":for(yield[n,t,!1];e[++t]===" ";);n=t;break;case"\r":e[t+1]===`
`&&++a;case`
`:yield[n,t,!0],t+=a,n=t;break;default:++t;break}}yield[n,t,!0]}const Mi={a:56,b:63,c:57,d:63,e:58,f:37,g:62,h:60,i:26,j:26,k:55,l:26,m:88,n:60,o:60,p:62,q:62,r:39,s:54,t:38,u:60,v:55,w:79,x:54,y:55,z:55,A:69,B:67,C:73,D:74,E:61,F:58,G:76,H:75,I:28,J:55,K:67,L:58,M:89,N:75,O:78,P:65,Q:78,R:67,S:65,T:65,U:75,V:69,W:98,X:69,Y:67,Z:67,0:64,1:48,2:62,3:64,4:66,5:63,6:65,7:58,8:65,9:65," ":29,"!":32,'"':49,"'":31,"(":39,")":39,",":31,"-":48,".":31,"/":32,":":31,";":31,"?":52,"":31,"":31,"":47,"":47,"":82};function tu(e,n=0,t=e.length){let r=0;for(let a=n;a<t;a=on(e,a))r+=Mi[e[a]]??(iu(e,a)?120:Mi.e);return r}function ru(e,n=0,t=e.length){let r=0;for(let a=n;a<t;a=on(e,a))r+=iu(e,a)?200:100;return r}function Fb({monospace:e,lineWidth:n,textOverflow:t}){if(t!=null||n==1/0)return i=>i.split(/\r\n?|\n/g);const r=e?ru:tu,a=n*100;return i=>Pb(i,a,r)}function zb({monospace:e,lineWidth:n,textOverflow:t}){if(t==null||n==1/0)return i=>i;const r=e?ru:tu,a=n*100;switch(t){case"clip-start":return i=>Ti(i,a,r,"");case"clip-end":return i=>xi(i,a,r,"");case"ellipsis-start":return i=>Ti(i,a,r,"");case"ellipsis-middle":return i=>jb(i,a,r,"");case"ellipsis-end":return i=>xi(i,a,r,"")}}function yt(e,n,t,r){const a=[];let i=0;for(let f=0,c=0,o=e.length;f<o;f=c){c=on(e,f);const u=t(e,f,c);if(i+u>n){for(i+=r;i>n&&f>0;)c=f,f=a.pop(),i-=t(e,f,c);return[f,n-i]}i+=u,a.push(f)}return[-1,0]}function xi(e,n,t,r){e=e.trim();const a=t(r),[i]=yt(e,n,t,a);return i<0?e:e.slice(0,i).trimEnd()+r}function jb(e,n,t,r){e=e.trim();const a=t(e);if(a<=n)return e;const i=t(r)/2,[f,c]=yt(e,n/2,t,i),[o]=yt(e,a-n/2-c+i,t,-i);return o<0?r:e.slice(0,f).trimEnd()+r+e.slice(on(e,o)).trimStart()}function Ti(e,n,t,r){e=e.trim();const a=t(e);if(a<=n)return e;const i=t(r),[f]=yt(e,a-n+i,t,-i);return f<0?r:r+e.slice(on(e,f)).trimStart()}const Ur=/[\p{Combining_Mark}\p{Emoji_Modifier}]+/uy,Si=/\p{Extended_Pictographic}/uy;function on(e,n){return n+=Wb(e,n)?2:1,Ub(e,n)&&(n=Ur.lastIndex),_b(e,n)?on(e,n+1):n}function au(e,n){return e.charCodeAt(n)<128}function Wb(e,n){const t=e.charCodeAt(n);if(t>=55296&&t<56320){const r=e.charCodeAt(n+1);return r>=56320&&r<57344}return!1}function _b(e,n){return e.charCodeAt(n)===8205}function Ub(e,n){return au(e,n)?!1:(Ur.lastIndex=n,Ur.test(e))}function iu(e,n){return au(e,n)?!1:(Si.lastIndex=n,Si.test(e))}const Vb={ariaLabel:"vector",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinejoin:"round",strokeLinecap:"round"},fu=3.5,Hb=fu*5,cu={draw(e,n,t){const r=n*t/Hb;e.moveTo(0,0),e.lineTo(0,-n),e.moveTo(-r,r-n),e.lineTo(0,-n),e.lineTo(r,r-n)}},Yb={draw(e,n,t){e.moveTo(-t,0),e.lineTo(0,-n),e.lineTo(t,0)}},Gb=new Map([["arrow",cu],["spike",Yb]]);function Zb(e){return e&&typeof e.draw=="function"}function Kb(e){if(Zb(e))return e;const n=Gb.get(`${e}`.toLowerCase());if(n)return n;throw new Error(`invalid shape: ${e}`)}class ou extends Oe{constructor(n,t={}){const{x:r,y:a,r:i=fu,length:f,rotate:c,shape:o=cu,anchor:u="middle",frameAnchor:s}=t,[b,l]=ne(f,12),[d,m]=ne(c,0);super(n,{x:{value:r,scale:"x",optional:!0},y:{value:a,scale:"y",optional:!0},length:{value:b,scale:"length",optional:!0},rotate:{value:d,optional:!0}},t,Vb),this.r=+i,this.length=l,this.rotate=m,this.shape=Kb(o),this.anchor=Ce(u,"anchor",["start","middle","end"]),this.frameAnchor=oo(s)}render(n,t,r,a,i){const{x:f,y:c}=t,{x:o,y:u,length:s,rotate:b}=r,{length:l,rotate:d,anchor:m,shape:h,r:p}=this,[g,w]=Fo(this,a);return Ne("svg:g",i).call(Pn,this,a,i).call(Fn,this,{x:o&&f,y:u&&c}).call(v=>v.selectAll().data(n).enter().append("path").call(Bn,this).attr("transform",Jo`translate(${o?y=>o[y]:g},${u?y=>u[y]:w})${b?y=>` rotate(${b[y]})`:d?` rotate(${d})`:""}${m==="start"?"":m==="end"?s?y=>` translate(0,${s[y]})`:` translate(0,${l})`:s?y=>` translate(0,${s[y]/2})`:` translate(0,${l/2})`}`).attr("d",s?y=>{const $=vr();return h.draw($,s[y],p),$}:(()=>{const y=vr();return h.draw(y,l,p),y})()).call(Gt,this,r)).node()}}function Xb(e,n={}){const{x:t=Ee,...r}=n;return new ou(e,{...r,x:t})}function Qb(e,n={}){const{y:t=Ee,...r}=n;return new ou(e,{...r,y:t})}function qe(e,n){return arguments.length<2&&!Ue(e)&&(n=e,e=null),n===void 0&&(n={}),[e,n]}function Zt({anchor:e}={},n){return e===void 0?n[0]:Ce(e,"anchor",n)}function uu(e){return Zt(e,["left","right"])}function su(e){return Zt(e,["right","left"])}function du(e){return Zt(e,["bottom","top"])}function lu(e){return Zt(e,["top","bottom"])}function bu(){const[e,n]=qe(...arguments);return mu("y",uu(n),e,n)}function kb(){const[e,n]=qe(...arguments);return mu("fy",su(n),e,n)}function hu(){const[e,n]=qe(...arguments);return pu("x",du(n),e,n)}function Jb(){const[e,n]=qe(...arguments);return pu("fx",lu(n),e,n)}function mu(e,n,t,{color:r="currentColor",opacity:a=1,stroke:i=r,strokeOpacity:f=a,strokeWidth:c=1,fill:o=r,fillOpacity:u=a,textAnchor:s,textStroke:b,textStrokeOpacity:l,textStrokeWidth:d,tickSize:m=e==="y"?6:0,tickPadding:h,tickRotate:p,x:g,marginTop:w=20,marginRight:v=n==="right"?40:0,marginBottom:y=20,marginLeft:$=n==="left"?40:0,label:M,labelOffset:S,labelAnchor:L,...R}){return m=V(m),h=V(h),p=V(p),L!==void 0&&(L=Ce(L,"labelAnchor",["center","top","bottom"])),Uo(m&&!X(i)?e1(e,n,t,{stroke:i,strokeOpacity:f,strokeWidth:c,tickSize:m,tickPadding:h,tickRotate:p,x:g,...R}):null,X(o)?null:t1(e,n,t,{fill:o,fillOpacity:u,stroke:b,strokeOpacity:l,strokeWidth:d,textAnchor:s,tickSize:m,tickPadding:h,tickRotate:p,x:g,marginTop:w,marginRight:v,marginBottom:y,marginLeft:$,...R}),!X(o)&&M!==null?nu([],{fill:o,fillOpacity:u,...R,lineWidth:void 0,textOverflow:void 0,facet:"super",x:null,y:null,initializer:function(F,k,O,T,x){const A=T[e],{marginTop:E,marginRight:I,marginBottom:U,marginLeft:z}=e==="y"&&x.inset||x,q=L??(A.bandwidth?"center":"top"),Y=S??(n==="right"?I:z)-3;return q==="center"?(this.textAnchor=void 0,this.lineAnchor=n==="right"?"bottom":"top",this.frameAnchor=n,this.rotate=-90):(this.textAnchor=n==="right"?"end":"start",this.lineAnchor=q,this.frameAnchor=`${q}-${n}`,this.rotate=0),this.dy=q==="top"?3-E:q==="bottom"?U-3:0,this.dx=n==="right"?Y:-Y,this.ariaLabel=`${e}-axis label`,{facets:[[0]],channels:{text:{value:[M===void 0?Mu(e,A,q):M]}}}}}):null)}function pu(e,n,t,{color:r="currentColor",opacity:a=1,stroke:i=r,strokeOpacity:f=a,strokeWidth:c=1,fill:o=r,fillOpacity:u=a,textAnchor:s,textStroke:b,textStrokeOpacity:l,textStrokeWidth:d,tickSize:m=e==="x"?6:0,tickPadding:h,tickRotate:p,y:g,marginTop:w=n==="top"?30:0,marginRight:v=20,marginBottom:y=n==="bottom"?30:0,marginLeft:$=20,label:M,labelAnchor:S,labelOffset:L,...R}){return m=V(m),h=V(h),p=V(p),S!==void 0&&(S=Ce(S,"labelAnchor",["center","left","right"])),Uo(m&&!X(i)?n1(e,n,t,{stroke:i,strokeOpacity:f,strokeWidth:c,tickSize:m,tickPadding:h,tickRotate:p,y:g,...R}):null,X(o)?null:r1(e,n,t,{fill:o,fillOpacity:u,stroke:b,strokeOpacity:l,strokeWidth:d,textAnchor:s,tickSize:m,tickPadding:h,tickRotate:p,y:g,marginTop:w,marginRight:v,marginBottom:y,marginLeft:$,...R}),!X(o)&&M!==null?nu([],{fill:o,fillOpacity:u,...R,lineWidth:void 0,textOverflow:void 0,facet:"super",x:null,y:null,initializer:function(F,k,O,T,x){const A=T[e],{marginTop:E,marginRight:I,marginBottom:U,marginLeft:z}=e==="x"&&x.inset||x,q=S??(A.bandwidth?"center":"right"),Y=L??(n==="top"?E:U)-3;return q==="center"?(this.frameAnchor=n,this.textAnchor=void 0):(this.frameAnchor=`${n}-${q}`,this.textAnchor=q==="right"?"end":"start"),this.lineAnchor=n,this.dy=n==="top"?-Y:Y,this.dx=q==="right"?I-3:q==="left"?3-z:0,this.ariaLabel=`${e}-axis label`,{facets:[[0]],channels:{text:{value:[M===void 0?Mu(e,A,q):M]}}}}}):null)}function e1(e,n,t,{strokeWidth:r=1,strokeLinecap:a=null,strokeLinejoin:i=null,facetAnchor:f=n+(e==="y"?"-empty":""),frameAnchor:c=n,tickSize:o,inset:u=0,insetLeft:s=u,insetRight:b=u,dx:l=0,y:d=e==="y"?void 0:null,...m}){return un(Qb,e,`${e}-axis tick`,t,{strokeWidth:r,strokeLinecap:a,strokeLinejoin:i,facetAnchor:f,frameAnchor:c,y:d,...m,dx:n==="left"?+l-Q+ +s:+l+Q-b,anchor:"start",length:o,shape:n==="left"?d1:l1})}function n1(e,n,t,{strokeWidth:r=1,strokeLinecap:a=null,strokeLinejoin:i=null,facetAnchor:f=n+(e==="x"?"-empty":""),frameAnchor:c=n,tickSize:o,inset:u=0,insetTop:s=u,insetBottom:b=u,dy:l=0,x:d=e==="x"?void 0:null,...m}){return un(Xb,e,`${e}-axis tick`,t,{strokeWidth:r,strokeLinejoin:i,strokeLinecap:a,facetAnchor:f,frameAnchor:c,x:d,...m,dy:n==="bottom"?+l-Q-b:+l+Q+ +s,anchor:"start",length:o,shape:n==="bottom"?u1:s1})}function t1(e,n,t,{facetAnchor:r=n+(e==="y"?"-empty":""),frameAnchor:a=n,tickSize:i,tickRotate:f=0,tickPadding:c=Math.max(3,9-i)+(Math.abs(f)>60?4*Math.cos(f*Vo):0),tickFormat:o,text:u=typeof o=="function"?o:void 0,textAnchor:s=Math.abs(f)>60?"middle":n==="left"?"end":"start",lineAnchor:b=f>60?"top":f<-60?"bottom":"middle",fontVariant:l,inset:d=0,insetLeft:m=d,insetRight:h=d,dx:p=0,y:g=e==="y"?void 0:null,...w}){return un(Ib,e,`${e}-axis tick label`,t,{facetAnchor:r,frameAnchor:a,text:u===void 0?null:u,textAnchor:s,lineAnchor:b,fontVariant:l,rotate:f,y:g,...w,dx:n==="left"?+p-i-c+ +m:+p+ +i+ +c-h},function(v,y,$){l===void 0&&(this.fontVariant=$u(v)),u===void 0&&($.text=vu(v,y,o))})}function r1(e,n,t,{facetAnchor:r=n+(e==="x"?"-empty":""),frameAnchor:a=n,tickSize:i,tickRotate:f=0,tickPadding:c=Math.max(3,9-i)+(Math.abs(f)>=10?4*Math.cos(f*Vo):0),tickFormat:o,text:u=typeof o=="function"?o:void 0,textAnchor:s=Math.abs(f)>=10?f<0^n==="bottom"?"start":"end":"middle",lineAnchor:b=Math.abs(f)>=10?"middle":n==="bottom"?"top":"bottom",fontVariant:l,inset:d=0,insetTop:m=d,insetBottom:h=d,dy:p=0,x:g=e==="x"?void 0:null,...w}){return un(Rb,e,`${e}-axis tick label`,t,{facetAnchor:r,frameAnchor:a,text:u===void 0?null:u,textAnchor:s,lineAnchor:b,fontVariant:l,rotate:f,x:g,...w,dy:n==="bottom"?+p+ +i+ +c-h:+p-i-c+ +m},function(v,y,$){l===void 0&&(this.fontVariant=$u(v)),u===void 0&&($.text=vu(v,y,o))})}function a1(){const[e,n]=qe(...arguments);return gu("y",uu(n),e,n)}function i1(){const[e,n]=qe(...arguments);return gu("fy",su(n),e,n)}function f1(){const[e,n]=qe(...arguments);return yu("x",du(n),e,n)}function c1(){const[e,n]=qe(...arguments);return yu("fx",lu(n),e,n)}function gu(e,n,t,{y:r=e==="y"?void 0:null,x:a=null,x1:i=n==="left"?a:null,x2:f=n==="right"?a:null,...c}){return un(Ab,e,`${e}-grid`,t,{y:r,x1:i,x2:f,...wu(c)})}function yu(e,n,t,{x:r=e==="x"?void 0:null,y:a=null,y1:i=n==="top"?a:null,y2:f=n==="bottom"?a:null,...c}){return un(Sb,e,`${e}-grid`,t,{x:r,y1:i,y2:f,...wu(c)})}function wu({color:e="currentColor",opacity:n=.1,stroke:t=e,strokeOpacity:r=n,strokeWidth:a=1,...i}){return{stroke:t,strokeOpacity:r,strokeWidth:a,...i}}function un(e,n,t,r,a,i){let f;const c=e(r,Ut(a,function(o,u,s,b){const{[n]:l}=b;if(!l)throw new Error(`missing scale: ${n}`);let{ticks:d,tickSpacing:m,interval:h}=a;if(Do(l)&&typeof d=="string"&&(h=d,d=void 0),o==null){if(Ue(d))o=he(d);else if(l.ticks)if(d!==void 0)o=l.ticks(d);else if(h=Dn(h===void 0?l.interval:h,l.type),h!==void 0){const[p,g]=Je(l.domain());o=h.range(p,h.offset(h.floor(g)))}else{const[p,g]=Je(l.range());d=(g-p)/(m===void 0?n==="x"?80:35:m),o=l.ticks(d)}else o=l.domain();n==="y"||n==="x"?u=[Ln(o)]:(f[n]={scale:n,value:Ee},u=void 0)}return i==null||i.call(this,l,d,f),{data:o,facets:u,channels:Object.fromEntries(Object.entries(f).map(([p,g])=>[p,{...g,value:Se(o,g.value)}]))}}));return r==null?(f=c.channels,c.channels={}):f={},c.ariaLabel=t,c}function vu(e,n,t){return{value:o1(e,n,t)}}function o1(e,n,t){return e.tickFormat?e.tickFormat(Ue(n)?null:n,t):t===void 0?Yt:typeof t=="string"?(ce(e.domain())?kr:ta)(t):an(t)}const u1={draw(e,n){e.moveTo(0,0),e.lineTo(0,n)}},s1={draw(e,n){e.moveTo(0,0),e.lineTo(0,-n)}},d1={draw(e,n){e.moveTo(0,0),e.lineTo(-n,0)}},l1={draw(e,n){e.moveTo(0,0),e.lineTo(n,0)}};function $u(e){return e.bandwidth&&e.interval===void 0?void 0:"tabular-nums"}function b1(e){return Math.sign(En(e.domain()))*Math.sign(En(e.range()))}function Mu(e,n,t){const r=n.label;if(n.bandwidth||!(r!=null&&r.inferred))return r;const a=b1(n);return a?e==="x"||t==="center"?e==="x"==a<0?` ${r}`:`${r} `:`${a<0?" ":" "}${r}`:r}const h1={ariaLabel:"frame",fill:"none",stroke:"currentColor"},m1={ariaLabel:"frame",fill:null,stroke:"currentColor",strokeLinecap:"square"};class p1 extends Oe{constructor(n={}){const{anchor:t=null,inset:r=0,insetTop:a=r,insetRight:i=r,insetBottom:f=r,insetLeft:c=r,rx:o,ry:u}=n;super(void 0,void 0,n,t==null?h1:m1),this.anchor=io(t,"anchor",["top","right","bottom","left"]),this.insetTop=V(a),this.insetRight=V(i),this.insetBottom=V(f),this.insetLeft=V(c),this.rx=V(o),this.ry=V(u)}render(n,t,r,a,i){const{marginTop:f,marginRight:c,marginBottom:o,marginLeft:u,width:s,height:b}=a,{anchor:l,insetTop:d,insetRight:m,insetBottom:h,insetLeft:p,rx:g,ry:w}=this,v=u+p,y=s-c-m,$=f+d,M=b-o-h;return Ne(l?"svg:line":"svg:rect",i).call(Pn,this,a,i).call(Bn,this).call(Fn,this,{}).call(l==="left"?S=>S.attr("x1",v).attr("x2",v).attr("y1",$).attr("y2",M):l==="right"?S=>S.attr("x1",y).attr("x2",y).attr("y1",$).attr("y2",M):l==="top"?S=>S.attr("x1",v).attr("x2",y).attr("y1",$).attr("y2",$):l==="bottom"?S=>S.attr("x1",v).attr("x2",y).attr("y1",M).attr("y2",M):S=>S.attr("x",v).attr("y",$).attr("width",y-v).attr("height",M-$).attr("rx",g).attr("ry",w)).node()}}function g1(e){return new p1(e)}function y1(e={}){const{facet:n,style:t,caption:r,ariaLabel:a,ariaDescription:i}=e,f=Sa(e.className),c=e.marks===void 0?[]:Ai(e.marks),o=x1(n,e),u=new Map;for(const T of c){const x=Ei(T,o,e);x&&u.set(T,x)}const s=new Map;o&&bn(s,[o]),bn(s,u);const b=Ai(T1(c,s,e));for(const T of b){const x=Ei(T,o,e);x&&u.set(T,x)}c.unshift(...b);const l=eb(s,e);if(l!==void 0){const T=o?mr(l,o):void 0;for(const A of c){if(A.facet===null||A.facet==="super")continue;const E=u.get(A);E!==void 0&&(E.facetsIndex=A.fx!=null||A.fy!=null?mr(l,E):T)}const x=new Set;for(const{facetsIndex:A}of u.values())A==null||A.forEach((E,I)=>{(E==null?void 0:E.length)>0&&x.add(I)});l.forEach(0<x.size&&x.size<l.length?(A,E)=>A.empty=!x.has(E):A=>A.empty=!1);for(const A of c)if(A.facet==="exclude"){const E=u.get(A);E!==void 0&&(E.facetsIndex=rb(E.facetsIndex))}}for(const T of P.keys())Br(e[T])&&T!=="fx"&&T!=="fy"&&s.set(T,[]);const d=new Map;for(const T of c){if(d.has(T))throw new Error("duplicate mark; each mark must be unique");const{facetsIndex:x,channels:A}=u.get(T)??{},{data:E,facets:I,channels:U}=T.initialize(x,A);Na(U,e),d.set(T,{data:E,facets:I,channels:U})}const m=Wr(bn(s,d),e),h=mi(m),p=k0(m,c,e);E0(m,p);const{fx:g,fy:w}=h,v=g||w?Ro(m,p):p,y=g||w?I1(h,p):p,$=va(e,v),M=new Set;for(const[T,x]of d)if(T.initializer!=null){const A=T.facet==="super"?y:v,E=T.initializer(x.data,x.facets,x.channels,h,A,$);if(E.data!==void 0&&(x.data=E.data),E.facets!==void 0&&(x.facets=E.facets),E.channels!==void 0){M1(E.channels),Object.assign(x.channels,E.channels);for(const z of Object.values(E.channels)){const{scale:q}=z;q!=null&&P.get(q)!==se&&(xu(z,e),M.add(q))}const{fx:I,fy:U}=E.channels;if(I!=null||U!=null){const z=u.get(T)??{channels:{}};I!=null&&(z.channels.fx=I),U!=null&&(z.channels.fy=U),z.groups=Ea(x.data,z.channels),z.facetsIndex=x.facets=mr(l,z),u.set(T,z)}}}if(M.size){const T=new Map;bn(T,d,E=>M.has(E)),bn(s,d,E=>M.has(E));const x=R1(Wr(T,e),m),A=mi(x);Object.assign(m,x),Object.assign(h,A)}for(const[T,x]of d)x.values=T.scale(x.channels,h,$);const{width:S,height:L}=p,R=Ne("svg",$).attr("class",f).attr("fill","currentColor").attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("text-anchor","middle").attr("width",S).attr("height",L).attr("viewBox",`0 0 ${S} ${L}`).attr("aria-label",a).attr("aria-description",i).call(T=>T.append("style").text(`
        .${f} {
          display: block;
          background: white;
          height: auto;
          height: intrinsic;
          max-width: 100%;
        }
        .${f} text,
        .${f} tspan {
          white-space: pre;
        }
      `)).call(Aa,t).node();if(l!==void 0){const T={x:g==null?void 0:g.domain(),y:w==null?void 0:w.domain()};l.sort(nb(T)),wr(R).selectAll().data(l).enter().append("g").attr("aria-label","facet").attr("transform",tb(g,w,p)).each(function(x){var E;let A=!0;for(const I of c){if(I.facet==="super")continue;const{channels:U,values:z,facets:q}=d.get(I);if(!(((E=I.facetAnchor)==null?void 0:E.call(I,l,T,x))??!x.empty))continue;let Y=null;if(q){if(Y=q[u.has(I)?x.i:0],Y=I.filter(Y,U,z),Y.length===0)continue;Y.fi=x.i}const zn=I.render(Y,h,z,v,$);zn!=null&&(A=!1,this.appendChild(zn))}A&&this.remove()})}for(const T of c){if(l!==void 0&&T.facet!=="super")continue;const{channels:x,values:A,facets:E}=d.get(T);let I=null;if(E&&(I=E[0],I=T.filter(I,x,A),I.length===0))continue;const U=T.render(I,h,A,y,$);U!=null&&R.appendChild(U)}let F=R;const k=yb(m,$,e);if(r!=null||k.length>0){const{document:T}=$;F=T.createElement("figure"),F.style.maxWidth="initial";for(const x of k)F.appendChild(x);if(F.appendChild(R),r!=null){const x=T.createElement("figcaption");x.appendChild(r instanceof Node?r:T.createTextNode(r)),F.appendChild(x)}}F.scale=O0(m),F.legend=mb(m,$,e);const O=_l();return O>0&&wr(R).append("text").attr("x",S).attr("y",20).attr("dy","-1em").attr("text-anchor","end").attr("font-family","initial").text("").append("title").text(`${O.toLocaleString("en-US")} warning${O===1?"":"s"}. Please check the console.`),F}function w1({marks:e=[],...n}={}){return y1({...n,marks:[...e,this]})}Oe.prototype.plot=w1;function Ai(e){return e.flat(1/0).filter(n=>n!=null).map(v1)}function v1(e){return typeof e.render=="function"?e:new $1(e)}class $1 extends Oe{constructor(n){if(typeof n!="function")throw new TypeError("invalid mark; missing render function");super(),this.render=n}render(){}}function Na(e,n){for(const t in e)xu(e[t],n);return e}function xu(e,n){var c;const{scale:t}=e;if(t==null)return;const{type:r,percent:a,interval:i,transform:f=a?o=>o*100:(c=ha(i,r))==null?void 0:c.floor}=n[t]??{};f!=null&&(e.value=H(e.value,f))}function M1(e){for(const n in e)po(n,e[n])}function bn(e,n,t=tl){for(const{channels:r}of n.values())for(const a in r){const i=r[a],{scale:f}=i;if(f!=null&&t(f)){const c=e.get(f);c!==void 0?c.push(i):e.set(f,[i])}}return e}function x1(e,n){if(e==null)return;const{x:t,y:r}=e;if(t==null&&r==null)return;const a=he(e.data??t??r);if(a===void 0)throw new Error("missing facet data");const i={};t!=null&&(i.fx=Cn(a,{value:t,scale:"fx"})),r!=null&&(i.fy=Cn(a,{value:r,scale:"fy"})),Na(i,n);const f=Ea(a,i);return{channels:i,groups:f,data:e.data}}function Ei(e,n,t){var o;if(e.facet===null||e.facet==="super")return;const{fx:r,fy:a}=e;if(r!=null||a!=null){const u=he(e.data??r??a);if(u===void 0)throw new Error(`missing facet data in ${e.ariaLabel}`);if(u===null)return;const s={};return r!=null&&(s.fx=Cn(u,{value:r,scale:"fx"})),a!=null&&(s.fy=Cn(u,{value:a,scale:"fy"})),Na(s,t),{channels:s,groups:Ea(u,s)}}if(n===void 0)return;const{channels:i,groups:f,data:c}=n;if(e.facet!=="auto"||e.data===c)return{channels:i,groups:f};(f.size>1||f.size===1&&i.fx&&i.fy&&[...f][0][1].size>1)&&((o=he(e.data))==null?void 0:o.length)===c.length&&Qe(`Warning: the ${e.ariaLabel} mark appears to use faceted data, but isnt faceted. The mark data has the same length as the facet data and the mark facet option is "auto", but the mark data and facet data are distinct. If this mark should be faceted, set the mark facet option to true; otherwise, suppress this warning by setting the mark facet option to false.`)}function T1(e,n,t){let{projection:r,x:a={},y:i={},fx:f={},fy:c={},axis:o,grid:u,facet:s={},facet:{axis:b=o,grid:l}=s,x:{axis:d=o,grid:m=d===null?null:u}=a,y:{axis:h=o,grid:p=h===null?null:u}=i,fx:{axis:g=b,grid:w=g===null?null:l}=f,fy:{axis:v=b,grid:y=v===null?null:l}=c}=t;(r||!Br(a)&&!Ci("x",e))&&(d=m=null),(r||!Br(i)&&!Ci("y",e))&&(h=p=null),n.has("fx")||(g=w=null),n.has("fy")||(v=y=null),d===void 0&&(d=!Zn(e,"x")),h===void 0&&(h=!Zn(e,"y")),g===void 0&&(g=!Zn(e,"fx")),v===void 0&&(v=!Zn(e,"fy")),d===!0&&(d="bottom"),h===!0&&(h="left"),g===!0&&(g=d==="top"||d===null?"bottom":"top"),v===!0&&(v=h==="right"||h===null?"left":"right");const $=[];return Gn($,y,i1,c),Yn($,v,kb,"right","left",s,c),Gn($,w,c1,f),Yn($,g,Jb,"top","bottom",s,f),Gn($,p,a1,i),Yn($,h,bu,"left","right",t,i),Gn($,m,f1,a),Yn($,d,hu,"bottom","top",t,a),$}function Yn(e,n,t,r,a,i,f){if(!n)return;const c=S1(n);f=A1(c?r:n,i,f);const{line:o}=f;(t===bu||t===hu)&&o&&!An(o)&&e.push(g1(E1(f))),e.push(t(f)),c&&e.push(t({...f,anchor:a,label:null}))}function Gn(e,n,t,r){!n||An(n)||e.push(t(C1(n,r)))}function S1(e){return/^\s*both\s*$/i.test(e)}function A1(e,n,{line:t=n.line,ticks:r,tickSize:a,tickSpacing:i,tickPadding:f,tickFormat:c,tickRotate:o,fontVariant:u,ariaLabel:s,ariaDescription:b,label:l=n.label,labelAnchor:d,labelOffset:m}){return{anchor:e,line:t,ticks:r,tickSize:a,tickSpacing:i,tickPadding:f,tickFormat:c,tickRotate:o,fontVariant:u,ariaLabel:s,ariaDescription:b,label:l,labelAnchor:d,labelOffset:m}}function E1(e){const{anchor:n,line:t}=e;return{anchor:n,facetAnchor:n+"-empty",stroke:t===!0?void 0:t}}function C1(e,{stroke:n=Ft(e)?e:void 0,ticks:t=N1(e)?e:void 0,tickSpacing:r,ariaLabel:a,ariaDescription:i}){return{stroke:n,ticks:t,tickSpacing:r,ariaLabel:a,ariaDescription:i}}function N1(e){switch(typeof e){case"number":return!0;case"string":return!Ft(e)}return Ue(e)||typeof(e==null?void 0:e.range)=="function"}function Zn(e,n){const t=`${n}-axis `;return e.some(r=>{var a;return(a=r.ariaLabel)==null?void 0:a.startsWith(t)})}function Ci(e,n){for(const t of n)for(const r in t.channels)if(t.channels[r].scale===e)return!0;return!1}function R1(e,n){for(const t in e){const r=e[t],a=n[t];r.label===void 0&&a&&(r.label=a.label)}return e}function I1({fx:e,fy:n},t){const{marginTop:r,marginRight:a,marginBottom:i,marginLeft:f,width:c,height:o}=Ta(t),u=e&&Ni(e),s=n&&Ni(n);return{marginTop:n?s[0]:r,marginRight:e?c-u[1]:a,marginBottom:n?o-s[1]:i,marginLeft:e?u[0]:f,inset:{marginTop:t.marginTop,marginRight:t.marginRight,marginBottom:t.marginBottom,marginLeft:t.marginLeft},width:c,height:o}}function Ni(e){const n=e.domain();let t=e(n[0]),r=e(n[n.length-1]);return r<t&&([t,r]=[r,t]),[t,r+e.bandwidth()]}export{fh as $,g1 as A,rt as B,Cs as C,Ho as D,oh as E,nn as F,Il as G,Fr as H,ma as I,cn as J,Dn as K,Qd as L,Oe as M,uh as N,Sl as O,El as P,bo as Q,dh as R,sh as S,lh as T,ce as U,H as V,il as W,yd as X,Ue as Y,ho as Z,fl as _,Pn as a,da as a0,oo as a1,ua as a2,Jo as a3,ch as a4,ne as a5,Fo as a6,ro as a7,X as a8,G0 as a9,An as aa,Ut as ab,bh as ac,Sn as ad,V as ae,K as af,C as ag,hh as ah,Fn as b,Ne as c,Bn as d,Gt as e,pt as f,hf as g,th as h,Ee as i,rh as j,ah as k,co as l,ih as m,uo as n,nh as o,y1 as p,Nt as q,Ln as r,Ct as s,nu as t,je as u,Se as v,el as w,ph as x,mh as y,nl as z};
