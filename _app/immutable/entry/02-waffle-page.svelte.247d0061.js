import{S as R,i as W,s as V,k as C,q as I,a as z,J as G,l as D,m as w,r as N,h as v,c as H,K as O,n as d,b as k,G as p,H as A,o as $}from"../chunks/index.c0f3b0e2.js";import{s as T}from"../chunks/transform.28303983.js";import{o as B}from"../chunks/ordinal.2c265389.js";import{r as J}from"../chunks/range.6bc2a9a0.js";function Q(_){let r,i,f,y,c,S,h,F,b,o,m;return{c(){r=C("div"),i=C("h1"),f=I("Macronutrients' distributions of famous McDonald's dishes."),y=z(),c=C("div"),S=I("Data Source: "),h=C("a"),F=I("Kaggle"),b=z(),o=G("svg"),m=G("g"),this.h()},l(l){r=D(l,"DIV",{id:!0,class:!0});var g=w(r);i=D(g,"H1",{class:!0});var t=w(i);f=N(t,"Macronutrients' distributions of famous McDonald's dishes."),t.forEach(v),y=H(g),c=D(g,"DIV",{id:!0,class:!0});var n=w(c);S=N(n,"Data Source: "),h=D(n,"A",{href:!0});var a=w(h);F=N(a,"Kaggle"),a.forEach(v),n.forEach(v),g.forEach(v),b=H(l),o=O(l,"svg",{id:!0,width:!0,height:!0,class:!0});var e=w(o);m=O(e,"g",{id:!0});var u=w(m);u.forEach(v),e.forEach(v),this.h()},h(){d(i,"class","svelte-1ywolu8"),d(h,"href","https://www.kaggle.com/datasets/mcdonalds/nutrition-facts"),d(c,"id","data-source"),d(c,"class","svelte-1ywolu8"),d(r,"id","main-text"),d(r,"class","svelte-1ywolu8"),d(m,"id","legend"),d(o,"id","vis"),d(o,"width",U+600),d(o,"height",L),d(o,"class","svelte-1ywolu8")},m(l,g){k(l,r,g),p(r,i),p(i,f),p(r,y),p(r,c),p(c,S),p(c,h),p(h,F),k(l,b,g),k(l,o,g),p(o,m)},p:A,i:A,o:A,d(l){l&&v(r),l&&v(b),l&&v(o)}}}const P=8,x=18,U=1800,L=1600,X="#427e5a",Z="#f5b100",Y="#D62718";function tt(_){const r=["McFlurry with M&M’s Candies (Small)","Big Mac","Filet-O-Fish","Medium French Fries","Chicken McNuggets (6 piece)","Side Salad"];let i=_.filter(f=>r.includes(f.Item));return i.sort((f,y)=>r.indexOf(f.Item)-r.indexOf(y.Item)),console.log(i),i}function et(_){let r=_.split("(")[1].split(" ")[0];return Number(r)}function E(){return L/2-x*2}function j(){return 14}function rt(){return j()*(x+P)}function at(_,r,i){var f=(t=>(t.Protein="Protein",t.Fat="Fat",t.Carbohydrates="Carbohydrates",t.Other="Other",t))(f||{});let{data:y}=r,c,S=tt(y.data),h=B().domain(Object.values(f)).range([Y,Z,X,"white"]);$(()=>{c=T("#vis").append("g").attr("transform","translate(20, 0)"),F(S)});function F(t){let a=c.selectAll(".aliment").data(t).join("g").attr("transform",(e,u)=>u<3?`translate(${u*500}, -100)`:`translate(${(u-3)*500}, ${E()/3})`).classed("aliment",!0);a.selectAll("rect").data(e=>o(e)).join("rect").attr("width",x).attr("height",x).attr("x",e=>l(e)).attr("y",e=>g(e)).style("fill",e=>h(e.type)).attr("stroke","black").attr("stroke-width",e=>1),a.append("text").classed("title",!0).text(e=>e.Item=="McFlurry with M&M’s Candies (Small)"?"M&M’s McFlurry (Small)":e.Item).attr("x",e=>0).attr("y",e=>E()+40).attr("font-size","2em").attr("font-family","Rasa"),b()}function b(){let t=T("#legend"),n=["Fat","Protein","Carbohydrates","Other"],a=20,e=1500,u=E()-x-100-235;t.selectAll("mydots").data(n).join("rect").attr("x",e).attr("y",function(s,M){return u+M*(a+5)}).attr("width",a).attr("height",a).style("fill",function(s){return h(s)}).attr("stroke","black"),t.selectAll("mylabels").data(n).enter().append("text").attr("x",e+a*1.2).attr("y",function(s,M){return u+M*(a+5)+a/1.6}).style("fill",function(s){return s=="Other"?"black":h(s)}).text(function(s){return s}).attr("text-anchor","left").style("alignment-baseline","middle").attr("font-size","1.3em"),t.append("text").attr("x",e-2).attr("y",function(s,M){return u-23+a/2}).text("Each square represents one gram of food.").attr("font-size","1.4em")}function o(t){let n=et(t["Serving Size"]),a=Number(t.Protein);t.Sugars;let e=Number(t.Carbohydrates),u=Number(t["Total Fat"]);t["Saturated Fat"],t["Trans Fat"];let s=m(a,"Protein").concat(m(e,"Carbohydrates")).concat(m(u,"Fat")),M=n-s.length;return s=s.concat(m(M,"Other")),s.forEach((q,K)=>{q.n=K+1}),s}function m(t,n){return J(1,t+1).map(a=>({type:n}))}const l=t=>((t.n-1)*x+(t.n-1)*P)%rt(),g=t=>{let n=Math.floor((t.n-1)/j())+1,a=n*x+(n-1)*P;return E()-a};return _.$$set=t=>{"data"in t&&i(0,y=t.data)},[y]}class ot extends R{constructor(r){super(),W(this,r,at,Q,V,{data:0})}}export{ot as default};
