import{S as K,i as Q,s as U,k as v,q as b,a as V,l as y,m as x,r as w,h as k,c as R,n as p,b as Z,H as s,C as P,o as X}from"../chunks/index.2e204e96.js";import{s as W}from"../chunks/transform.3e593064.js";import"../chunks/paths.f9a237ed.js";import{c as L,M as Y,a as ee,b as te,d as re,e as ae,g as ne,f as I,p as ie,t as T}from"../chunks/plot.9c3b00f8.js";import{m as oe,c as q}from"../chunks/curve.58b285bc.js";import{a as le}from"../chunks/path.1bc61eb4.js";function se(a,{marker:e,markerStart:t=e,markerMid:r=e,markerEnd:i=e}={}){a.markerStart=j(t),a.markerMid=j(r),a.markerEnd=j(i)}function j(a){if(a==null||a===!1)return null;if(a===!0)return z;if(typeof a=="function")return a;switch(`${a}`.toLowerCase()){case"none":return null;case"arrow":return ce;case"dot":return ue;case"circle":case"circle-fill":return z;case"circle-stroke":return de}throw new Error(`invalid marker: ${a}`)}function ce(a,e){return L("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("orient","auto").attr("fill","none").attr("stroke",a).attr("stroke-width",1.5).attr("stroke-linecap","round").attr("stroke-linejoin","round").call(t=>t.append("path").attr("d","M-1.5,-3l3,3l-3,3")).node()}function ue(a,e){return L("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",a).attr("stroke","none").call(t=>t.append("circle").attr("r",2.5)).node()}function z(a,e){return L("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",a).attr("stroke","white").attr("stroke-width",1.5).call(t=>t.append("circle").attr("r",3)).node()}function de(a,e){return L("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill","white").attr("stroke",a).attr("stroke-width",1.5).call(t=>t.append("circle").attr("r",3)).node()}let pe=0;function fe(a,e,{stroke:t},r){return he(a,e,t&&(i=>t[i]),r)}function he(a,{markerStart:e,markerMid:t,markerEnd:r,stroke:i},o=()=>i,n){const u=new Map;function c(f){return function(g){const m=o(g);let l=u.get(f);l||u.set(f,l=new Map);let h=l.get(m);if(!h){const d=this.parentNode.insertBefore(f(m,n),this),_=`plot-marker-${++pe}`;d.setAttribute("id",_),l.set(m,h=`url(#${_})`)}return h}}e&&a.attr("marker-start",c(e)),t&&a.attr("marker-mid",c(t)),r&&a.attr("marker-end",c(r))}const me={ariaLabel:"link",fill:"none",stroke:"currentColor",strokeMiterlimit:1};class ve extends Y{constructor(e,t={}){const{x1:r,y1:i,x2:o,y2:n,curve:u,tension:c}=t;super(e,{x1:{value:r,scale:"x"},y1:{value:i,scale:"y"},x2:{value:o,scale:"x",optional:!0},y2:{value:n,scale:"y",optional:!0}},t,me),this.curve=oe(u,c),se(this,t)}project(e,t,r){this.curve!==q&&super.project(e,t,r)}render(e,t,r,i,o){const{x1:n,y1:u,x2:c=n,y2:f=u}=r,{curve:g}=this;return L("svg:g",o).call(ee,this,i,o).call(te,this,t).call(m=>m.selectAll().data(e).enter().append("path").call(re,this).attr("d",g===q&&o.projection?ye(o.projection,n,u,c,f):l=>{const h=le(),d=g(h);return d.lineStart(),d.point(n[l],u[l]),d.point(c[l],f[l]),d.lineEnd(),h}).call(ae,this,r).call(fe,this,r,o)).node()}}function ye(a,e,t,r,i){const o=ne(a);return e=I(e),t=I(t),r=I(r),i=I(i),n=>o({type:"LineString",coordinates:[[e[n],t[n]],[r[n],i[n]]]})}function ke(a,e={}){let{x:t,x1:r,x2:i,y:o,y1:n,y2:u,...c}=e;return[r,i]=G(t,r,i),[n,u]=G(o,n,u),new ve(a,{...c,x1:r,x2:i,y1:n,y2:u})}function G(a,e,t){if(a===void 0){if(e===void 0){if(t!==void 0)return[t]}else if(t===void 0)return[e]}else{if(e===void 0)return t===void 0?[a]:[a,t];if(t===void 0)return[a,e]}return[e,t]}function ge(a){let e,t,r,i,o,n,u,c,f,g,m,l,h,d,_,$,B,H,C;return{c(){e=v("div"),t=v("div"),r=v("h1"),i=b("Evolution of "),o=v("span"),n=b("mobile cellular"),u=b(" subscriptions and "),c=v("span"),f=b("fixed telephone"),g=b(" subscriptions between 2005 and 2021 (per 100 people)."),m=V(),l=v("div"),h=b("Data Source: "),d=v("a"),_=b("data.worldbank.org"),$=v("br"),B=b(`
            Layout: Observable Plot`),H=V(),C=v("div"),this.h()},l(E){e=y(E,"DIV",{id:!0,class:!0});var M=x(e);t=y(M,"DIV",{id:!0,class:!0});var D=x(t);r=y(D,"H1",{class:!0});var S=x(r);i=w(S,"Evolution of "),o=y(S,"SPAN",{id:!0});var F=x(o);n=w(F,"mobile cellular"),F.forEach(k),u=w(S," subscriptions and "),c=y(S,"SPAN",{id:!0});var N=x(c);f=w(N,"fixed telephone"),N.forEach(k),g=w(S," subscriptions between 2005 and 2021 (per 100 people)."),S.forEach(k),m=R(D),l=y(D,"DIV",{id:!0,class:!0});var A=x(l);h=w(A,"Data Source: "),d=y(A,"A",{href:!0});var O=x(d);_=w(O,"data.worldbank.org"),O.forEach(k),$=y(A,"BR",{}),B=w(A,`
            Layout: Observable Plot`),A.forEach(k),D.forEach(k),H=R(M),C=y(M,"DIV",{id:!0});var J=x(C);J.forEach(k),M.forEach(k),this.h()},h(){p(o,"id","mobile"),p(c,"id","fix"),p(r,"class","svelte-uaxgu3"),p(d,"href","https://data.worldbank.org/indicator/IT.MLT.MAIN.P2?view=chart"),p(l,"id","data-source"),p(l,"class","svelte-uaxgu3"),p(t,"id","main-text"),p(t,"class","svelte-uaxgu3"),p(C,"id","graph"),p(e,"id","container"),p(e,"class","svelte-uaxgu3")},m(E,M){Z(E,e,M),s(e,t),s(t,r),s(r,i),s(r,o),s(o,n),s(r,u),s(r,c),s(c,f),s(r,g),s(t,m),s(t,l),s(l,h),s(l,d),s(d,_),s(l,$),s(l,B),s(e,H),s(e,C)},p:P,i:P,o:P,d(E){E&&k(e)}}}const be=1800;function xe(a){let e=[{name:"Fix",2005:19,2021:11},{name:"Mobile",2005:34,2021:110}];const t=["#66c2a5","#fc8d62"];X(()=>{i(),W("#fix").style("color",r.Fix),W("#mobile").style("color",r.Mobile)});let r={Fix:t[0],Mobile:t[1]};function i(){console.log(e);let o=ie({width:be/2,height:500,marginLeft:120,marginRight:120,style:{fontSize:26,backgroundColor:"#f4efff",display:"flex"},x:{axis:"top",ticks:[2005,2021],tickFormat:""},y:{label:"% change in year",domain:[0,140],axis:null},marks:[ke(e,{x1:2005,y1:"2005",x2:2021,y2:"2021",stroke:n=>r[n.name],strokeWidth:5}),T(e,{x:2005,y:"2005",text:n=>`${n.name}: ${n[2005]}`,textAnchor:"end",dx:-5,fill:n=>r[n.name],fontSize:22}),T(e,{x:2021,y:"2021",text:n=>n[2021],textAnchor:"start",dx:5,fill:n=>r[n.name],fontSize:22})]});W(o).style("display","unset"),document.querySelector("#graph").append(o)}return[]}class Ae extends K{constructor(e){super(),Q(this,e,xe,ge,U,{})}}export{Ae as default};
