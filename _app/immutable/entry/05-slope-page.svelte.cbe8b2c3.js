import{S as _l,i as wl,s as xl,k as Le,q as Ge,a as Aa,l as ke,m as Qe,r as Ke,h as Re,c as Na,n as me,b as vl,G,H as Yr,o as Ml}from"../chunks/index.c0f3b0e2.js";import{R as or,r as Ko,h as Bi,j as Wi,C as Yi,k as Ea,l as Da,m as La,n as ie,o as Hi,p as Tl,q as Ln,u as $l,s as Tt,v as Sl,w as bn,x as zi,y as kn}from"../chunks/transform.7ea19d79.js";import"../chunks/paths.2765c717.js";import{n as Cl,a as Al,b as ot,c as ct,A as At,s as Se,t as Nl,g as qt,d as ka,i as El,p as Dl,r as Ra,e as Ia,f as fr,h as z,j as dt,k as K,l as ne,m as cr,o as _e,q as Ll,u as kl,v as Rl,w as Il,x as ht,y as Ul,z as Ol,B as gi,C as sr,D as Hr,E as Xe,F as Xo,G as Pl,H as Fl,I as ql,J as Ua,K as ur,L as ji,M as lr,N as yi,O as xt,P as Jo,Q as Bl,R as Oa,S as Wl,T as ef,U as dr,V as _i,W as Yl,X as Hl,Y as tf,Z as zl,_ as Vi}from"../chunks/linear.d01196c4.js";import{a as Rn}from"../chunks/ascending.3ff63084.js";import{r as nf}from"../chunks/range.6bc2a9a0.js";import{I as rf,o as af,a as Zi,i as jl}from"../chunks/ordinal.9aa01bae.js";import{i as nt,a as hr}from"../chunks/init.a5b10ee5.js";import{i as of,a as Vl,f as br,b as In}from"../chunks/defaultLocale.d4914ead.js";function Zl(e){return e.length|0}function Gl(e){return!(e>0)}function Ql(e){return typeof e!="object"||"length"in e?e:Array.from(e)}function Kl(e){return t=>e(...t)}function Xl(...e){const t=typeof e[e.length-1]=="function"&&Kl(e.pop());e=e.map(Ql);const n=e.map(Zl),r=e.length-1,i=new Array(r+1).fill(0),a=[];if(r<0||n.some(Gl))return a;for(;;){a.push(i.map((f,c)=>e[c][f]));let o=r;for(;++i[o]===n[o];){if(o===0)return t?a.map(t):a;i[o--]=0}}}function ff(e,t){let n=0,r,i=0,a=0;if(t===void 0)for(let o of e)o!=null&&(o=+o)>=o&&(r=o-i,i+=r/++n,a+=r*(o-i));else{let o=-1;for(let f of e)(f=t(f,++o,e))!=null&&(f=+f)>=f&&(r=f-i,i+=r/++n,a+=r*(f-i))}if(n>1)return a/(n-1)}function Jl(e,t){const n=ff(e,t);return n&&Math.sqrt(n)}function Nt(e,t){let n,r;if(t===void 0)for(const i of e)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let a of e)(a=t(a,++i,e))!=null&&(n===void 0?a>=a&&(n=r=a):(n>a&&(n=a),r<a&&(r=a)))}return[n,r]}function ed(e){return e}function Dn(e,t,...n){return td(e,ed,t,n)}function td(e,t,n,r){return function i(a,o){if(o>=r.length)return n(a);const f=new rf,c=r[o++];let s=-1;for(const u of a){const h=c(u,++s,a),l=f.get(h);l?l.push(u):f.set(h,[u])}for(const[u,h]of f)f.set(u,i(h,o));return t(f)}(e,0)}function nd(e,t){return Array.from(t,n=>e[n])}function cf(e,...t){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");e=Array.from(e);let[n]=t;if(n&&n.length!==2||t.length>1){const r=Uint32Array.from(e,(i,a)=>a);return t.length>1?(t=t.map(i=>e.map(i)),r.sort((i,a)=>{for(const o of t){const f=Un(o[i],o[a]);if(f)return f}})):(n=e.map(n),r.sort((i,a)=>Un(n[i],n[a]))),nd(e,r)}return e.sort(sf(n))}function sf(e=Rn){if(e===Rn)return Un;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function Un(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}function He(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function rd(e,t){let n,r=-1,i=-1;if(t===void 0)for(const a of e)++i,a!=null&&(n<a||n===void 0&&a>=a)&&(n=a,r=i);else for(let a of e)(a=t(a,++i,e))!=null&&(n<a||n===void 0&&a>=a)&&(n=a,r=i);return r}function nn(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function id(e,t){let n,r=-1,i=-1;if(t===void 0)for(const a of e)++i,a!=null&&(n>a||n===void 0&&a>=a)&&(n=a,r=i);else for(let a of e)(a=t(a,++i,e))!=null&&(n>a||n===void 0&&a>=a)&&(n=a,r=i);return r}function uf(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?Un:sf(i);r>n;){if(r-n>600){const c=r-n+1,s=t-n+1,u=Math.log(c),h=.5*Math.exp(2*u/3),l=.5*Math.sqrt(u*h*(c-h)/c)*(s-c/2<0?-1:1),d=Math.max(n,Math.floor(t-s*h/c+l)),p=Math.min(r,Math.floor(t+(c-s)*h/c+l));uf(e,t,d,p,i)}const a=e[t];let o=n,f=r;for(Bt(e,n,t),i(e[r],a)>0&&Bt(e,n,r);o<f;){for(Bt(e,o,f),++o,--f;i(e[o],a)<0;)++o;for(;i(e[f],a)>0;)--f}i(e[n],a)===0?Bt(e,n,f):(++f,Bt(e,f,r)),f<=t&&(n=f+1),t<=f&&(r=f-1)}return e}function Bt(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function On(e,t,n){if(e=Float64Array.from(Cl(e,n)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return nn(e);if(t>=1)return He(e);var r,i=(r-1)*t,a=Math.floor(i),o=He(uf(e,a).subarray(0,a+1)),f=nn(e.subarray(a+1));return o+(f-o)*(i-a)}}function ad(e,t,n=Al){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),o=+n(e[a],a,e),f=+n(e[a+1],a+1,e);return o+(f-o)*(i-a)}}function od(e,t){let n=0,r=0;if(t===void 0)for(let i of e)i!=null&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let a of e)(a=t(a,++i,e))!=null&&(a=+a)>=a&&(++n,r+=a)}if(n)return r/n}function wi(e,t){return On(e,.5,t)}function fd(e,t){const n=new rf;if(t===void 0)for(let a of e)a!=null&&a>=a&&n.set(a,(n.get(a)||0)+1);else{let a=-1;for(let o of e)(o=t(o,++a,e))!=null&&o>=o&&n.set(o,(n.get(o)||0)+1)}let r,i=0;for(const[a,o]of n)o>i&&(i=o,r=a);return r}function Gi(e,t){let n=0;if(t===void 0)for(let r of e)(r=+r)&&(n+=r);else{let r=-1;for(let i of e)(i=+t(i,++r,e))&&(n+=i)}return n}function Pn(e){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(e).reverse()}const lf=Math.PI/180,df=180/Math.PI,Fn=18,hf=.96422,bf=1,pf=.82521,mf=4/29,$t=6/29,gf=3*$t*$t,cd=$t*$t*$t;function yf(e){if(e instanceof $e)return new $e(e.l,e.a,e.b,e.opacity);if(e instanceof qe)return _f(e);e instanceof or||(e=Ko(e));var t=Zr(e.r),n=Zr(e.g),r=Zr(e.b),i=zr((.2225045*t+.7168786*n+.0606169*r)/bf),a,o;return t===n&&n===r?a=o=i:(a=zr((.4360747*t+.3850649*n+.1430804*r)/hf),o=zr((.0139322*t+.0971045*n+.7141733*r)/pf)),new $e(116*i-16,500*(a-i),200*(i-o),e.opacity)}function xi(e,t,n,r){return arguments.length===1?yf(e):new $e(e,t,n,r??1)}function $e(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}Bi($e,xi,Wi(Yi,{brighter(e){return new $e(this.l+Fn*(e??1),this.a,this.b,this.opacity)},darker(e){return new $e(this.l-Fn*(e??1),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return t=hf*jr(t),e=bf*jr(e),n=pf*jr(n),new or(Vr(3.1338561*t-1.6168667*e-.4906146*n),Vr(-.9787684*t+1.9161415*e+.033454*n),Vr(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}}));function zr(e){return e>cd?Math.pow(e,1/3):e/gf+mf}function jr(e){return e>$t?e*e*e:gf*(e-mf)}function Vr(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function Zr(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function sd(e){if(e instanceof qe)return new qe(e.h,e.c,e.l,e.opacity);if(e instanceof $e||(e=yf(e)),e.a===0&&e.b===0)return new qe(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*df;return new qe(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function vi(e,t,n,r){return arguments.length===1?sd(e):new qe(e,t,n,r??1)}function qe(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function _f(e){if(isNaN(e.h))return new $e(e.l,0,0,e.opacity);var t=e.h*lf;return new $e(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}Bi(qe,vi,Wi(Yi,{brighter(e){return new qe(this.h,this.c,this.l+Fn*(e??1),this.opacity)},darker(e){return new qe(this.h,this.c,this.l-Fn*(e??1),this.opacity)},rgb(){return _f(this).rgb()}}));var wf=-.14861,Qi=1.78277,Ki=-.29227,pr=-.90649,rn=1.97294,Pa=rn*pr,Fa=rn*Qi,qa=Qi*Ki-pr*wf;function ud(e){if(e instanceof ft)return new ft(e.h,e.s,e.l,e.opacity);e instanceof or||(e=Ko(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(qa*r+Pa*t-Fa*n)/(qa+Pa-Fa),a=r-i,o=(rn*(n-i)-Ki*a)/pr,f=Math.sqrt(o*o+a*a)/(rn*i*(1-i)),c=f?Math.atan2(o,a)*df-120:NaN;return new ft(c<0?c+360:c,f,i,e.opacity)}function Ce(e,t,n,r){return arguments.length===1?ud(e):new ft(e,t,n,r??1)}function ft(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Bi(ft,Ce,Wi(Yi,{brighter(e){return e=e==null?Ea:Math.pow(Ea,e),new ft(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Da:Math.pow(Da,e),new ft(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*lf,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new or(255*(t+n*(wf*r+Qi*i)),255*(t+n*(Ki*r+pr*i)),255*(t+n*(rn*r)),this.opacity)}}));function ld(e){return function(t,n){var r=e((t=La(t)).h,(n=La(n)).h),i=ie(t.s,n.s),a=ie(t.l,n.l),o=ie(t.opacity,n.opacity);return function(f){return t.h=r(f),t.s=i(f),t.l=a(f),t.opacity=o(f),t+""}}}const dd=ld(Hi);function hd(e,t){var n=ie((e=xi(e)).l,(t=xi(t)).l),r=ie(e.a,t.a),i=ie(e.b,t.b),a=ie(e.opacity,t.opacity);return function(o){return e.l=n(o),e.a=r(o),e.b=i(o),e.opacity=a(o),e+""}}function bd(e){return function(t,n){var r=e((t=vi(t)).h,(n=vi(n)).h),i=ie(t.c,n.c),a=ie(t.l,n.l),o=ie(t.opacity,n.opacity);return function(f){return t.h=r(f),t.c=i(f),t.l=a(f),t.opacity=o(f),t+""}}}const pd=bd(Hi);function xf(e){return function t(n){n=+n;function r(i,a){var o=e((i=Ce(i)).h,(a=Ce(a)).h),f=ie(i.s,a.s),c=ie(i.l,a.l),s=ie(i.opacity,a.opacity);return function(u){return i.h=o(u),i.s=f(u),i.l=c(Math.pow(u,n)),i.opacity=s(u),i+""}}return r.gamma=t,r}(1)}xf(Hi);var Xi=xf(ie);function Ji(e,t){t===void 0&&(t=e,e=of);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(o){var f=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[f](o-f)}}function xe(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n}var Gr=new At,Mi=new At,vf,Mf,Ti,$i,Je={point:ot,lineStart:ot,lineEnd:ot,polygonStart:function(){Je.lineStart=md,Je.lineEnd=yd},polygonEnd:function(){Je.lineStart=Je.lineEnd=Je.point=ot,Gr.add(ct(Mi)),Mi=new At},result:function(){var e=Gr/2;return Gr=new At,e}};function md(){Je.point=gd}function gd(e,t){Je.point=Tf,vf=Ti=e,Mf=$i=t}function Tf(e,t){Mi.add($i*e-Ti*t),Ti=e,$i=t}function yd(){Tf(vf,Mf)}const Ba=Je;var Si=0,Ci=0,Vt=0,qn=0,Bn=0,vt=0,Ai=0,Ni=0,Zt=0,$f,Sf,ve,Me,ye={point:st,lineStart:Wa,lineEnd:Ya,polygonStart:function(){ye.lineStart=xd,ye.lineEnd=vd},polygonEnd:function(){ye.point=st,ye.lineStart=Wa,ye.lineEnd=Ya},result:function(){var e=Zt?[Ai/Zt,Ni/Zt]:vt?[qn/vt,Bn/vt]:Vt?[Si/Vt,Ci/Vt]:[NaN,NaN];return Si=Ci=Vt=qn=Bn=vt=Ai=Ni=Zt=0,e}};function st(e,t){Si+=e,Ci+=t,++Vt}function Wa(){ye.point=_d}function _d(e,t){ye.point=wd,st(ve=e,Me=t)}function wd(e,t){var n=e-ve,r=t-Me,i=Se(n*n+r*r);qn+=i*(ve+e)/2,Bn+=i*(Me+t)/2,vt+=i,st(ve=e,Me=t)}function Ya(){ye.point=st}function xd(){ye.point=Md}function vd(){Cf($f,Sf)}function Md(e,t){ye.point=Cf,st($f=ve=e,Sf=Me=t)}function Cf(e,t){var n=e-ve,r=t-Me,i=Se(n*n+r*r);qn+=i*(ve+e)/2,Bn+=i*(Me+t)/2,vt+=i,i=Me*e-ve*t,Ai+=i*(ve+e),Ni+=i*(Me+t),Zt+=i*3,st(ve=e,Me=t)}const Ha=ye;function Af(e){this._context=e}Af.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._context.moveTo(e,t),this._point=1;break}case 1:{this._context.lineTo(e,t);break}default:{this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,Nl);break}}},result:ot};var Ei=new At,Qr,Nf,Ef,Gt,Qt,Wn={point:ot,lineStart:function(){Wn.point=Td},lineEnd:function(){Qr&&Df(Nf,Ef),Wn.point=ot},polygonStart:function(){Qr=!0},polygonEnd:function(){Qr=null},result:function(){var e=+Ei;return Ei=new At,e}};function Td(e,t){Wn.point=Df,Nf=Gt=e,Ef=Qt=t}function Df(e,t){Gt-=e,Qt-=t,Ei.add(Se(Gt*Gt+Qt*Qt)),Gt=e,Qt=t}const za=Wn;let ja,Yn,Va,Za;class Ga{constructor(t){this._append=t==null?Lf:$d(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(t,n){switch(this._point){case 0:{this._append`M${t},${n}`,this._point=1;break}case 1:{this._append`L${t},${n}`;break}default:{if(this._append`M${t},${n}`,this._radius!==Va||this._append!==Yn){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,Va=r,Yn=this._append,Za=this._,this._=i}this._+=Za;break}}}result(){const t=this._;return this._="",t.length?t:null}}function Lf(e){let t=1;this._+=e[0];for(const n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function $d(e){const t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);if(t>15)return Lf;if(t!==ja){const n=10**t;ja=t,Yn=function(i){let a=1;this._+=i[0];for(const o=i.length;a<o;++a)this._+=Math.round(arguments[a]*n)/n+i[a]}}return Yn}function ea(e,t){let n=3,r=4.5,i,a;function o(f){return f&&(typeof r=="function"&&a.pointRadius(+r.apply(this,arguments)),qt(f,i(a))),a.result()}return o.area=function(f){return qt(f,i(Ba)),Ba.result()},o.measure=function(f){return qt(f,i(za)),za.result()},o.bounds=function(f){return qt(f,i(ka)),ka.result()},o.centroid=function(f){return qt(f,i(Ha)),Ha.result()},o.projection=function(f){return arguments.length?(i=f==null?(e=null,El):(e=f).stream,o):e},o.context=function(f){return arguments.length?(a=f==null?(t=null,new Ga(n)):new Af(t=f),typeof r!="function"&&a.pointRadius(r),o):t},o.pointRadius=function(f){return arguments.length?(r=typeof f=="function"?f:(a.pointRadius(+f),+f),o):r},o.digits=function(f){if(!arguments.length)return n;if(f==null)n=null;else{const c=Math.floor(f);if(!(c>=0))throw new RangeError(`invalid digits: ${f}`);n=c}return t===null&&(a=new Ga(n)),o},o.projection(e).digits(n).context(t)}function ta(e){var t=0,n=fr/3,r=Dl(e),i=r(t,n);return i.parallels=function(a){return arguments.length?r(t=a[0]*Ra,n=a[1]*Ra):[t*Ia,n*Ia]},i}function Sd(e){var t=K(e);function n(r,i){return[r*t,z(i)/t]}return n.invert=function(r,i){return[r/t,dt(i*t)]},n}function Cd(e,t){var n=z(e),r=(n+z(t))/2;if(ct(r)<ne)return Sd(e);var i=1+n*(2*r-n),a=Se(i)/r;function o(f,c){var s=Se(i-2*r*z(c))/r;return[s*z(f*=r),a-s*K(f)]}return o.invert=function(f,c){var s=a-c,u=cr(f,ct(s))*_e(s);return s*r<0&&(u-=fr*_e(f)*_e(s)),[u/r,dt((i-(f*f+s*s)*r*r)/(2*r))]},o}function Hn(){return ta(Cd).scale(155.424).center([0,33.6442])}function kf(){return Hn().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Ad(e){var t=e.length;return{point:function(n,r){for(var i=-1;++i<t;)e[i].point(n,r)},sphere:function(){for(var n=-1;++n<t;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<t;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<t;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<t;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<t;)e[n].polygonEnd()}}}function Nd(){var e,t,n=kf(),r,i=Hn().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a,o=Hn().rotate([157,0]).center([-3,19.9]).parallels([8,18]),f,c,s={point:function(l,d){c=[l,d]}};function u(l){var d=l[0],p=l[1];return c=null,r.point(d,p),c||(a.point(d,p),c)||(f.point(d,p),c)}u.invert=function(l){var d=n.scale(),p=n.translate(),b=(l[0]-p[0])/d,m=(l[1]-p[1])/d;return(m>=.12&&m<.234&&b>=-.425&&b<-.214?i:m>=.166&&m<.234&&b>=-.214&&b<-.115?o:n).invert(l)},u.stream=function(l){return e&&t===l?e:e=Ad([n.stream(t=l),i.stream(l),o.stream(l)])},u.precision=function(l){return arguments.length?(n.precision(l),i.precision(l),o.precision(l),h()):n.precision()},u.scale=function(l){return arguments.length?(n.scale(l),i.scale(l*.35),o.scale(l),u.translate(n.translate())):n.scale()},u.translate=function(l){if(!arguments.length)return n.translate();var d=n.scale(),p=+l[0],b=+l[1];return r=n.translate(l).clipExtent([[p-.455*d,b-.238*d],[p+.455*d,b+.238*d]]).stream(s),a=i.translate([p-.307*d,b+.201*d]).clipExtent([[p-.425*d+ne,b+.12*d+ne],[p-.214*d-ne,b+.234*d-ne]]).stream(s),f=o.translate([p-.205*d,b+.212*d]).clipExtent([[p-.214*d+ne,b+.166*d+ne],[p-.115*d-ne,b+.234*d-ne]]).stream(s),h()},u.fitExtent=function(l,d){return Ll(u,l,d)},u.fitSize=function(l,d){return kl(u,l,d)},u.fitWidth=function(l,d){return Rl(u,l,d)},u.fitHeight=function(l,d){return Il(u,l,d)};function h(){return e=t=null,u}return u.scale(1070)}function Rf(e){return function(t,n){var r=K(t),i=K(n),a=e(r*i);return a===1/0?[2,0]:[a*i*z(t),a*z(n)]}}function pn(e){return function(t,n){var r=Se(t*t+n*n),i=e(r),a=z(i),o=K(i);return[cr(t*a,r*o),dt(r&&n*a/r)]}}var If=Rf(function(e){return Se(2/(1+e))});If.invert=pn(function(e){return 2*dt(e/2)});function Ed(){return ht(If).scale(124.75).clipAngle(180-.001)}var Uf=Rf(function(e){return(e=Ul(e))&&e/z(e)});Uf.invert=pn(function(e){return e});function Dd(){return ht(Uf).scale(79.4188).clipAngle(180-.001)}function vn(e){return Xo((Xe+e)/2)}function Ld(e,t){var n=K(e),r=e===t?z(e):gi(n/K(t))/gi(vn(t)/vn(e)),i=n*Hr(vn(e),r)/r;if(!r)return Ol;function a(o,f){i>0?f<-Xe+ne&&(f=-Xe+ne):f>Xe-ne&&(f=Xe-ne);var c=i/Hr(vn(f),r);return[c*z(r*o),i-c*K(r*o)]}return a.invert=function(o,f){var c=i-f,s=_e(r)*Se(o*o+c*c),u=cr(o,ct(c))*_e(c);return c*r<0&&(u-=fr*_e(o)*_e(c)),[u/r,2*sr(Hr(i/s,1/r))-Xe]},a}function kd(){return ta(Ld).scale(109.5).parallels([30,30])}function zn(e,t){return[e,t]}zn.invert=zn;function Rd(){return ht(zn).scale(152.63)}function Id(e,t){var n=K(e),r=e===t?z(e):(n-K(t))/(t-e),i=n/r+e;if(ct(r)<ne)return zn;function a(o,f){var c=i-f,s=r*o;return[c*z(s),i-c*K(s)]}return a.invert=function(o,f){var c=i-f,s=cr(o,ct(c))*_e(c);return c*r<0&&(s-=fr*_e(o)*_e(c)),[s/r,i-_e(r)*Se(o*o+c*c)]},a}function Ud(){return ta(Id).scale(131.154).center([0,13.9389])}var Kt=1.340264,Xt=-.081106,Jt=893e-6,en=.003796,jn=Se(3)/2,Od=12;function Of(e,t){var n=dt(jn*z(t)),r=n*n,i=r*r*r;return[e*K(n)/(jn*(Kt+3*Xt*r+i*(7*Jt+9*en*r))),n*(Kt+Xt*r+i*(Jt+en*r))]}Of.invert=function(e,t){for(var n=t,r=n*n,i=r*r*r,a=0,o,f,c;a<Od&&(f=n*(Kt+Xt*r+i*(Jt+en*r))-t,c=Kt+3*Xt*r+i*(7*Jt+9*en*r),n-=o=f/c,r=n*n,i=r*r*r,!(ct(o)<Pl));++a);return[jn*e*(Kt+3*Xt*r+i*(7*Jt+9*en*r))/K(n),dt(z(n)/jn)]};function Pd(){return ht(Of).scale(177.158)}function Pf(e,t){var n=K(t),r=K(e)*n;return[n*z(e)/r,z(t)/r]}Pf.invert=pn(sr);function Fd(){return ht(Pf).scale(144.049).clipAngle(60)}function Ff(e,t){return[K(t)*z(e),z(t)]}Ff.invert=pn(dt);function qd(){return ht(Ff).scale(249.5).clipAngle(90+ne)}function qf(e,t){var n=K(t),r=1+K(e)*n;return[n*z(e)/r,z(t)/r]}qf.invert=pn(function(e){return 2*sr(e)});function Bd(){return ht(qf).scale(250).clipAngle(142)}function Bf(e,t){return[gi(Xo((Xe+t)/2)),-e]}Bf.invert=function(e,t){return[-t,2*sr(ql(e))-Xe]};function Wd(){var e=Fl(Bf),t=e.center,n=e.rotate;return e.center=function(r){return arguments.length?t([-r[1],r[0]]):(r=t(),[r[1],-r[0]])},e.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}function mr(){var e=af().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,a,o,f=!1,c=0,s=0,u=.5;delete e.unknown;function h(){var l=t().length,d=i<r,p=d?i:r,b=d?r:i;a=(b-p)/Math.max(1,l-c+s*2),f&&(a=Math.floor(a)),p+=(b-p-a*(l-c))*u,o=a*(1-c),f&&(p=Math.round(p),o=Math.round(o));var m=nf(l).map(function(g){return p+a*g});return n(d?m.reverse():m)}return e.domain=function(l){return arguments.length?(t(l),h()):t()},e.range=function(l){return arguments.length?([r,i]=l,r=+r,i=+i,h()):[r,i]},e.rangeRound=function(l){return[r,i]=l,r=+r,i=+i,f=!0,h()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(l){return arguments.length?(f=!!l,h()):f},e.padding=function(l){return arguments.length?(c=Math.min(1,s=+l),h()):c},e.paddingInner=function(l){return arguments.length?(c=Math.min(1,l),h()):c},e.paddingOuter=function(l){return arguments.length?(s=+l,h()):s},e.align=function(l){return arguments.length?(u=Math.max(0,Math.min(1,l)),h()):u},e.copy=function(){return mr(t(),[r,i]).round(f).paddingInner(c).paddingOuter(s).align(u)},nt.apply(h(),arguments)}function Wf(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Wf(t())},e}function Yd(){return Wf(mr.apply(null,arguments).paddingInner(1))}function Yf(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,Ua),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return Yf(e).unknown(t)},e=arguments.length?Array.from(e,Ua):[0,1],ur(n)}function Hf(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),e[n]=t.floor(i),e[r]=t.ceil(a),e}function Qa(e){return Math.log(e)}function Ka(e){return Math.exp(e)}function Hd(e){return-Math.log(-e)}function zd(e){return-Math.exp(-e)}function jd(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Vd(e){return e===10?jd:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Zd(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function Xa(e){return(t,n)=>-e(-t,n)}function zf(e){const t=e(Qa,Ka),n=t.domain;let r=10,i,a;function o(){return i=Zd(r),a=Vd(r),n()[0]<0?(i=Xa(i),a=Xa(a),e(Hd,zd)):e(Qa,Ka),t}return t.base=function(f){return arguments.length?(r=+f,o()):r},t.domain=function(f){return arguments.length?(n(f),o()):n()},t.ticks=f=>{const c=n();let s=c[0],u=c[c.length-1];const h=u<s;h&&([s,u]=[u,s]);let l=i(s),d=i(u),p,b;const m=f==null?10:+f;let g=[];if(!(r%1)&&d-l<m){if(l=Math.floor(l),d=Math.ceil(d),s>0){for(;l<=d;++l)for(p=1;p<r;++p)if(b=l<0?p/a(-l):p*a(l),!(b<s)){if(b>u)break;g.push(b)}}else for(;l<=d;++l)for(p=r-1;p>=1;--p)if(b=l>0?p/a(-l):p*a(l),!(b<s)){if(b>u)break;g.push(b)}g.length*2<m&&(g=yi(s,u,m))}else g=yi(l,d,Math.min(d-l,m)).map(a);return h?g.reverse():g},t.tickFormat=(f,c)=>{if(f==null&&(f=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=Vl(c)).precision==null&&(c.trim=!0),c=br(c)),f===1/0)return c;const s=Math.max(1,r*f/t.ticks().length);return u=>{let h=u/a(Math.round(i(u)));return h*r<r-.5&&(h*=r),h<=s?c(u):""}},t.nice=()=>n(Hf(n(),{floor:f=>a(Math.floor(i(f))),ceil:f=>a(Math.ceil(i(f)))})),t}function jf(){const e=zf(ji()).domain([1,10]);return e.copy=()=>lr(e,jf()).base(e.base()),nt.apply(e,arguments),e}function Ja(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function eo(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Vf(e){var t=1,n=e(Ja(t),eo(t));return n.constant=function(r){return arguments.length?e(Ja(t=+r),eo(t)):t},ur(n)}function Zf(){var e=Vf(ji());return e.copy=function(){return lr(e,Zf()).constant(e.constant())},nt.apply(e,arguments)}function to(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Gd(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Qd(e){return e<0?-e*e:e*e}function Gf(e){var t=e(xt,xt),n=1;function r(){return n===1?e(xt,xt):n===.5?e(Gd,Qd):e(to(n),to(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},ur(t)}function Qf(){var e=Gf(ji());return e.copy=function(){return lr(e,Qf()).exponent(e.exponent())},nt.apply(e,arguments),e}function Kf(){var e=[],t=[],n=[],r;function i(){var o=0,f=Math.max(1,t.length);for(n=new Array(f-1);++o<f;)n[o-1]=ad(e,o/f);return a}function a(o){return o==null||isNaN(o=+o)?r:t[Jo(n,o)]}return a.invertExtent=function(o){var f=t.indexOf(o);return f<0?[NaN,NaN]:[f>0?n[f-1]:e[0],f<n.length?n[f]:e[e.length-1]]},a.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let f of o)f!=null&&!isNaN(f=+f)&&e.push(f);return e.sort(Rn),i()},a.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return Kf().domain(e).range(t).unknown(r)},nt.apply(a,arguments)}function Xf(){var e=[.5],t=[0,1],n,r=1;function i(a){return a!=null&&a<=a?t[Jo(e,a,0,r)]:n}return i.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var o=t.indexOf(a);return[e[o-1],e[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return Xf().domain(e).range(t).unknown(n)},nt.apply(i,arguments)}const Kr=new Date,Xr=new Date;function V(e,t,n,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const o=i(a),f=i.ceil(a);return a-o<f-a?o:f},i.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,f)=>{const c=[];if(a=i.ceil(a),f=f==null?1:Math.floor(f),!(a<o)||!(f>0))return c;let s;do c.push(s=new Date(+a)),t(a,f),e(a);while(s<a&&a<o);return c},i.filter=a=>V(o=>{if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},(o,f)=>{if(o>=o)if(f<0)for(;++f<=0;)for(;t(o,-1),!a(o););else for(;--f>=0;)for(;t(o,1),!a(o););}),n&&(i.count=(a,o)=>(Kr.setTime(+a),Xr.setTime(+o),e(Kr),e(Xr),Math.floor(n(Kr,Xr))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const Vn=V(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Vn.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?V(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Vn);Vn.range;const Be=1e3,be=Be*60,We=be*60,ze=We*24,na=ze*7,no=ze*30,Jr=ze*365,Ye=V(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Be)},(e,t)=>(t-e)/Be,e=>e.getUTCSeconds());Ye.range;const gr=V(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Be)},(e,t)=>{e.setTime(+e+t*be)},(e,t)=>(t-e)/be,e=>e.getMinutes());gr.range;const yr=V(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*be)},(e,t)=>(t-e)/be,e=>e.getUTCMinutes());yr.range;const _r=V(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Be-e.getMinutes()*be)},(e,t)=>{e.setTime(+e+t*We)},(e,t)=>(t-e)/We,e=>e.getHours());_r.range;const wr=V(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*We)},(e,t)=>(t-e)/We,e=>e.getUTCHours());wr.range;const kt=V(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*be)/ze,e=>e.getDate()-1);kt.range;const mn=V(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ze,e=>e.getUTCDate()-1);mn.range;const Jf=V(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ze,e=>Math.floor(e/ze));Jf.range;function bt(e){return V(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*be)/na)}const Et=bt(0),an=bt(1),ec=bt(2),tc=bt(3),ut=bt(4),nc=bt(5),rc=bt(6);Et.range;an.range;ec.range;tc.range;ut.range;nc.range;rc.range;function pt(e){return V(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/na)}const Dt=pt(0),on=pt(1),ic=pt(2),ac=pt(3),lt=pt(4),oc=pt(5),fc=pt(6);Dt.range;on.range;ic.range;ac.range;lt.range;oc.range;fc.range;const St=V(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());St.range;const Ct=V(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Ct.range;const Ae=V(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ae.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:V(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Ae.range;const Ne=V(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ne.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:V(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Ne.range;function cc(e,t,n,r,i,a){const o=[[Ye,1,Be],[Ye,5,5*Be],[Ye,15,15*Be],[Ye,30,30*Be],[a,1,be],[a,5,5*be],[a,15,15*be],[a,30,30*be],[i,1,We],[i,3,3*We],[i,6,6*We],[i,12,12*We],[r,1,ze],[r,2,2*ze],[n,1,na],[t,1,no],[t,3,3*no],[e,1,Jr]];function f(s,u,h){const l=u<s;l&&([s,u]=[u,s]);const d=h&&typeof h.range=="function"?h:c(s,u,h),p=d?d.range(s,+u+1):[];return l?p.reverse():p}function c(s,u,h){const l=Math.abs(u-s)/h,d=Bl(([,,m])=>m).right(o,l);if(d===o.length)return e.every(Oa(s/Jr,u/Jr,h));if(d===0)return Vn.every(Math.max(Oa(s,u,h),1));const[p,b]=o[l/o[d-1][2]<o[d][2]/l?d-1:d];return p.every(b)}return[f,c]}const[Kd,Xd]=cc(Ne,Ct,Dt,Jf,wr,yr),[Jd,e0]=cc(Ae,St,Et,kt,_r,gr);function ei(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function ti(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Wt(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function t0(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,o=e.shortDays,f=e.months,c=e.shortMonths,s=Yt(i),u=Ht(i),h=Yt(a),l=Ht(a),d=Yt(o),p=Ht(o),b=Yt(f),m=Ht(f),g=Yt(c),x=Ht(c),_={a:R,A:j,b:H,B:W,c:null,d:co,e:co,f:T0,g:R0,G:U0,H:x0,I:v0,j:M0,L:sc,m:$0,M:S0,p:ee,q:yt,Q:lo,s:ho,S:C0,u:A0,U:N0,V:E0,w:D0,W:L0,x:null,X:null,y:k0,Y:I0,Z:O0,"%":uo},y={a:Pr,A:Fr,b:qr,B:Br,c:null,d:so,e:so,f:B0,g:K0,G:J0,H:P0,I:F0,j:q0,L:lc,m:W0,M:Y0,p:Wr,q:yl,Q:lo,s:ho,S:H0,u:z0,U:j0,V:V0,w:Z0,W:G0,x:null,X:null,y:Q0,Y:X0,Z:eh,"%":uo},v={a:F,A:J,b:P,B:C,c:T,d:oo,e:oo,f:g0,g:ao,G:io,H:fo,I:fo,j:h0,L:m0,m:d0,M:b0,p:D,q:l0,Q:_0,s:w0,S:p0,u:o0,U:f0,V:c0,w:a0,W:s0,x:A,X:N,y:ao,Y:io,Z:u0,"%":y0};_.x=M(n,_),_.X=M(r,_),_.c=M(t,_),y.x=M(n,y),y.X=M(r,y),y.c=M(t,y);function M($,k){return function(I){var w=[],re=-1,B=0,fe=$.length,ce,at,Ca;for(I instanceof Date||(I=new Date(+I));++re<fe;)$.charCodeAt(re)===37&&(w.push($.slice(B,re)),(at=ro[ce=$.charAt(++re)])!=null?ce=$.charAt(++re):at=ce==="e"?" ":"0",(Ca=k[ce])&&(ce=Ca(I,at)),w.push(ce),B=re+1);return w.push($.slice(B,re)),w.join("")}}function S($,k){return function(I){var w=Wt(1900,void 0,1),re=L(w,$,I+="",0),B,fe;if(re!=I.length)return null;if("Q"in w)return new Date(w.Q);if("s"in w)return new Date(w.s*1e3+("L"in w?w.L:0));if(k&&!("Z"in w)&&(w.Z=0),"p"in w&&(w.H=w.H%12+w.p*12),w.m===void 0&&(w.m="q"in w?w.q:0),"V"in w){if(w.V<1||w.V>53)return null;"w"in w||(w.w=1),"Z"in w?(B=ti(Wt(w.y,0,1)),fe=B.getUTCDay(),B=fe>4||fe===0?on.ceil(B):on(B),B=mn.offset(B,(w.V-1)*7),w.y=B.getUTCFullYear(),w.m=B.getUTCMonth(),w.d=B.getUTCDate()+(w.w+6)%7):(B=ei(Wt(w.y,0,1)),fe=B.getDay(),B=fe>4||fe===0?an.ceil(B):an(B),B=kt.offset(B,(w.V-1)*7),w.y=B.getFullYear(),w.m=B.getMonth(),w.d=B.getDate()+(w.w+6)%7)}else("W"in w||"U"in w)&&("w"in w||(w.w="u"in w?w.u%7:"W"in w?1:0),fe="Z"in w?ti(Wt(w.y,0,1)).getUTCDay():ei(Wt(w.y,0,1)).getDay(),w.m=0,w.d="W"in w?(w.w+6)%7+w.W*7-(fe+5)%7:w.w+w.U*7-(fe+6)%7);return"Z"in w?(w.H+=w.Z/100|0,w.M+=w.Z%100,ti(w)):ei(w)}}function L($,k,I,w){for(var re=0,B=k.length,fe=I.length,ce,at;re<B;){if(w>=fe)return-1;if(ce=k.charCodeAt(re++),ce===37){if(ce=k.charAt(re++),at=v[ce in ro?k.charAt(re++):ce],!at||(w=at($,I,w))<0)return-1}else if(ce!=I.charCodeAt(w++))return-1}return w}function D($,k,I){var w=s.exec(k.slice(I));return w?($.p=u.get(w[0].toLowerCase()),I+w[0].length):-1}function F($,k,I){var w=d.exec(k.slice(I));return w?($.w=p.get(w[0].toLowerCase()),I+w[0].length):-1}function J($,k,I){var w=h.exec(k.slice(I));return w?($.w=l.get(w[0].toLowerCase()),I+w[0].length):-1}function P($,k,I){var w=g.exec(k.slice(I));return w?($.m=x.get(w[0].toLowerCase()),I+w[0].length):-1}function C($,k,I){var w=b.exec(k.slice(I));return w?($.m=m.get(w[0].toLowerCase()),I+w[0].length):-1}function T($,k,I){return L($,t,k,I)}function A($,k,I){return L($,n,k,I)}function N($,k,I){return L($,r,k,I)}function R($){return o[$.getDay()]}function j($){return a[$.getDay()]}function H($){return c[$.getMonth()]}function W($){return f[$.getMonth()]}function ee($){return i[+($.getHours()>=12)]}function yt($){return 1+~~($.getMonth()/3)}function Pr($){return o[$.getUTCDay()]}function Fr($){return a[$.getUTCDay()]}function qr($){return c[$.getUTCMonth()]}function Br($){return f[$.getUTCMonth()]}function Wr($){return i[+($.getUTCHours()>=12)]}function yl($){return 1+~~($.getUTCMonth()/3)}return{format:function($){var k=M($+="",_);return k.toString=function(){return $},k},parse:function($){var k=S($+="",!1);return k.toString=function(){return $},k},utcFormat:function($){var k=M($+="",y);return k.toString=function(){return $},k},utcParse:function($){var k=S($+="",!0);return k.toString=function(){return $},k}}}var ro={"-":"",_:" ",0:"0"},X=/^\s*\d+/,n0=/^%/,r0=/[\\^$*+?|[\]().{}]/g;function O(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function i0(e){return e.replace(r0,"\\$&")}function Yt(e){return new RegExp("^(?:"+e.map(i0).join("|")+")","i")}function Ht(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function a0(e,t,n){var r=X.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function o0(e,t,n){var r=X.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function f0(e,t,n){var r=X.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function c0(e,t,n){var r=X.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function s0(e,t,n){var r=X.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function io(e,t,n){var r=X.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function ao(e,t,n){var r=X.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function u0(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function l0(e,t,n){var r=X.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function d0(e,t,n){var r=X.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function oo(e,t,n){var r=X.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function h0(e,t,n){var r=X.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function fo(e,t,n){var r=X.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function b0(e,t,n){var r=X.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function p0(e,t,n){var r=X.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function m0(e,t,n){var r=X.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function g0(e,t,n){var r=X.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function y0(e,t,n){var r=n0.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function _0(e,t,n){var r=X.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function w0(e,t,n){var r=X.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function co(e,t){return O(e.getDate(),t,2)}function x0(e,t){return O(e.getHours(),t,2)}function v0(e,t){return O(e.getHours()%12||12,t,2)}function M0(e,t){return O(1+kt.count(Ae(e),e),t,3)}function sc(e,t){return O(e.getMilliseconds(),t,3)}function T0(e,t){return sc(e,t)+"000"}function $0(e,t){return O(e.getMonth()+1,t,2)}function S0(e,t){return O(e.getMinutes(),t,2)}function C0(e,t){return O(e.getSeconds(),t,2)}function A0(e){var t=e.getDay();return t===0?7:t}function N0(e,t){return O(Et.count(Ae(e)-1,e),t,2)}function uc(e){var t=e.getDay();return t>=4||t===0?ut(e):ut.ceil(e)}function E0(e,t){return e=uc(e),O(ut.count(Ae(e),e)+(Ae(e).getDay()===4),t,2)}function D0(e){return e.getDay()}function L0(e,t){return O(an.count(Ae(e)-1,e),t,2)}function k0(e,t){return O(e.getFullYear()%100,t,2)}function R0(e,t){return e=uc(e),O(e.getFullYear()%100,t,2)}function I0(e,t){return O(e.getFullYear()%1e4,t,4)}function U0(e,t){var n=e.getDay();return e=n>=4||n===0?ut(e):ut.ceil(e),O(e.getFullYear()%1e4,t,4)}function O0(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+O(t/60|0,"0",2)+O(t%60,"0",2)}function so(e,t){return O(e.getUTCDate(),t,2)}function P0(e,t){return O(e.getUTCHours(),t,2)}function F0(e,t){return O(e.getUTCHours()%12||12,t,2)}function q0(e,t){return O(1+mn.count(Ne(e),e),t,3)}function lc(e,t){return O(e.getUTCMilliseconds(),t,3)}function B0(e,t){return lc(e,t)+"000"}function W0(e,t){return O(e.getUTCMonth()+1,t,2)}function Y0(e,t){return O(e.getUTCMinutes(),t,2)}function H0(e,t){return O(e.getUTCSeconds(),t,2)}function z0(e){var t=e.getUTCDay();return t===0?7:t}function j0(e,t){return O(Dt.count(Ne(e)-1,e),t,2)}function dc(e){var t=e.getUTCDay();return t>=4||t===0?lt(e):lt.ceil(e)}function V0(e,t){return e=dc(e),O(lt.count(Ne(e),e)+(Ne(e).getUTCDay()===4),t,2)}function Z0(e){return e.getUTCDay()}function G0(e,t){return O(on.count(Ne(e)-1,e),t,2)}function Q0(e,t){return O(e.getUTCFullYear()%100,t,2)}function K0(e,t){return e=dc(e),O(e.getUTCFullYear()%100,t,2)}function X0(e,t){return O(e.getUTCFullYear()%1e4,t,4)}function J0(e,t){var n=e.getUTCDay();return e=n>=4||n===0?lt(e):lt.ceil(e),O(e.getUTCFullYear()%1e4,t,4)}function eh(){return"+0000"}function uo(){return"%"}function lo(e){return+e}function ho(e){return Math.floor(+e/1e3)}var _t,hc,xr;th({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function th(e){return _t=t0(e),hc=_t.format,_t.parse,xr=_t.utcFormat,_t.utcParse,_t}function nh(e){return new Date(e)}function rh(e){return e instanceof Date?+e:+new Date(+e)}function ra(e,t,n,r,i,a,o,f,c,s){var u=Wl(),h=u.invert,l=u.domain,d=s(".%L"),p=s(":%S"),b=s("%I:%M"),m=s("%I %p"),g=s("%a %d"),x=s("%b %d"),_=s("%B"),y=s("%Y");function v(M){return(c(M)<M?d:f(M)<M?p:o(M)<M?b:a(M)<M?m:r(M)<M?i(M)<M?g:x:n(M)<M?_:y)(M)}return u.invert=function(M){return new Date(h(M))},u.domain=function(M){return arguments.length?l(Array.from(M,rh)):l().map(nh)},u.ticks=function(M){var S=l();return e(S[0],S[S.length-1],M??10)},u.tickFormat=function(M,S){return S==null?v:s(S)},u.nice=function(M){var S=l();return(!M||typeof M.range!="function")&&(M=t(S[0],S[S.length-1],M??10)),M?l(Hf(S,M)):u},u.copy=function(){return lr(u,ra(e,t,n,r,i,a,o,f,c,s))},u}function ih(){return nt.apply(ra(Jd,e0,Ae,St,Et,kt,_r,gr,Ye,hc).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function ah(){return nt.apply(ra(Kd,Xd,Ne,Ct,Dt,mn,wr,yr,Ye,xr).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function vr(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Mr(){var e=0,t=.5,n=1,r=1,i,a,o,f,c,s=xt,u,h=!1,l;function d(b){return isNaN(b=+b)?l:(b=.5+((b=+u(b))-a)*(r*b<r*a?f:c),s(h?Math.max(0,Math.min(1,b)):b))}d.domain=function(b){return arguments.length?([e,t,n]=b,i=u(e=+e),a=u(t=+t),o=u(n=+n),f=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),r=a<i?-1:1,d):[e,t,n]},d.clamp=function(b){return arguments.length?(h=!!b,d):h},d.interpolator=function(b){return arguments.length?(s=b,d):s};function p(b){return function(m){var g,x,_;return arguments.length?([g,x,_]=m,s=Ji(b,[g,x,_]),d):[s(0),s(.5),s(1)]}}return d.range=p(of),d.rangeRound=p(ef),d.unknown=function(b){return arguments.length?(l=b,d):l},function(b){return u=b,i=b(e),a=b(t),o=b(n),f=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),r=a<i?-1:1,d}}function bc(){var e=ur(Mr()(xt));return e.copy=function(){return vr(e,bc())},hr.apply(e,arguments)}function pc(){var e=zf(Mr()).domain([.1,1,10]);return e.copy=function(){return vr(e,pc()).base(e.base())},hr.apply(e,arguments)}function mc(){var e=Vf(Mr());return e.copy=function(){return vr(e,mc()).constant(e.constant())},hr.apply(e,arguments)}function gc(){var e=Gf(Mr());return e.copy=function(){return vr(e,gc()).exponent(e.exponent())},hr.apply(e,arguments)}function E(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}const oh=E("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),fh=E("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),ch=E("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),sh=E("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),uh=E("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),lh=E("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),dh=E("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),hh=E("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),bh=E("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),ph=E("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),q=e=>Tl(e[e.length-1]);var yc=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(E);const _c=q(yc);var wc=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(E);const xc=q(wc);var vc=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(E);const Mc=q(vc);var Tc=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(E);const $c=q(Tc);var Di=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(E);const Zn=q(Di);var Sc=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(E);const Cc=q(Sc);var Li=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(E);const Gn=q(Li);var Ac=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(E);const Nc=q(Ac);var Ec=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(E);const Dc=q(Ec);var Lc=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(E);const kc=q(Lc);var Rc=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(E);const Ic=q(Rc);var Uc=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(E);const Oc=q(Uc);var Pc=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(E);const Fc=q(Pc);var qc=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(E);const Bc=q(qc);var Wc=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(E);const Yc=q(Wc);var Hc=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(E);const zc=q(Hc);var jc=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(E);const Vc=q(jc);var Zc=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(E);const Gc=q(Zc);var Qc=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(E);const Kc=q(Qc);var Xc=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(E);const Jc=q(Xc);var es=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(E);const ts=q(es);var ns=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(E);const rs=q(ns);var is=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(E);const as=q(is);var os=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(E);const fs=q(os);var cs=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(E);const ss=q(cs);var us=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(E);const ls=q(us);var ds=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(E);const hs=q(ds);function bs(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-e*(35.34-e*(2381.73-e*(6402.7-e*(7024.72-e*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+e*(170.73+e*(52.82-e*(131.46-e*(176.58-e*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+e*(442.36-e*(2482.43-e*(6167.24-e*(6614.94-e*2475.67)))))))+")"}const ps=Xi(Ce(300,.5,0),Ce(-240,.5,1));var ms=Xi(Ce(-100,.75,.35),Ce(80,1.5,.8)),gs=Xi(Ce(260,.75,.35),Ce(80,1.5,.8)),Mn=Ce();function ys(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return Mn.h=360*e-100,Mn.s=1.5-1.5*t,Mn.l=.8-.9*t,Mn+""}var Tn=Ln(),mh=Math.PI/3,gh=Math.PI*2/3;function _s(e){var t;return e=(.5-e)*Math.PI,Tn.r=255*(t=Math.sin(e))*t,Tn.g=255*(t=Math.sin(e+mh))*t,Tn.b=255*(t=Math.sin(e+gh))*t,Tn+""}function ws(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+e*(1172.33-e*(10793.56-e*(33300.12-e*(38394.49-e*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+e*(557.33+e*(1225.33-e*(3574.96-e*(1073.77+e*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+e*(3211.1-e*(15327.97-e*(27814-e*(22569.18-e*6838.66)))))))+")"}function Tr(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}const xs=Tr(E("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var vs=Tr(E("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),Ms=Tr(E("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),Ts=Tr(E("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));const $s=Math.cos,ia=Math.min,Qn=Math.sin,Z=Math.sqrt,bo=1e-12,Kn=Math.PI,$r=2*Kn;class Ss{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function yh(e){return new Ss(e,!0)}function _h(e){return new Ss(e,!1)}const wh=Z(3),Cs={draw(e,t){const n=Z(t+ia(t/28,.75))*.59436,r=n/2,i=r*wh;e.moveTo(0,n),e.lineTo(0,-n),e.moveTo(-i,-r),e.lineTo(i,r),e.moveTo(-i,r),e.lineTo(i,-r)}},aa={draw(e,t){const n=Z(t/Kn);e.moveTo(n,0),e.arc(0,0,n,0,$r)}},As={draw(e,t){const n=Z(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},Ns=Z(1/3),xh=Ns*2,Es={draw(e,t){const n=Z(t/xh),r=n*Ns;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},Ds={draw(e,t){const n=Z(t)*.62625;e.moveTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.lineTo(-n,0),e.closePath()}},Ls={draw(e,t){const n=Z(t-ia(t/7,2))*.87559;e.moveTo(-n,0),e.lineTo(n,0),e.moveTo(0,n),e.lineTo(0,-n)}},ks={draw(e,t){const n=Z(t),r=-n/2;e.rect(r,r,n,n)}},Rs={draw(e,t){const n=Z(t)*.4431;e.moveTo(n,n),e.lineTo(n,-n),e.lineTo(-n,-n),e.lineTo(-n,n),e.closePath()}},vh=.8908130915292852,Is=Qn(Kn/10)/Qn(7*Kn/10),Mh=Qn($r/10)*Is,Th=-$s($r/10)*Is,Us={draw(e,t){const n=Z(t*vh),r=Mh*n,i=Th*n;e.moveTo(0,-n),e.lineTo(r,i);for(let a=1;a<5;++a){const o=$r*a/5,f=$s(o),c=Qn(o);e.lineTo(c*n,-f*n),e.lineTo(f*r-c*i,c*r+f*i)}e.closePath()}},ni=Z(3),Os={draw(e,t){const n=-Z(t/(ni*3));e.moveTo(0,n*2),e.lineTo(-ni*n,-n),e.lineTo(ni*n,-n),e.closePath()}},$h=Z(3),Ps={draw(e,t){const n=Z(t)*.6824,r=n/2,i=n*$h/2;e.moveTo(0,-n),e.lineTo(i,r),e.lineTo(-i,r),e.closePath()}},de=-.5,he=Z(3)/2,ki=1/Z(12),Sh=(ki/2+1)*3,Fs={draw(e,t){const n=Z(t/Sh),r=n/2,i=n*ki,a=r,o=n*ki+n,f=-a,c=o;e.moveTo(r,i),e.lineTo(a,o),e.lineTo(f,c),e.lineTo(de*r-he*i,he*r+de*i),e.lineTo(de*a-he*o,he*a+de*o),e.lineTo(de*f-he*c,he*f+de*c),e.lineTo(de*r+he*i,de*i-he*r),e.lineTo(de*a+he*o,de*o-he*a),e.lineTo(de*f+he*c,de*c-he*f),e.closePath()}},qs={draw(e,t){const n=Z(t-ia(t/6,1.7))*.6189;e.moveTo(-n,-n),e.lineTo(n,n),e.moveTo(-n,n),e.lineTo(n,-n)}},Ch=[aa,As,Es,ks,Us,Os,Fs],Ah=[aa,Ls,qs,Ps,Cs,Rs,Ds];function et(){}function Xn(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function Sr(e){this._context=e}Sr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Xn(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Xn(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Nh(e){return new Sr(e)}function Bs(e){this._context=e}Bs.prototype={areaStart:et,areaEnd:et,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Xn(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Eh(e){return new Bs(e)}function Ws(e){this._context=e}Ws.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Xn(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Dh(e){return new Ws(e)}function Ys(e,t){this._basis=new Sr(e),this._beta=t}Ys.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r=e[0],i=t[0],a=e[n]-r,o=t[n]-i,f=-1,c;++f<=n;)c=f/n,this._basis.point(this._beta*e[f]+(1-this._beta)*(r+c*a),this._beta*t[f]+(1-this._beta)*(i+c*o));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const Lh=function e(t){function n(r){return t===1?new Sr(r):new Ys(r,t)}return n.beta=function(r){return e(+r)},n}(.85);function Jn(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function oa(e,t){this._context=e,this._k=(1-t)/6}oa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Jn(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:Jn(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const kh=function e(t){function n(r){return new oa(r,t)}return n.tension=function(r){return e(+r)},n}(0);function fa(e,t){this._context=e,this._k=(1-t)/6}fa.prototype={areaStart:et,areaEnd:et,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Jn(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Rh=function e(t){function n(r){return new fa(r,t)}return n.tension=function(r){return e(+r)},n}(0);function ca(e,t){this._context=e,this._k=(1-t)/6}ca.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Jn(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Ih=function e(t){function n(r){return new ca(r,t)}return n.tension=function(r){return e(+r)},n}(0);function sa(e,t,n){var r=e._x1,i=e._y1,a=e._x2,o=e._y2;if(e._l01_a>bo){var f=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,c=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*f-e._x0*e._l12_2a+e._x2*e._l01_2a)/c,i=(i*f-e._y0*e._l12_2a+e._y2*e._l01_2a)/c}if(e._l23_a>bo){var s=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,u=3*e._l23_a*(e._l23_a+e._l12_a);a=(a*s+e._x1*e._l23_2a-t*e._l12_2a)/u,o=(o*s+e._y1*e._l23_2a-n*e._l12_2a)/u}e._context.bezierCurveTo(r,i,a,o,e._x2,e._y2)}function Hs(e,t){this._context=e,this._alpha=t}Hs.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:sa(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Uh=function e(t){function n(r){return t?new Hs(r,t):new oa(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function zs(e,t){this._context=e,this._alpha=t}zs.prototype={areaStart:et,areaEnd:et,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:sa(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Oh=function e(t){function n(r){return t?new zs(r,t):new fa(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function js(e,t){this._context=e,this._alpha=t}js.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:sa(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Ph=function e(t){function n(r){return t?new js(r,t):new ca(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function Vs(e){this._context=e}Vs.prototype={areaStart:et,areaEnd:et,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Fh(e){return new Vs(e)}function po(e){return e<0?-1:1}function mo(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),o=(n-e._y1)/(i||r<0&&-0),f=(a*i+o*r)/(r+i);return(po(a)+po(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(f))||0}function go(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function ri(e,t,n){var r=e._x0,i=e._y0,a=e._x1,o=e._y1,f=(a-r)/3;e._context.bezierCurveTo(r+f,i+f*t,a-f,o-f*n,a,o)}function er(e){this._context=e}er.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ri(this,this._t0,go(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,ri(this,go(this,n=mo(this,e,t)),n);break;default:ri(this,this._t0,n=mo(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function Zs(e){this._context=new Gs(e)}(Zs.prototype=Object.create(er.prototype)).point=function(e,t){er.prototype.point.call(this,t,e)};function Gs(e){this._context=e}Gs.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}};function qh(e){return new er(e)}function Bh(e){return new Zs(e)}function Qs(e){this._context=e}Qs.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=yo(e),i=yo(t),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function yo(e){var t,n=e.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/a[t-1],a[t]-=r,o[t]-=r*o[t-1];for(i[n-1]=o[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function Wh(e){return new Qs(e)}function Cr(e,t){this._context=e,this._t=t}Cr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function Yh(e){return new Cr(e,.5)}function Hh(e){return new Cr(e,0)}function zh(e){return new Cr(e,1)}function fn(e){return e!=null&&!Number.isNaN(e)}function Lt(e,t){return+fn(t)-+fn(e)||Rn(e,t)}function Ks(e,t){return+fn(t)-+fn(e)||dr(e,t)}function Xs(e){return e!=null&&`${e}`!=""}function Js(e){return isFinite(e)?e:NaN}function ua(e){return e>0&&isFinite(e)?e:NaN}function eu(e){return e<0&&isFinite(e)?e:NaN}function jh(e,t){if(e instanceof Date||(e=new Date(+e)),isNaN(e))return typeof t=="function"?t(e):t;const n=e.getUTCHours(),r=e.getUTCMinutes(),i=e.getUTCSeconds(),a=e.getUTCMilliseconds();return`${Vh(e.getUTCFullYear())}-${Fe(e.getUTCMonth()+1,2)}-${Fe(e.getUTCDate(),2)}${n||r||i||a?`T${Fe(n,2)}:${Fe(r,2)}${i||a?`:${Fe(i,2)}${a?`.${Fe(a,3)}`:""}`:""}Z`:""}`}function Vh(e){return e<0?`-${Fe(-e,6)}`:e>9999?`+${Fe(e,6)}`:Fe(e,4)}function Fe(e,t){return`${e}`.padStart(t,"0")}const Zh=/^(?:[-+]\d{2})?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{3})?)?(?:Z|[-+]\d{2}:?\d{2})?)?$/;function tu(e,t){return Zh.test(e+="")?new Date(e):typeof t=="function"?t(e):t}const Gh=new Map([["second",Ye],["minute",gr],["hour",_r],["day",kt],["week",Et],["month",St],["quarter",St.every(3)],["half",St.every(6)],["year",Ae],["monday",an],["tuesday",ec],["wednesday",tc],["thursday",ut],["friday",nc],["saturday",rc],["sunday",Et]]),Qh=new Map([["second",Ye],["minute",yr],["hour",wr],["day",mn],["week",Dt],["month",Ct],["quarter",Ct.every(3)],["half",Ct.every(6)],["year",Ne],["monday",on],["tuesday",ic],["wednesday",ac],["thursday",lt],["friday",oc],["saturday",fc],["sunday",Dt]]);function Kh(e){const t=Gh.get(`${e}`.toLowerCase());if(!t)throw new Error(`unknown interval: ${e}`);return t}function Xh(e){const t=Qh.get(`${e}`.toLowerCase());if(!t)throw new Error(`unknown interval: ${e}`);return t}const cn=Object.getPrototypeOf(Uint8Array),Jh=Object.prototype.toString;function tt(e,t,n){const r=typeof t;return r==="string"?_o(e,t1(t),n):r==="function"?_o(e,t,n):r==="number"||t instanceof Date||r==="boolean"?ae(e,Rt(t),n):typeof(t==null?void 0:t.transform)=="function"?wo(t.transform(e),n):wo(t,n)}function _o(e,t,n){return ae(e,(n==null?void 0:n.prototype)instanceof cn?e1(t):t,n)}function wo(e,t){return t===void 0?Ee(e):e instanceof t?e:t.prototype instanceof cn&&!(e instanceof cn)?t.from(e,la):t.from(e)}function e1(e){return(t,n)=>la(e(t,n))}const t1=e=>t=>t[e],n1=(e,t)=>t,rt={transform:e=>e},r1=()=>!0,we=e=>e==null?e:`${e}`,te=e=>e==null?e:+e,nu=e=>e?e[0]:void 0,i1=e=>e?e[1]:void 0,Rt=e=>()=>e;function a1(e){const t=+`${e}`.slice(1)/100;return(n,r)=>On(n,t,r)}function Mt(e){return e instanceof cn?e:ae(e,la,Float64Array)}function la(e){return e==null?NaN:Number(e)}function o1(e){return ae(e,f1)}function f1(e){return e instanceof Date&&!isNaN(e)?e:typeof e=="string"?tu(e):e==null||isNaN(e=+e)?void 0:new Date(e)}function tr(e,t){return e===void 0&&(e=t),e===null?[void 0,"none"]:Er(e)?[void 0,e]:[e,void 0]}function pe(e,t){return e===void 0&&(e=t),e===null||typeof e=="number"?[void 0,e]:[e,void 0]}function ru(e,t,n){if(e!=null)return Ve(e,t,n)}function Ve(e,t,n){const r=`${e}`.toLowerCase();if(!n.includes(r))throw new Error(`invalid ${t}: ${e}`);return r}function Ee(e){return e==null||e instanceof Array||e instanceof cn?e:Array.from(e)}function ae(e,t,n=Array){return e==null?e:e instanceof n?e.map(t):n.from(e,t)}function Ri(e,t=Array){return e instanceof t?e.slice():t.from(e)}function gn(e){return(e==null?void 0:e.toString)===Jh}function Ii(e){return gn(e)&&(e.type!==void 0||e.domain!==void 0)}function da(e){return gn(e)&&typeof e.transform!="function"}function sn(e){return da(e)&&e.value===void 0&&e.channel===void 0}function c1(e,t){return e===void 0&&t===void 0?[nu,i1]:[e,t]}function Ar(e){const t=e.length,n=new Uint32Array(t);for(let r=0;r<t;++r)n[r]=r;return n}function iu(e,t){return ae(t,n=>e[n])}function Nr(e,t){return typeof e=="string"?e:e&&e.label!==void 0?e.label:t}function ha(e,t){if(e!=null){if(typeof e=="number"){const n=e;return{floor:r=>n*Math.floor(r/n),offset:r=>r+n,range:(r,i)=>nf(Math.ceil(r/n),i/n).map(a=>n*a)}}if(typeof e=="string")return(t==="time"?Kh:Xh)(e);if(typeof e.floor!="function")throw new Error("invalid interval; missing floor method");if(typeof e.offset!="function")throw new Error("invalid interval; missing offset method");return e}}function yn(e,t){if(e=ha(e,t),e&&typeof e.range!="function")throw new Error("invalid interval: missing range method");return e}function s1(e,t){if(e=yn(e,t),e&&typeof e.ceil!="function")throw new Error("invalid interval: missing ceil method");return e}function ba(e){return e===void 0||da(e)?e:{value:e}}function u1(e){return e==null?null:{transform:t=>tt(t,e,Float64Array),label:Nr(e)}}function mt(e){return e&&typeof e[Symbol.iterator]=="function"}function l1(e){for(const t of e)if(t!=null)return typeof t!="object"||t instanceof Date}function xo(e){for(const t of e){if(t==null)continue;const n=typeof t;return n==="string"||n==="boolean"}}function je(e){for(const t of e)if(t!=null)return t instanceof Date}function d1(e){for(const t of e)if(t!=null)return typeof t=="string"&&isNaN(t)&&tu(t)}function h1(e){for(const t of e)if(t!=null){if(typeof t!="string")return!1;if(t.trim())return!isNaN(t)}}function b1(e){for(const t of e)if(t!=null)return typeof t=="number"}function ii(e,t){let n;for(const r of e)if(r!=null){if(!t(r))return!1;n=!0}return n}function Er(e){return typeof e!="string"?!1:(e=e.toLowerCase().trim(),e==="none"||e==="currentcolor"||e.startsWith("url(")&&e.endsWith(")")||e.startsWith("var(")&&e.endsWith(")")||$l(e)!==null)}function p1(e){return typeof e=="number"&&(0<=e&&e<=1||isNaN(e))}function ue(e){return e==null||un(e)}function un(e){return/^\s*none\s*$/i.test(e)}function m1(e){return/^\s*round\s*$/i.test(e)}function au(e="middle"){return Ve(e,"frameAnchor",["middle","top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"])}function ln(e){if(e==null)return;const t=e[0],n=e[e.length-1];return dr(t,n)}function g1(e={},...t){let n=e;for(const r of t)for(const i in r)if(n[i]===void 0){const a=r[i];n===e?n={...n,[i]:a}:n[i]=a}return n}function y1(e){console.warn("named iterables are deprecated; please use an object instead");const t=new Set;return Object.fromEntries(Array.from(e,n=>{const{name:r}=n;if(r==null)throw new Error("missing name");const i=`${r}`;if(i==="__proto__")throw new Error(`illegal name: ${i}`);if(t.has(i))throw new Error(`duplicate name: ${i}`);return t.add(i),[r,n]}))}function vo(e){return mt(e)?y1(e):e}const Te=Symbol("position"),De=Symbol("color"),Dr=Symbol("radius"),Lr=Symbol("length"),kr=Symbol("opacity"),Rr=Symbol("symbol"),Y=new Map([["x",Te],["y",Te],["fx",Te],["fy",Te],["r",Dr],["color",De],["opacity",kr],["symbol",Rr],["length",Lr]]),_1=Math.sqrt(3),w1=2/_1,x1={draw(e,t){const n=Math.sqrt(t/Math.PI),r=n*w1,i=r/2;e.moveTo(0,r),e.lineTo(n,i),e.lineTo(n,-i),e.lineTo(0,-r),e.lineTo(-n,-i),e.lineTo(-n,i),e.closePath()}},ou=new Map([["asterisk",Cs],["circle",aa],["cross",As],["diamond",Es],["diamond2",Ds],["hexagon",x1],["plus",Ls],["square",ks],["square2",Rs],["star",Us],["times",qs],["triangle",Os],["triangle2",Ps],["wye",Fs]]);function fu(e){return e&&typeof e.draw=="function"}function v1(e){return fu(e)?!0:typeof e!="string"?!1:ou.has(e.toLowerCase())}function pa(e){if(e==null||fu(e))return e;const t=ou.get(`${e}`.toLowerCase());if(t)return t;throw new Error(`invalid symbol: ${e}`)}function M1({filter:e,sort:t,reverse:n,transform:r,initializer:i,...a}={},o){if(r===void 0&&(e!=null&&(r=su(e)),t!=null&&!sn(t)&&(r=ai(r,lu(t))),n&&(r=ai(r,uu))),o!=null&&i!=null)throw new Error("transforms cannot be applied after initializers");return{...a,...(t===null||sn(t))&&{sort:t},transform:ai(r,o)}}function cu({filter:e,sort:t,reverse:n,initializer:r,...i}={},a){return r===void 0&&(e!=null&&(r=su(e)),t!=null&&!sn(t)&&(r=oi(r,lu(t))),n&&(r=oi(r,uu))),{...i,...(t===null||sn(t))&&{sort:t},initializer:oi(r,a)}}function ai(e,t){return e==null?t===null?void 0:t:t==null?e===null?void 0:e:function(n,r){return{data:n,facets:r}=e.call(this,n,r),t.call(this,Ee(n),r)}}function oi(e,t){return e==null?t===null?void 0:t:t==null?e===null?void 0:e:function(n,r,i,...a){let o,f,c,s,u,h;return{data:f=n,facets:c=r,channels:o}=e.call(this,n,r,i,...a),{data:u=f,facets:h=c,channels:s}=t.call(this,f,c,{...i,...o},...a),{data:u,facets:h,channels:{...o,...s}}}}function su(e){return(t,n)=>{const r=tt(t,e);return{data:t,facets:n.map(i=>i.filter(a=>r[a]))}}}function uu(e,t){return{data:e,facets:t.map(n=>n.slice().reverse())}}function lu(e){return(typeof e=="function"&&e.length!==1?T1:$1)(e)}function T1(e){return(t,n)=>{const r=(i,a)=>e(t[i],t[a]);return{data:t,facets:n.map(i=>i.slice().sort(r))}}}function $1(e){let t,n;if({channel:t,value:e,order:n=Lt}={...ba(e)},typeof n!="function")switch(`${n}`.toLowerCase()){case"ascending":n=Lt;break;case"descending":n=Ks;break;default:throw new Error(`invalid order: ${n}`)}return(r,i,a)=>{let o;if(t===void 0)o=tt(r,e);else{if(a===void 0)throw new Error("channel sort requires an initializer");if(o=a[t],!o)return{};o=o.value}const f=(c,s)=>n(o[c],o[s]);return{data:r,facets:i.map(c=>c.slice().sort(f))}}}function S1(e,t,n=C1){if(e==null)return n(e);if(typeof e.reduceIndex=="function")return e;if(typeof e.reduce=="function"&&gn(e))return A1(e);if(typeof e=="function")return N1(e);if(/^p\d{2}$/i.test(e))return Pe(a1(e));switch(`${e}`.toLowerCase()){case"first":return D1;case"last":return L1;case"identity":return E1;case"count":return To;case"distinct":return k1;case"sum":return t==null?To:R1;case"proportion":return $o(t,"data");case"proportion-facet":return $o(t,"facet");case"deviation":return Pe(Jl);case"min":return Pe(nn);case"min-index":return Pe(id);case"max":return Pe(He);case"max-index":return Pe(rd);case"mean":return Mo(od);case"median":return Mo(wi);case"variance":return Pe(ff);case"mode":return Pe(fd)}return n(e)}function C1(e){throw new Error(`invalid reduce: ${e}`)}function A1(e){return console.warn("deprecated reduce interface; implement reduceIndex instead."),{...e,reduceIndex:e.reduce.bind(e)}}function N1(e){return{reduceIndex(t,n,r){return e(iu(n,t),r)}}}function Pe(e){return{reduceIndex(t,n){return e(t,r=>n[r])}}}function Mo(e){return{reduceIndex(t,n){const r=e(t,i=>n[i]);return je(n)?new Date(r):r}}}const E1={reduceIndex(e,t){return iu(t,e)}},D1={reduceIndex(e,t){return t[e[0]]}},L1={reduceIndex(e,t){return t[e[e.length-1]]}},To={label:"Frequency",reduceIndex(e){return e.length}},k1={label:"Distinct",reduceIndex(e,t){const n=new Zi;for(const r of e)n.add(t[r]);return n.size}},R1=Pe(Gi);function $o(e,t){return e==null?{scope:t,label:"Frequency",reduceIndex:(n,r,i=1)=>n.length/i}:{scope:t,reduceIndex:(n,r,i=1)=>Gi(n,a=>r[a])/i}}function dn(e,{scale:t,type:n,value:r,filter:i,hint:a},o){return du(o,{scale:t,type:n,value:tt(e,r),label:Nr(r),filter:i,hint:a})}function I1(e,t){return Object.fromEntries(Object.entries(e).map(([n,r])=>[n,dn(t,r,n)]))}function U1(e,t){const n=Object.fromEntries(Object.entries(e).map(([r,{scale:i,value:a}])=>{const o=i==null?null:t[i];return[r,o==null?a:ae(a,o)]}));return n.channels=e,n}function du(e,t){const{scale:n,value:r}=t;if(n===!0||n==="auto")switch(e){case"fill":case"stroke":case"color":t.scale=n!==!0&&ii(r,Er)?null:"color";break;case"fillOpacity":case"strokeOpacity":t.scale=n!==!0&&ii(r,p1)?null:"opacity";break;case"symbol":n!==!0&&ii(r,v1)?(t.scale=null,t.value=ae(r,pa)):t.scale="symbol";break;default:t.scale=Y.has(e)?e:null;break}else if(n===!1)t.scale=null;else if(n!=null&&!Y.has(n))throw new Error(`unknown scale: ${n}`);return t}function O1(e,t,n,r,i){const{reverse:a,reduce:o=!0,limit:f}=i;for(const c in i){if(!Y.has(c))continue;let{value:s,reverse:u=a,reduce:h=o,limit:l=f}=ba(i[c]);if(u===void 0&&(u=s==="width"||s==="height"),h==null||h===!1)continue;const d=c==="fx"||c==="fy"?F1(t,r[c]):P1(n,c);if(!d)throw new Error(`missing channel for scale: ${c}`);const p=d.value,[b=0,m=1/0]=mt(l)?l:l<0?[l]:[0,l];if(s==null)d.domain=()=>{let g=Array.from(new Zi(p));return u&&(g=g.reverse()),(b!==0||m!==1/0)&&(g=g.slice(b,m)),g};else{const g=s==="data"?e:s==="height"?So(n,"y1","y2"):s==="width"?So(n,"x1","x2"):Ui(n,s,s==="y"?"y2":s==="x"?"x2":void 0),x=S1(h===!0?"max":h,g);d.domain=()=>{let _=Dn(Ar(p),y=>x.reduceIndex(y,g),y=>p[y]);return _=cf(_,u?B1:q1),(b!==0||m!==1/0)&&(_=_.slice(b,m)),_.map(nu)}}}}function P1(e,t){for(const n in e){const r=e[n];if(r.scale===t)return r}}function F1(e,t){const n=e.original;if(n===e)return t;const r=t.value,i=t.value=[];for(let a=0;a<n.length;++a){const o=r[n[a][0]];for(const f of e[a])i[f]=o}return t}function So(e,t,n){const r=Ui(e,t),i=Ui(e,n);return ae(i,(a,o)=>Math.abs(a-r[o]),Float64Array)}function Ui(e,t,n){let r=e[t];if(!r&&n!==void 0&&(r=e[n]),r)return r.value;throw new Error(`missing channel: ${t}`)}function q1([e,t],[n,r]){return Lt(t,r)||Lt(e,n)}function B1([e,t],[n,r]){return Ks(t,r)||Lt(e,n)}let Oi=0;function W1(){const e=Oi;return Oi=0,e}function tn(e){console.warn(e),++Oi}const hu=Math.PI,Ie=2*hu,fi=.618;function Y1({projection:e,inset:t=0,insetTop:n=t,insetRight:r=t,insetBottom:i=t,insetLeft:a=t}={},o){if(e==null)return;if(typeof e.stream=="function")return e;let f,c,s="frame";if(gn(e)){let v;if({type:e,domain:c,inset:v,insetTop:n=v!==void 0?v:n,insetRight:r=v!==void 0?v:r,insetBottom:i=v!==void 0?v:i,insetLeft:a=v!==void 0?v:a,clip:s=s,...f}=e,e==null)return}typeof e!="function"&&({type:e}=bu(e));const{width:u,height:h,marginLeft:l,marginRight:d,marginTop:p,marginBottom:b}=o,m=u-l-d-a-r,g=h-p-b-n-i;if(e=e==null?void 0:e({width:m,height:g,clip:s,...f}),e==null)return;s=H1(s,l,p,u-d,h-b);let x=l+a,_=p+n,y;if(c!=null){const[[v,M],[S,L]]=ea(e).bounds(c),D=Math.min(m/(S-v),g/(L-M));D>0?(x-=(D*(v+S)-m)/2,_-=(D*(M+L)-g)/2,y=_i({point(F,J){this.stream.point(F*D+x,J*D+_)}})):tn("Warning: the projection could not be fit to the specified domain; using the default scale.")}return y??(y=x===0&&_===0?pu():_i({point(v,M){this.stream.point(v+x,M+_)}})),{stream:v=>e.stream(y.stream(s(v)))}}function bu(e){switch(`${e}`.toLowerCase()){case"albers-usa":return ge(Nd,.7463,.4673);case"albers":return $n(kf,.7463,.4673);case"azimuthal-equal-area":return ge(Ed,4,4);case"azimuthal-equidistant":return ge(Dd,Ie,Ie);case"conic-conformal":return $n(kd,Ie,Ie);case"conic-equal-area":return $n(Hn,6.1702,2.9781);case"conic-equidistant":return $n(Ud,7.312,3.6282);case"equal-earth":return ge(Pd,5.4133,2.6347);case"equirectangular":return ge(Rd,Ie,hu);case"gnomonic":return ge(Fd,3.4641,3.4641);case"identity":return{type:pu};case"reflect-y":return{type:z1};case"mercator":return ge(Hl,Ie,Ie);case"orthographic":return ge(qd,2,2);case"stereographic":return ge(Bd,2,2);case"transverse-mercator":return ge(Wd,Ie,Ie);default:throw new Error(`unknown projection type: ${e}`)}}function H1(e,t,n,r,i){if(e===!1||e==null||typeof e=="number")return a=>a;switch(e===!0&&(e="frame"),`${e}`.toLowerCase()){case"frame":return Yl(t,n,r,i);default:throw new Error(`unknown projection clip type: ${e}`)}}function ge(e,t,n){return{type:({width:r,height:i,rotate:a,precision:o=.15,clip:f})=>{var s,u,h;const c=e();return o!=null&&((s=c.precision)==null||s.call(c,o)),a!=null&&((u=c.rotate)==null||u.call(c,a)),typeof f=="number"&&((h=c.clipAngle)==null||h.call(c,f)),c.scale(Math.min(r/t,i/n)),c.translate([r/2,i/2]),c},aspectRatio:n/t}}function $n(e,t,n){const{type:r,aspectRatio:i}=ge(e,t,n);return{type:a=>{const{parallels:o,domain:f,width:c,height:s}=a,u=r(a);return o!=null&&(u.parallels(o),f===void 0&&u.fitSize([c,s],{type:"Sphere"})),u},aspectRatio:i}}const pu=Rt({stream:e=>e}),z1=Rt(_i({point(e,t){this.stream.point(e,-t)}}));function ci(e,t,n,r,i){const a=n[e]&&n[e].scale==="x",o=n[t]&&n[t].scale==="y";if(a&&o)j1(e,t,r,i.projection);else{if(a)throw new Error(`projection requires paired x and y channels; ${e} is missing ${t}`);if(o)throw new Error(`projection requires paired x and y channels; ${t} is missing ${e}`)}}function j1(e,t,n,r){const i=n[e],a=n[t],o=i.length,f=n[e]=new Float64Array(o).fill(NaN),c=n[t]=new Float64Array(o).fill(NaN);let s;const u=r.stream({point(h,l){f[s]=h,c[s]=l}});for(s=0;s<o;++s)u.point(i[s],a[s])}function V1(e,t){if(typeof(e==null?void 0:e.stream)=="function")return fi;if(gn(e)&&(e=e.type),e==null)return Z1(t)?fi:void 0;if(typeof e!="function"){const{aspectRatio:n}=bu(e);if(n)return n}return fi}function Z1(e){for(const t of e)if(t.channels.geometry)return!0;return!1}function ma(e={},t){const{document:n=typeof window<"u"?window.document:void 0}=e;return{document:n,projection:Y1(e,t)}}function oe(e,{document:t}){return Tt(Sl(e).call(t.documentElement))}const Co=new Map([["accent",fh],["category10",oh],["dark2",ch],["paired",sh],["pastel1",uh],["pastel2",lh],["set1",dh],["set2",hh],["set3",bh],["tableau10",ph],["brbg",Ue(yc,_c)],["prgn",Ue(wc,xc)],["piyg",Ue(vc,Mc)],["puor",Ue(Tc,$c)],["rdbu",Ue(Di,Zn)],["rdgy",Ue(Sc,Cc)],["rdylbu",Ue(Li,Gn)],["rdylgn",Ue(Ac,Nc)],["spectral",Ue(Ec,Dc)],["burd",Ao(Di,Zn)],["buylrd",Ao(Li,Gn)],["blues",Q(ns,rs)],["greens",Q(is,as)],["greys",Q(os,fs)],["oranges",Q(ds,hs)],["purples",Q(cs,ss)],["reds",Q(us,ls)],["turbo",Oe(ws)],["viridis",Oe(xs)],["magma",Oe(vs)],["inferno",Oe(Ms)],["plasma",Oe(Ts)],["cividis",Oe(bs)],["cubehelix",Oe(ps)],["warm",Oe(ms)],["cool",Oe(gs)],["bugn",Q(Lc,kc)],["bupu",Q(Rc,Ic)],["gnbu",Q(Uc,Oc)],["orrd",Q(Pc,Fc)],["pubu",Q(Wc,Yc)],["pubugn",Q(qc,Bc)],["purd",Q(Hc,zc)],["rdpu",Q(jc,Vc)],["ylgn",Q(Qc,Kc)],["ylgnbu",Q(Zc,Gc)],["ylorbr",Q(Xc,Jc)],["ylorrd",Q(es,ts)],["rainbow",No(ys)],["sinebow",No(_s)]]);function Q(e,t){return({length:n})=>n===1?[e[3][1]]:n===2?[e[3][1],e[3][2]]:(n=Math.max(3,Math.floor(n)),n>9?xe(t,n):e[n])}function Ue(e,t){return({length:n})=>n===2?[e[3][0],e[3][2]]:(n=Math.max(3,Math.floor(n)),n>11?xe(t,n):e[n])}function Ao(e,t){return({length:n})=>n===2?[e[3][2],e[3][0]]:(n=Math.max(3,Math.floor(n)),n>11?xe(r=>t(1-r),n):e[n].slice().reverse())}function Oe(e){return({length:t})=>xe(e,Math.max(2,Math.floor(t)))}function No(e){return({length:t})=>xe(e,Math.floor(t)+1).slice(0,-1)}function mu(e){const t=`${e}`.toLowerCase();if(!Co.has(t))throw new Error(`unknown ordinal scheme: ${t}`);return Co.get(t)}function Ir(e,t){const n=mu(e),r=typeof n=="function"?n({length:t}):n;return r.length!==t?r.slice(0,t):r}function G1(e,t="greys"){const n=new Set,[r,i]=Ir(t,2);for(const a of e)if(a!=null)if(a===!0)n.add(i);else if(a===!1)n.add(r);else return;return[...n]}const Eo=new Map([["brbg",_c],["prgn",xc],["piyg",Mc],["puor",$c],["rdbu",Zn],["rdgy",Cc],["rdylbu",Gn],["rdylgn",Nc],["spectral",Dc],["burd",e=>Zn(1-e)],["buylrd",e=>Gn(1-e)],["blues",rs],["greens",as],["greys",fs],["purples",ss],["reds",ls],["oranges",hs],["turbo",ws],["viridis",xs],["magma",vs],["inferno",Ms],["plasma",Ts],["cividis",bs],["cubehelix",ps],["warm",ms],["cool",gs],["bugn",kc],["bupu",Ic],["gnbu",Oc],["orrd",Fc],["pubugn",Bc],["pubu",Yc],["purd",zc],["rdpu",Vc],["ylgnbu",Gc],["ylgn",Kc],["ylorbr",Jc],["ylorrd",ts],["rainbow",ys],["sinebow",_s]]);function ga(e){const t=`${e}`.toLowerCase();if(!Eo.has(t))throw new Error(`unknown quantitative scheme: ${t}`);return Eo.get(t)}const Q1=new Set(["brbg","prgn","piyg","puor","rdbu","rdgy","rdylbu","rdylgn","spectral","burd","buylrd"]);function Do(e){return e!=null&&Q1.has(`${e}`.toLowerCase())}const gu=e=>t=>e(1-t),si=[0,1],Lo=new Map([["number",bn],["rgb",zi],["hsl",dd],["hcl",pd],["lab",hd]]);function yu(e){const t=`${e}`.toLowerCase();if(!Lo.has(t))throw new Error(`unknown interpolator: ${t}`);return Lo.get(t)}function _n(e,t,n,{type:r,nice:i,clamp:a,zero:o,domain:f=wu(e,n),unknown:c,round:s,scheme:u,interval:h,range:l=Y.get(e)===Dr?f2(n,f):Y.get(e)===Lr?c2(n,f):Y.get(e)===kr?si:void 0,interpolate:d=Y.get(e)===De?u==null&&l!==void 0?zi:ga(u!==void 0?u:r==="cyclical"?"rainbow":"turbo"):s?ef:bn,reverse:p}){if(h=yn(h,r),(r==="cyclical"||r==="sequential")&&(r="linear"),p=!!p,typeof d!="function"&&(d=yu(d)),d.length===1?(p&&(d=gu(d),p=!1),l===void 0&&(l=Float64Array.from(f,(b,m)=>m/(f.length-1)),l.length===2&&(l=si)),t.interpolate((l===si?Rt:_a)(d))):t.interpolate(d),o){const[b,m]=Nt(f);(b>0||m<0)&&(f=Ri(f),ln(f)!==Math.sign(b)?f[f.length-1]=0:f[0]=0)}return p&&(f=Pn(f)),t.domain(f).unknown(c),i&&(t.nice(K1(i,r)),f=t.domain()),l!==void 0&&t.range(l),a&&t.clamp(a),{type:r,domain:f,range:l,scale:t,interpolate:d,interval:h}}function K1(e,t){return e===!0?void 0:typeof e=="number"?e:s1(e,t)}function X1(e,t,n){return _n(e,tf(),t,n)}function J1(e,t,n){return _u(e,t,{...n,exponent:.5})}function _u(e,t,{exponent:n=1,...r}){return _n(e,Qf().exponent(n),t,{...r,type:"pow"})}function e2(e,t,{base:n=10,domain:r=s2(t),...i}){return _n(e,jf().base(n),t,{...i,domain:r})}function t2(e,t,{constant:n=1,...r}){return _n(e,Zf().constant(n),t,r)}function n2(e,t,{range:n,quantiles:r=n===void 0?5:(n=[...n]).length,n:i=r,scheme:a="rdylbu",domain:o=u2(t),unknown:f,interpolate:c,reverse:s}){return n===void 0&&(n=c!==void 0?xe(c,i):Y.get(e)===De?Ir(a,i):void 0),o.length>0&&(o=Kf(o,n===void 0?{length:i}:n).quantiles()),ya(e,t,{domain:o,range:n,reverse:s,unknown:f})}function r2(e,t,{range:n,n:r=n===void 0?5:(n=[...n]).length,scheme:i="rdylbu",domain:a=wu(e,t),unknown:o,interpolate:f,reverse:c}){const[s,u]=Nt(a);let h;return n===void 0?(h=yi(s,u,r),h[0]<=s&&h.splice(0,1),h[h.length-1]>=u&&h.pop(),r=h.length+1,n=f!==void 0?xe(f,r):Y.get(e)===De?Ir(i,r):void 0):(h=xe(bn(s,u),r+1).slice(1,-1),s instanceof Date&&(h=h.map(l=>new Date(l)))),ln(Ee(a))<0&&h.reverse(),ya(e,t,{domain:h,range:n,reverse:c,unknown:o})}function ya(e,t,{domain:n=[0],unknown:r,scheme:i="rdylbu",interpolate:a,range:o=a!==void 0?xe(a,n.length+1):Y.get(e)===De?Ir(i,n.length+1):void 0,reverse:f}){n=Ee(n);const c=ln(n);if(!isNaN(c)&&!i2(n,c))throw new Error(`the ${e} scale has a non-monotonic domain`);return f&&(o=Pn(o)),{type:"threshold",scale:Xf(c<0?Pn(n):n,o===void 0?[]:o).unknown(r),domain:n,range:o}}function i2(e,t){for(let n=1,r=e.length,i=e[0];n<r;++n){const a=dr(i,i=e[n]);if(a!==0&&a!==t)return!1}return!0}function a2(){return{type:"identity",scale:Yf()}}function hn(e,t=Js){return e.length?[nn(e,({value:n})=>n===void 0?n:nn(n,t)),He(e,({value:n})=>n===void 0?n:He(n,t))]:[0,1]}function wu(e,t){const n=Y.get(e);return(n===Dr||n===kr||n===Lr?o2:hn)(t)}function o2(e){return[0,e.length?He(e,({value:t})=>t===void 0?t:He(t,Js)):1]}function f2(e,t){const n=e.find(({radius:o})=>o!==void 0);if(n!==void 0)return[0,n.radius];const r=On(e,.5,({value:o})=>o===void 0?NaN:On(o,.25,ua)),i=t.map(o=>3*Math.sqrt(o/r)),a=30/He(i);return a<1?i.map(o=>o*a):i}function c2(e,t){const n=wi(e,({value:a})=>a===void 0?NaN:wi(a,Math.abs)),r=t.map(a=>12*a/n),i=60/He(r);return i<1?r.map(a=>a*i):r}function s2(e){for(const{value:t}of e)if(t!==void 0)for(let n of t){if(n>0)return hn(e,ua);if(n<0)return hn(e,eu)}return[1,10]}function u2(e){const t=[];for(const{value:n}of e)if(n!==void 0)for(const r of n)t.push(r);return t}function _a(e){return(t,n)=>r=>e(t+r*(n-t))}function Ur(e,t,n,r,{type:i,nice:a,clamp:o,domain:f=hn(r),unknown:c,pivot:s=0,scheme:u,range:h,symmetric:l=!0,interpolate:d=Y.get(e)===De?u==null&&h!==void 0?zi:ga(u!==void 0?u:"rdbu"):bn,reverse:p}){s=+s;let[b,m]=f;if(dr(b,m)<0&&([b,m]=[m,b],p=!p),b=Math.min(b,s),m=Math.max(m,s),typeof d!="function"&&(d=yu(d)),h!==void 0&&(d=d.length===1?_a(d)(...h):Ji(d,h)),p&&(d=gu(d)),l){const g=n.apply(s),x=g-n.apply(b),_=n.apply(m)-g;x<_?b=n.invert(g-_):x>_&&(m=n.invert(g+x))}return t.domain([b,s,m]).unknown(c).interpolator(d),o&&t.clamp(o),a&&t.nice(a),{type:i,domain:[b,m],pivot:s,interpolate:d,scale:t}}function l2(e,t,n){return Ur(e,bc(),p2,t,n)}function d2(e,t,n){return xu(e,t,{...n,exponent:.5})}function xu(e,t,{exponent:n=1,...r}){return Ur(e,gc().exponent(n=+n),y2(n),t,{...r,type:"diverging-pow"})}function h2(e,t,{base:n=10,pivot:r=1,domain:i=hn(t,r<0?eu:ua),...a}){return Ur(e,pc().base(n=+n),m2,t,{domain:i,pivot:r,...a})}function b2(e,t,{constant:n=1,...r}){return Ur(e,mc().constant(n=+n),_2(n),t,r)}const p2={apply(e){return e},invert(e){return e}},m2={apply:Math.log,invert:Math.exp},g2={apply(e){return Math.sign(e)*Math.sqrt(Math.abs(e))},invert(e){return Math.sign(e)*(e*e)}};function y2(e){return e===.5?g2:{apply(t){return Math.sign(t)*Math.pow(Math.abs(t),e)},invert(t){return Math.sign(t)*Math.pow(Math.abs(t),1/e)}}}function _2(e){return{apply(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))},invert(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}}function vu(e,t,n,r){return _n(e,t,n,r)}function w2(e,t,n){return vu(e,ih(),t,n)}function x2(e,t,n){return vu(e,ah(),t,n)}const wn=Symbol("ordinal");function Mu(e,t,n,{type:r,interval:i,domain:a,range:o,reverse:f,hint:c}){return i=yn(i,r),a===void 0&&(a=$u(n,i,e)),(r==="categorical"||r===wn)&&(r="ordinal"),f&&(a=Pn(a)),t.domain(a),o!==void 0&&(typeof o=="function"&&(o=o(a)),t.range(o)),{type:r,domain:a,range:o,scale:t,hint:c,interval:i}}function v2(e,t,{type:n,interval:r,domain:i,range:a,scheme:o,unknown:f,...c}){r=yn(r,n),i===void 0&&(i=$u(t,r,e));let s;if(Y.get(e)===Rr)s=$2(t),a=a===void 0?S2(s):ae(a,pa);else if(Y.get(e)===De&&(a===void 0&&(n==="ordinal"||n===wn)&&(a=G1(i,o),a!==void 0&&(o=void 0)),o===void 0&&a===void 0&&(o=n==="ordinal"?"turbo":"tableau10"),o!==void 0))if(a!==void 0){const u=ga(o),h=a[0],l=a[1]-a[0];a=({length:d})=>xe(p=>u(h+l*p),d)}else a=mu(o);if(f===jl)throw new Error(`implicit unknown on ${e} scale is not supported`);return Mu(e,af().unknown(f),t,{...c,type:n,domain:i,range:a,hint:s})}function M2(e,t,{align:n=.5,padding:r=.5,...i}){return Tu(Yd().align(n).padding(r),t,i,e)}function T2(e,t,{align:n=.5,padding:r=.1,paddingInner:i=r,paddingOuter:a=e==="fx"||e==="fy"?0:r,...o}){return Tu(mr().align(n).paddingInner(i).paddingOuter(a),t,o,e)}function Tu(e,t,n,r){let{round:i}=n;return i!==void 0&&e.round(i=!!i),e=Mu(r,e,t,n),e.round=i,e}function $u(e,t,n){const r=new Zi;for(const{value:i,domain:a}of e){if(a!==void 0)return a();if(i!==void 0)for(const o of i)r.add(o)}if(t!==void 0){const[i,a]=Nt(r).map(t.floor,t);return t.range(i,t.offset(a))}if(r.size>1e4&&Y.get(n)===Te)throw new Error(`implicit ordinal domain of ${n} scale has more than 10,000 values`);return cf(r,Lt)}function ko(e,t){let n;for(const{hint:r}of e){const i=r==null?void 0:r[t];if(i!==void 0){if(n===void 0)n=i;else if(n!==i)return}}return n}function $2(e){return{fill:ko(e,"fill"),stroke:ko(e,"stroke")}}function S2(e){return ue(e.fill)?Ah:Ch}function Pi(e,{label:t,inset:n=0,insetTop:r=n,insetRight:i=n,insetBottom:a=n,insetLeft:o=n,round:f,nice:c,clamp:s,zero:u,align:h,padding:l,projection:d,facet:{label:p=t}={},...b}={}){const m={};for(const[g,x]of e){const _=b[g],y=E2(g,x,{round:Y.get(g)===Te?f:void 0,nice:c,clamp:s,zero:u,align:h,padding:l,projection:d,..._});if(y){let{label:v=g==="fx"||g==="fy"?p:t,percent:M,transform:S,inset:L,insetTop:D=L!==void 0?L:g==="y"?r:0,insetRight:F=L!==void 0?L:g==="x"?i:0,insetBottom:J=L!==void 0?L:g==="y"?a:0,insetLeft:P=L!==void 0?L:g==="x"?o:0}=_||{};if(S==null)S=void 0;else if(typeof S!="function")throw new Error("invalid scale transform; not a function");y.percent=!!M,y.label=v===void 0?A2(x,y):v,y.transform=S,g==="x"||g==="fx"?(y.insetLeft=+P,y.insetRight=+F):(g==="y"||g==="fy")&&(y.insetTop=+D,y.insetBottom=+J),m[g]=y}}return m}function Ro(e){return Object.fromEntries(Object.entries(e).filter(([,{scale:t}])=>t).map(([t,{scale:n,type:r,interval:i,label:a}])=>(n.type=r,i!=null&&(n.interval=i),a!=null&&(n.label=a),[t,n])))}function C2(e,t){const{x:n,y:r,fx:i,fy:a}=e,o=i||a?wa(t):t;i&&Io(i,o),a&&Uo(a,o);const f=i||a?Su(e,t):t;n&&Io(n,f),r&&Uo(r,f)}function A2(e=[],t){let n;for(const{label:r}of e)if(r!==void 0){if(n===void 0)n=r;else if(n!==r)return}if(n!==void 0&&!(Nu(t)&&/^(date|time|year)$/i.test(n)))return!gt(t)&&t.percent&&(n=`${n} (%)`),{inferred:!0,toString:()=>n}}function wa(e){const{marginTop:t,marginRight:n,marginBottom:r,marginLeft:i,width:a,height:o,facet:{marginTop:f,marginRight:c,marginBottom:s,marginLeft:u}}=e;return{marginTop:Math.max(t,f),marginRight:Math.max(n,c),marginBottom:Math.max(r,s),marginLeft:Math.max(i,u),width:a,height:o}}function Su({fx:e,fy:t},n){const{marginTop:r,marginRight:i,marginBottom:a,marginLeft:o,width:f,height:c}=wa(n);return{marginTop:r,marginRight:i,marginBottom:a,marginLeft:o,width:e?e.scale.bandwidth()+o+i:f,height:t?t.scale.bandwidth()+r+a:c}}function Io(e,t){if(e.range===void 0){const{insetLeft:n,insetRight:r}=e,{width:i,marginLeft:a=0,marginRight:o=0}=t,f=a+n,c=i-o-r;e.range=[f,Math.max(f,c)],gt(e)||(e.range=Au(e)),e.scale.range(e.range)}Cu(e)}function Uo(e,t){if(e.range===void 0){const{insetTop:n,insetBottom:r}=e,{height:i,marginTop:a=0,marginBottom:o=0}=t,f=a+n,c=i-o-r;e.range=[Math.max(f,c),f],gt(e)?e.range.reverse():e.range=Au(e),e.scale.range(e.range)}Cu(e)}function Cu(e){e.round===void 0&&L2(e)&&N2(e)<=30&&e.scale.round(!0)}function N2({scale:e}){const t=e.domain().length,[n,r]=e.range(),i=e.paddingInner?e.paddingInner():1,a=e.paddingOuter?e.paddingOuter():e.padding(),o=t-i,f=Math.abs(r-n)/Math.max(1,o+a*2);return(f-Math.floor(f))*o}function Au(e){const t=e.scale.domain().length+Eu(e);if(!(t>2))return e.range;const[n,r]=e.range;return Array.from({length:t},(i,a)=>n+a/(t-1)*(r-n))}function E2(e,t=[],n={}){const r=D2(e,t,n);if(n.type===void 0&&n.domain===void 0&&n.range===void 0&&n.interval==null&&e!=="fx"&&e!=="fy"&&gt({type:r})){const i=t.map(({value:a})=>a).filter(a=>a!==void 0);i.some(je)?tn(`Warning: some data associated with the ${e} scale are dates. Dates are typically associated with a "utc" or "time" scale rather than a "${wt(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can specify the interval of the ${e} scale (e.g., d3.utcDay), or you can suppress this warning by setting the type of the ${e} scale to "${wt(r)}".`):i.some(d1)?tn(`Warning: some data associated with the ${e} scale are strings that appear to be dates (e.g., YYYY-MM-DD). If these strings represent dates, you should parse them to Date objects. Dates are typically associated with a "utc" or "time" scale rather than a "${wt(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can suppress this warning by setting the type of the ${e} scale to "${wt(r)}".`):i.some(h1)&&tn(`Warning: some data associated with the ${e} scale are strings that appear to be numbers. If these strings represent numbers, you should parse or coerce them to numbers. Numbers are typically associated with a "linear" scale rather than a "${wt(r)}" scale. If you want to treat this data as ordinal, you can specify the interval of the ${e} scale (e.g., 1 for integers), or you can suppress this warning by setting the type of the ${e} scale to "${wt(r)}".`)}switch(n.type=r,r){case"diverging":case"diverging-sqrt":case"diverging-pow":case"diverging-log":case"diverging-symlog":case"cyclical":case"sequential":case"linear":case"sqrt":case"threshold":case"quantile":case"pow":case"log":case"symlog":n=Sn(t,n,Mt);break;case"identity":switch(Y.get(e)){case Te:n=Sn(t,n,Mt);break;case Rr:n=Sn(t,n,k2);break}break;case"utc":case"time":n=Sn(t,n,o1);break}switch(r){case"diverging":return l2(e,t,n);case"diverging-sqrt":return d2(e,t,n);case"diverging-pow":return xu(e,t,n);case"diverging-log":return h2(e,t,n);case"diverging-symlog":return b2(e,t,n);case"categorical":case"ordinal":case wn:return v2(e,t,n);case"cyclical":case"sequential":case"linear":return X1(e,t,n);case"sqrt":return J1(e,t,n);case"threshold":return ya(e,t,n);case"quantile":return n2(e,t,n);case"quantize":return r2(e,t,n);case"pow":return _u(e,t,n);case"log":return e2(e,t,n);case"symlog":return t2(e,t,n);case"utc":return x2(e,t,n);case"time":return w2(e,t,n);case"point":return M2(e,t,n);case"band":return T2(e,t,n);case"identity":return Y.get(e)===Te?a2():{type:"identity"};case void 0:return;default:throw new Error(`unknown scale type: ${r}`)}}function wt(e){return typeof e=="symbol"?e.description:e}const Oo={toString:()=>"projection"};function D2(e,t,{type:n,domain:r,range:i,scheme:a,pivot:o,projection:f}){if(e==="fx"||e==="fy")return"band";(e==="x"||e==="y")&&f!=null&&(n=Oo);for(const{type:u}of t)if(u!==void 0){if(n===void 0)n=u;else if(n!==u)throw new Error(`scale incompatible with channel: ${n} !== ${u}`)}if(n===Oo)return;if(n!==void 0)return n;if(r===void 0&&!t.some(({value:u})=>u!==void 0))return;const c=Y.get(e);if(c===Dr)return"sqrt";if(c===kr||c===Lr)return"linear";if(c===Rr)return"ordinal";if((r||i||[]).length>2)return ui(c);if(r!==void 0)return xo(r)?ui(c):je(r)?"utc":c===De&&(o!=null||Do(a))?"diverging":"linear";const s=t.map(({value:u})=>u).filter(u=>u!==void 0);return s.some(xo)?ui(c):s.some(je)?"utc":c===De&&(o!=null||Do(a))?"diverging":"linear"}function ui(e){switch(e){case Te:return"point";case De:return wn;default:return"ordinal"}}function Nu({type:e}){return e==="time"||e==="utc"}function gt({type:e}){return e==="ordinal"||e==="point"||e==="band"||e===wn}function Eu({type:e}){return e==="threshold"}function L2({type:e}){return e==="point"||e==="band"}function nr(e){if(e===void 0)return!0;const t=e.domain(),n=e(t[0]);for(let r=1,i=t.length;r<i;++r)if(e(t[r])-n)return!1;return!0}function Sn(e,{domain:t,...n},r){for(const i of e)i.value!==void 0&&(i.value=r(i.value));return{domain:t===void 0?t:r(t),...n}}function k2(e){return ae(e,pa)}function R2(e){return t=>{if(!Y.has(t=`${t}`))throw new Error(`unknown scale: ${t}`);return t in e?I2(e[t]):void 0}}function I2({scale:e,type:t,domain:n,range:r,interpolate:i,interval:a,transform:o,percent:f,pivot:c}){if(t==="identity")return{type:"identity",apply:u=>u,invert:u=>u};const s=e.unknown?e.unknown():void 0;return{type:t,domain:Ri(n),...r!==void 0&&{range:Ri(r)},...o!==void 0&&{transform:o},...f&&{percent:f},...s!==void 0&&{unknown:s},...a!==void 0&&{interval:a},...i!==void 0&&{interpolate:i},...e.clamp&&{clamp:e.clamp()},...c!==void 0&&{pivot:c,symmetric:!1},...e.base&&{base:e.base()},...e.exponent&&{exponent:e.exponent()},...e.constant&&{constant:e.constant()},...e.align&&{align:e.align(),round:e.round()},...e.padding&&(e.paddingInner?{paddingInner:e.paddingInner(),paddingOuter:e.paddingOuter()}:{padding:e.padding()}),...e.bandwidth&&{bandwidth:e.bandwidth(),step:e.step()},apply:u=>e(u),...e.invert&&{invert:u=>e.invert(u)}}}function U2(e){let t,n;return(...r)=>(((n==null?void 0:n.length)!==r.length||n.some((i,a)=>i!==r[a]))&&(n=r,t=e(...r)),t)}const O2=U2(e=>new Intl.NumberFormat(e));function P2(e="en-US"){const t=O2(e);return n=>n!=null&&!isNaN(n)?t.format(n):void 0}function Du(e){return jh(e,"Invalid Date")}function F2(e="en-US"){const t=P2(e);return n=>(n instanceof Date?Du:typeof n=="number"?t:we)(n)}const xa=F2(),le=typeof window<"u"&&window.devicePixelRatio>1?0:.5;let q2=0;function Po(){return`plot-clip-${++q2}`}function B2(e,{title:t,href:n,ariaLabel:r,ariaDescription:i,ariaHidden:a,target:o,fill:f,fillOpacity:c,stroke:s,strokeWidth:u,strokeOpacity:h,strokeLinejoin:l,strokeLinecap:d,strokeMiterlimit:p,strokeDasharray:b,strokeDashoffset:m,opacity:g,mixBlendMode:x,paintOrder:_,pointerEvents:y,shapeRendering:v},{ariaLabel:M,fill:S="currentColor",fillOpacity:L,stroke:D="none",strokeOpacity:F,strokeWidth:J,strokeLinecap:P,strokeLinejoin:C,strokeMiterlimit:T,paintOrder:A}){S===null&&(f=null,c=null),D===null&&(s=null,h=null),ue(S)?!ue(D)&&!ue(f)&&(D="none"):ue(D)&&!ue(s)&&(S="none");const[N,R]=tr(f,S),[j,H]=pe(c,L),[W,ee]=tr(s,D),[yt,Pr]=pe(h,F),[Fr,qr]=pe(g);un(ee)||(u===void 0&&(u=J),d===void 0&&(d=P),l===void 0&&(l=C),p===void 0&&!m1(l)&&(p=T),!un(R)&&_===void 0&&(_=A));const[Br,Wr]=pe(u);return S!==null&&(e.fill=se(R,"currentColor"),e.fillOpacity=zt(H,1)),D!==null&&(e.stroke=se(ee,"none"),e.strokeWidth=zt(Wr,1),e.strokeOpacity=zt(Pr,1),e.strokeLinejoin=se(l,"miter"),e.strokeLinecap=se(d,"butt"),e.strokeMiterlimit=zt(p,4),e.strokeDasharray=se(b,"none"),e.strokeDashoffset=se(m,"0")),e.target=we(o),e.ariaLabel=we(M),e.ariaDescription=we(i),e.ariaHidden=we(a),e.opacity=zt(qr,1),e.mixBlendMode=se(x,"normal"),e.paintOrder=se(_,"normal"),e.pointerEvents=se(y,"auto"),e.shapeRendering=se(v,"auto"),{title:{value:t,optional:!0},href:{value:n,optional:!0},ariaLabel:{value:r,optional:!0},fill:{value:N,scale:"auto",optional:!0},fillOpacity:{value:j,scale:"auto",optional:!0},stroke:{value:W,scale:"auto",optional:!0},strokeOpacity:{value:yt,scale:"auto",optional:!0},strokeWidth:{value:Br,optional:!0},opacity:{value:Fr,scale:"auto",optional:!0}}}function W2(e,t){t&&e.filter(n=>Xs(t[n])).append("title").call(Y2,t)}function Y2(e,t){t&&e.text(n=>xa(t[n]))}function xn(e,{target:t},{ariaLabel:n,title:r,fill:i,fillOpacity:a,stroke:o,strokeOpacity:f,strokeWidth:c,opacity:s,href:u}){n&&U(e,"aria-label",h=>n[h]),i&&U(e,"fill",h=>i[h]),a&&U(e,"fill-opacity",h=>a[h]),o&&U(e,"stroke",h=>o[h]),f&&U(e,"stroke-opacity",h=>f[h]),c&&U(e,"stroke-width",h=>c[h]),s&&U(e,"opacity",h=>s[h]),u&&j2(e,h=>u[h],t),W2(e,r)}function H2(e){return e===!0?e="frame":e===!1&&(e=null),ru(e,"clip",["frame","sphere"])}function z2(e,t,n,r){let i;switch(t.clip){case"frame":{const{width:a,height:o,marginLeft:f,marginRight:c,marginTop:s,marginBottom:u}=n,h=Po();i=`url(#${h})`,e=oe("svg:g",r).call(l=>l.append("svg:clipPath").attr("id",h).append("rect").attr("x",f).attr("y",s).attr("width",a-c-f).attr("height",o-s-u)).each(function(){this.appendChild(e.node()),e.node=()=>this});break}case"sphere":{const{projection:a}=r;if(!a)throw new Error('the "sphere" clip option requires a projection');const o=Po();i=`url(#${o})`,e.append("clipPath").attr("id",o).append("path").attr("d",ea(a)({type:"Sphere"}));break}}U(e,"aria-label",t.ariaLabel),U(e,"aria-description",t.ariaDescription),U(e,"aria-hidden",t.ariaHidden),U(e,"clip-path",i)}function It(e,t,n,r){z2(e,t,n,r),U(e,"fill",t.fill),U(e,"fill-opacity",t.fillOpacity),U(e,"stroke",t.stroke),U(e,"stroke-width",t.strokeWidth),U(e,"stroke-opacity",t.strokeOpacity),U(e,"stroke-linejoin",t.strokeLinejoin),U(e,"stroke-linecap",t.strokeLinecap),U(e,"stroke-miterlimit",t.strokeMiterlimit),U(e,"stroke-dasharray",t.strokeDasharray),U(e,"stroke-dashoffset",t.strokeDashoffset),U(e,"shape-rendering",t.shapeRendering),U(e,"paint-order",t.paintOrder),U(e,"pointer-events",t.pointerEvents)}function Ut(e,t){V2(e,"mix-blend-mode",t.mixBlendMode),U(e,"opacity",t.opacity)}function j2(e,t,n){e.each(function(r){const i=t(r);if(i!=null){const a=this.ownerDocument.createElementNS(kn.svg,"a");a.setAttribute("fill","inherit"),a.setAttributeNS(kn.xlink,"href",i),n!=null&&a.setAttribute("target",n),this.parentNode.insertBefore(a,this).appendChild(this)}})}function U(e,t,n){n!=null&&e.attr(t,n)}function V2(e,t,n){n!=null&&e.style(t,n)}function Ot(e,t,{x:n,y:r},i=le,a=le){i+=t.dx,a+=t.dy,n!=null&&n.bandwidth&&(i+=n.bandwidth()/2),r!=null&&r.bandwidth&&(a+=r.bandwidth()/2),(i||a)&&e.attr("transform",`translate(${i},${a})`)}function se(e,t){if((e=we(e))!==t)return e}function zt(e,t){if((e=te(e))!==t)return e}const Z2=/^-?([_a-z]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])([_a-z0-9-]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*$/i;function va(e){if(e===void 0)return`plot-${Math.random().toString(16).slice(2)}`;if(e=`${e}`,!Z2.test(e))throw new Error(`invalid class name: ${e}`);return e}function Ma(e,t){if(typeof t=="string")e.property("style",t);else if(t!=null)for(const n of e)Object.assign(n.style,t)}function Lu({frameAnchor:e},{width:t,height:n,marginTop:r,marginRight:i,marginBottom:a,marginLeft:o}){return[/left$/.test(e)?o:/right$/.test(e)?t-i:(o+t-i)/2,/^top/.test(e)?r:/^bottom/.test(e)?n-a:(r+n-a)/2]}function G2(e,t,n={}){let r=.5-le,i=.5+le,a=.5+le,o=.5-le;for(const{marginTop:b,marginRight:m,marginBottom:g,marginLeft:x}of t)b>r&&(r=b),m>i&&(i=m),g>a&&(a=g),x>o&&(o=x);let{margin:f,marginTop:c=f!==void 0?f:r,marginRight:s=f!==void 0?f:i,marginBottom:u=f!==void 0?f:a,marginLeft:h=f!==void 0?f:o}=n;c=+c,s=+s,u=+u,h=+h;let{width:l=640,height:d=Q2(e,t,n,{width:l,marginTopDefault:r,marginRightDefault:i,marginBottomDefault:a,marginLeftDefault:o})+Math.max(0,c-r+u-a)}=n;l=+l,d=+d;const p={width:l,height:d,marginTop:c,marginRight:s,marginBottom:u,marginLeft:h};if(e.fx||e.fy){let{margin:b,marginTop:m=b!==void 0?b:c,marginRight:g=b!==void 0?b:s,marginBottom:x=b!==void 0?b:u,marginLeft:_=b!==void 0?b:h}=n.facet??{};m=+m,g=+g,x=+x,_=+_,p.facet={marginTop:m,marginRight:g,marginBottom:x,marginLeft:_}}return p}function Q2({x:e,y:t,fy:n,fx:r},i,{projection:a,aspectRatio:o},{width:f,marginTopDefault:c,marginRightDefault:s,marginBottomDefault:u,marginLeftDefault:h}){const l=n?n.scale.domain().length:1,d=V1(a,i);if(d){const b=r?r.scale.domain().length:1,m=(1.1*l-.1)/(1.1*b-.1)*d,g=Math.max(.1,Math.min(10,m));return Math.round((f-h-s)*g+c+u)}const p=t?gt(t)?t.scale.domain().length:Math.max(7,17/l):1;if(o!=null){if(o=+o,!(isFinite(o)&&o>0))throw new Error(`invalid aspectRatio: ${o}`);const b=Fo("y",t)/(Fo("x",e)*o),m=r?r.scale.bandwidth():1,g=n?n.scale.bandwidth():1,x=m*(f-h-s)-e.insetLeft-e.insetRight;return(b*x+t.insetTop+t.insetBottom)/g+c+u}return!!(t||n)*Math.max(1,Math.min(60,p*l))*20+!!r*30+60}function Fo(e,t){if(!t)throw new Error(`aspectRatio requires ${e} scale`);const{type:n,domain:r}=t;let i;switch(n){case"linear":case"utc":case"time":i=Number;break;case"pow":{const f=t.scale.exponent();i=c=>Math.pow(c,f);break}case"log":i=Math.log;break;case"point":case"band":return r.length;default:throw new Error(`unsupported ${e} scale for aspectRatio: ${n}`)}const[a,o]=Nt(r);return Math.abs(i(o)-i(a))}function K2(e,t){const{fx:n,fy:r}=Pi(e,t),i=n==null?void 0:n.scale.domain(),a=r==null?void 0:r.scale.domain();return i&&a?Xl(i,a).map(([o,f],c)=>({x:o,y:f,i:c})):i?i.map((o,f)=>({x:o,i:f})):a?a.map((o,f)=>({y:o,i:f})):void 0}function X2({x:e,y:t}){const n=e&&new Map(e.map((i,a)=>[i,a])),r=t&&new Map(t.map((i,a)=>[i,a]));return e&&t?(i,a)=>n.get(i.x)-n.get(a.x)||r.get(i.y)-r.get(a.y):e?(i,a)=>n.get(i.x)-n.get(a.x):(i,a)=>r.get(i.y)-r.get(a.y)}function Ta(e,{fx:t,fy:n}){const r=Ar(e),i=t==null?void 0:t.value,a=n==null?void 0:n.value;return t&&n?Dn(r,o=>(o.fx=i[o[0]],o.fy=a[o[0]],o),o=>i[o],o=>a[o]):t?Dn(r,o=>(o.fx=i[o[0]],o),o=>i[o]):Dn(r,o=>(o.fy=a[o[0]],o),o=>a[o])}function J2(e,t,{marginTop:n,marginLeft:r}){return e&&t?({x:i,y:a})=>`translate(${e(i)-r},${t(a)-n})`:e?({x:i})=>`translate(${e(i)-r},0)`:({y:i})=>`translate(0,${t(i)-n})`}function eb(e){const t=[],n=new Uint32Array(Gi(e,r=>r.length));for(const r of e){let i=0;for(const a of e)r!==a&&(n.set(a,i),i+=a.length);t.push(n.slice(0,i))}return t}const tb=new Map([["top",li],["right",bi],["bottom",di],["left",hi],["top-left",Cn(li,hi)],["top-right",Cn(li,bi)],["bottom-left",Cn(di,hi)],["bottom-right",Cn(di,bi)],["top-empty",rb],["right-empty",ob],["bottom-empty",ib],["left-empty",ab],["empty",fb]]);function nb(e){if(e==null)return null;const t=tb.get(`${e}`.toLowerCase());if(t)return t;throw new Error(`invalid facet anchor: ${e}`)}function li(e,{y:t},{y:n}){return t?t.indexOf(n)===0:!0}function di(e,{y:t},{y:n}){return t?t.indexOf(n)===t.length-1:!0}function hi(e,{x:t},{x:n}){return t?t.indexOf(n)===0:!0}function bi(e,{x:t},{x:n}){return t?t.indexOf(n)===t.length-1:!0}function rb(e,{y:t},{x:n,y:r,empty:i}){var o;if(i)return!1;const a=t==null?void 0:t.indexOf(r);if(a>0){const f=t[a-1];return(o=e.find(c=>c.x===n&&c.y===f))==null?void 0:o.empty}}function ib(e,{y:t},{x:n,y:r,empty:i}){var o;if(i)return!1;const a=t==null?void 0:t.indexOf(r);if(a<(t==null?void 0:t.length)-1){const f=t[a+1];return(o=e.find(c=>c.x===n&&c.y===f))==null?void 0:o.empty}}function ab(e,{x:t},{x:n,y:r,empty:i}){var o;if(i)return!1;const a=t==null?void 0:t.indexOf(n);if(a>0){const f=t[a-1];return(o=e.find(c=>c.x===f&&c.y===r))==null?void 0:o.empty}}function ob(e,{x:t},{x:n,y:r,empty:i}){var o;if(i)return!1;const a=t==null?void 0:t.indexOf(n);if(a<(t==null?void 0:t.length)-1){const f=t[a+1];return(o=e.find(c=>c.x===f&&c.y===r))==null?void 0:o.empty}}function fb(e,t,{empty:n}){return n}function Cn(e,t){return function(){return e.apply(null,arguments)&&t.apply(null,arguments)}}function pi(e,{channels:{fx:t,fy:n},groups:r}){return t&&n?e.map(({x:i,y:a})=>{var o;return((o=r.get(i))==null?void 0:o.get(a))??[]}):t?e.map(({x:i})=>r.get(i)??[]):e.map(({y:i})=>r.get(i)??[])}function ku(e){return gt(e)&&e.interval===void 0?void 0:"tabular-nums"}function cb(e,t){return e===void 0?je(t)?Du:we:typeof e=="function"?e:(typeof e=="string"?je(t)?xr:br:Rt)(e)}function sb(e,t){let{label:n=e.label,tickSize:r=6,width:i=240,height:a=44+r,marginTop:o=18,marginRight:f=0,marginBottom:c=16+r,marginLeft:s=0,style:u,ticks:h=(i-s-f)/64,tickFormat:l,fontVariant:d=ku(e),round:p=!0,opacity:b,className:m}=t;const g=ma(t);m=va(m),b=pe(b)[1],l===null&&(l=()=>null);const x=oe("svg",g).attr("class",m).attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("width",i).attr("height",a).attr("viewBox",`0 0 ${i} ${a}`).call(P=>P.append("style").text(`
        .${m} {
          display: block;
          background: white;
          height: auto;
          height: intrinsic;
          max-width: 100%;
          overflow: visible;
        }
        .${m} text {
          white-space: pre;
        }
      `)).call(Ma,u);let _=P=>P.selectAll(".tick line").attr("y1",o+c-a),y;const v=p?(P,C)=>P.rangeRound(C):(P,C)=>P.range(C),{type:M,domain:S,range:L,interpolate:D,scale:F,pivot:J}=e;if(D){const P=L===void 0?D:Ji(D.length===1?_a(D):D,L);y=v(F.copy(),xe(bn(s,i-f),Math.min(S.length+(J!==void 0),L===void 0?1/0:L.length)));const C=256,T=g.document.createElement("canvas");T.width=C,T.height=1;const A=T.getContext("2d");for(let N=0,R=C-1;N<C;++N)A.fillStyle=P(N/R),A.fillRect(N,0,1,1);x.append("image").attr("opacity",b).attr("x",s).attr("y",o).attr("width",i-s-f).attr("height",a-o-c).attr("preserveAspectRatio","none").attr("xlink:href",T.toDataURL())}else if(M==="threshold"){const P=S,C=l===void 0?T=>T:typeof l=="string"?br(l):l;y=v(tf().domain([-1,L.length-1]),[s,i-f]),x.append("g").attr("fill-opacity",b).selectAll().data(L).enter().append("rect").attr("x",(T,A)=>y(A-1)).attr("y",o).attr("width",(T,A)=>y(A)-y(A-1)).attr("height",a-o-c).attr("fill",T=>T),h=ae(P,(T,A)=>A),l=T=>C(P[T],T)}else y=v(mr().domain(S),[s,i-f]),x.append("g").attr("fill-opacity",b).selectAll().data(S).enter().append("rect").attr("x",y).attr("y",o).attr("width",Math.max(0,y.bandwidth()-1)).attr("height",a-o-c).attr("fill",F),_=()=>{};return x.append("g").attr("transform",`translate(0,${a-c})`).call(zl(y).ticks(Array.isArray(h)?null:h,typeof l=="string"?l:void 0).tickFormat(typeof l=="function"?l:void 0).tickSize(r).tickValues(Array.isArray(h)?h:null)).attr("font-size",null).attr("font-family",null).attr("font-variant",se(d,"normal")).call(_).call(P=>P.select(".domain").remove()),n!==void 0&&x.append("text").attr("x",s).attr("y",o-6).attr("fill","currentColor").attr("font-weight","bold").text(n),x.node()}function qo(e,t){if(t==null)return t;const n=e(t);if(!n)throw new Error(`scale not found: ${t}`);return n}function ub(e,{opacity:t,...n}={}){if(!gt(e)&&!Eu(e))throw new Error(`swatches legend requires ordinal or threshold color scale (not ${e.type})`);return Ru(e,n,(r,i)=>r.append("svg").attr("fill",i.scale).attr("fill-opacity",pe(t)[1]).append("rect").attr("width","100%").attr("height","100%"),r=>`.${r}-swatch svg {
        width: var(--swatchWidth);
        height: var(--swatchHeight);
        margin-right: 0.5em;
      }`)}function lb(e,{fill:t=(s=>(s=e.hint)==null?void 0:s.fill)()!==void 0?e.hint.fill:"none",fillOpacity:n=1,stroke:r=(u=>(u=e.hint)==null?void 0:u.stroke)()!==void 0?e.hint.stroke:ue(t)?"currentColor":"none",strokeOpacity:i=1,strokeWidth:a=1.5,r:o=4.5,...f}={},c){const[h,l]=tr(t),[d,p]=tr(r),b=qo(c,h),m=qo(c,d),g=o*o*Math.PI;return n=pe(n)[1],i=pe(i)[1],a=pe(a)[1],Ru(e,f,x=>x.append("svg").attr("viewBox","-8 -8 16 16").attr("fill",h==="color"?_=>b.scale(_):null).attr("stroke",d==="color"?_=>m.scale(_):null).append("path").attr("d",_=>{const y=In();return e.scale(_).draw(y,g),y}),x=>`.${x}-swatch > svg {
        width: var(--swatchWidth);
        height: var(--swatchHeight);
        margin-right: 0.5em;
        overflow: visible;
        fill: ${l};
        fill-opacity: ${n};
        stroke: ${p};
        stroke-width: ${a}px;
        stroke-opacity: ${i};
      }`)}function Ru(e,t={},n,r){let{columns:i,tickFormat:a,fontVariant:o=ku(e),swatchSize:f=15,swatchWidth:c=f,swatchHeight:s=f,marginLeft:u=0,className:h,style:l,width:d}=t;const p=ma(t);h=va(h),a=cb(a,e.domain);const b=oe("div",p).attr("class",h).attr("style",`
        --swatchWidth: ${+c}px;
        --swatchHeight: ${+s}px;
      `);let m;return i!=null?(m=`
      .${h}-swatch {
        display: flex;
        align-items: center;
        break-inside: avoid;
        padding-bottom: 1px;
      }
      .${h}-swatch::before {
        flex-shrink: 0;
      }
      .${h}-label {
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
      }
    `,b.style("columns",i).selectAll().data(e.domain).enter().append("div").attr("class",`${h}-swatch`).call(n,e).call(g=>g.append("div").attr("class",`${h}-label`).attr("title",a).text(a))):(m=`
      .${h} {
        display: flex;
        align-items: center;
        min-height: 33px;
        flex-wrap: wrap;
      }
      .${h}-swatch {
        display: inline-flex;
        align-items: center;
        margin-right: 1em;
      }
    `,b.selectAll().data(e.domain).enter().append("span").attr("class",`${h}-swatch`).call(n,e).append(function(){return this.ownerDocument.createTextNode(a.apply(this,arguments))})),b.call(g=>g.insert("style","*").text(`
        .${h} {
          font-family: system-ui, sans-serif;
          font-size: 10px;
          margin-bottom: 0.5em;${u===void 0?"":`
          margin-left: ${+u}px;`}${d===void 0?"":`
          width: ${d}px;`}
        }
        ${r(h)}
        ${m}
      `)).style("font-variant",se(o,"normal")).call(Ma,l).node()}const Fi=new Map([["symbol",lb],["color",Uu],["opacity",hb]]);function db(e,t,n={}){return(r,i)=>{if(!Fi.has(r))throw new Error(`unknown legend type: ${r}`);if(r in e)return Fi.get(r)(e[r],Iu(t,n[r],i),a=>e[a])}}function Iu(e,{label:t,ticks:n,tickFormat:r}={},i){return g1(i,e,{label:t,ticks:n,tickFormat:r})}function Uu(e,{legend:t=!0,...n}){if(t===!0&&(t=e.type==="ordinal"?"swatches":"ramp"),e.domain!==void 0)switch(`${t}`.toLowerCase()){case"swatches":return ub(e,n);case"ramp":return sb(e,n);default:throw new Error(`unknown legend type: ${t}`)}}function hb({type:e,interpolate:t,...n},{legend:r=!0,color:i=Ln(0,0,0),...a}){if(!t)throw new Error(`${e} opacity scales are not supported`);if(r===!0&&(r="ramp"),`${r}`.toLowerCase()!=="ramp")throw new Error(`${r} opacity legends are not supported`);return Uu({type:e,...n,interpolate:bb(i)},{legend:r,...a})}function bb(e){const{r:t,g:n,b:r}=Ln(e)||Ln(0,0,0);return i=>`rgba(${t},${n},${r},${i})`}function pb(e,t,n){const r=[];for(const[i,a]of Fi){const o=n[i];if(o!=null&&o.legend&&i in e){const f=a(e[i],Iu(t,e[i],o),c=>e[c]);f!=null&&r.push(f)}}return r}class Ze{constructor(t,n={},r={},i){const{facet:a="auto",facetAnchor:o,fx:f,fy:c,sort:s,dx:u=0,dy:h=0,margin:l=0,marginTop:d=l,marginRight:p=l,marginBottom:b=l,marginLeft:m=l,clip:g,channels:x}=r;if(this.data=t,this.sort=sn(s)?s:null,this.initializer=cu(r).initializer,this.transform=this.initializer?r.transform:M1(r).transform,a===null||a===!1?this.facet=null:(this.facet=Ve(a===!0?"include":a,"facet",["auto","include","exclude","super"]),this.fx=f,this.fy=c),this.facetAnchor=nb(o),n=vo(n),x!==void 0&&(n={...vo(x),...n}),i!==void 0&&(n={...B2(this,r,i),...n}),this.channels=Object.fromEntries(Object.entries(n).map(([_,y])=>{const{value:v}=y;return da(v)&&(y={...y,value:v.value},v.scale!==void 0&&(y.scale=v.scale)),[_,y]}).filter(([_,{value:y,optional:v}])=>{if(y!=null)return!0;if(v)return!1;throw new Error(`missing channel value: ${_}`)})),this.dx=+u,this.dy=+h,this.marginTop=+d,this.marginRight=+p,this.marginBottom=+b,this.marginLeft=+m,this.clip=H2(g),this.facet==="super"){if(f||c)throw new Error("super-faceting cannot use fx or fy");for(const _ in this.channels){const{scale:y}=n[_];if(!(y!=="x"&&y!=="y"))throw new Error("super-faceting cannot use x or y")}}}initialize(t,n){let r=Ee(this.data);t===void 0&&r!=null&&(t=[Ar(r)]);const i=t;this.transform!=null&&({facets:t,data:r}=this.transform(r,t),r=Ee(r)),t!==void 0&&(t.original=i);const a=I1(this.channels,r);return this.sort!=null&&O1(r,t,a,n,this.sort),{data:r,facets:t,channels:a}}filter(t,n,r){for(const i in n){const{filter:a=fn}=n[i];if(a!==null){const o=r[i];t=t.filter(f=>a(o[f]))}}return t}project(t,n,r){ci("x","y",t,n,r),ci("x1","y1",t,n,r),ci("x2","y2",t,n,r)}scale(t,n,r){const i=U1(t,n);return r.projection&&this.project(t,i,r),i}}function Ou(...e){return e.plot=Ze.prototype.plot,e}const Pu=Math.PI/180;function Fu({inset:e,insetLeft:t,insetRight:n,...r}={}){return[t,n]=Bu(e,t,n),{inset:e,insetLeft:t,insetRight:n,...r}}function qu({inset:e,insetTop:t,insetBottom:n,...r}={}){return[t,n]=Bu(e,t,n),{inset:e,insetTop:t,insetBottom:n,...r}}function Bu(e,t,n){return e===void 0&&t===void 0&&n===void 0?le?[1,0]:[.5,.5]:[t,n]}function Wu(e,{interval:t}){return e={...ba(e)},e.interval=ha(e.interval===void 0?t:e.interval),e}function Yu(e,t,n,r){const{[e]:i,[`${e}1`]:a,[`${e}2`]:o}=n,{value:f,interval:c}=Wu(i,n);if(f==null||c==null&&!r)return n;const s=Nr(i);if(c==null){let d;const p={transform:b=>d||(d=tt(b,f)),label:s};return{...n,[e]:void 0,[`${e}1`]:a===void 0?p:a,[`${e}2`]:o===void 0?p:o}}let u,h;function l(d){return h!==void 0&&d===u?h:h=ae(tt(u=d,f),p=>c.floor(p))}return t({...n,[e]:void 0,[`${e}1`]:a===void 0?{transform:l,label:s}:a,[`${e}2`]:o===void 0?{transform:d=>l(d).map(p=>c.offset(p)),label:s}:o})}function Hu(e,t,n){const{[e]:r}=n,{value:i,interval:a}=Wu(r,n);return i==null||a==null?n:t({...n,[e]:{label:Nr(r),transform:o=>{const f=ae(tt(o,i),s=>a.floor(s)),c=f.map(s=>a.offset(s));return f.map(je(f)?(s,u)=>s==null||isNaN(s=+s)||(u=c[u],u==null)||isNaN(u=+u)?void 0:new Date((s+u)/2):(s,u)=>s==null||(u=c[u],u==null)?NaN:(+s+ +u)/2)}}})}function mb(e={}){return Yu("x",Fu,e)}function gb(e={}){return Yu("y",qu,e)}function yb(e={}){return Hu("x",Fu,e)}function _b(e={}){return Hu("y",qu,e)}const zu={ariaLabel:"rule",fill:null,stroke:"currentColor"};class wb extends Ze{constructor(t,n={}){const{x:r,y1:i,y2:a,inset:o=0,insetTop:f=o,insetBottom:c=o}=n;super(t,{x:{value:r,scale:"x",optional:!0},y1:{value:i,scale:"y",optional:!0},y2:{value:a,scale:"y",optional:!0}},n,zu),this.insetTop=te(f),this.insetBottom=te(c)}render(t,n,r,i,a){const{x:o,y:f}=n,{x:c,y1:s,y2:u}=r,{width:h,height:l,marginTop:d,marginRight:p,marginLeft:b,marginBottom:m}=i,{insetTop:g,insetBottom:x}=this;return oe("svg:g",a).call(It,this,i).call(Ot,this,{x:c&&o},le,0).call(_=>_.selectAll().data(t).enter().append("line").call(Ut,this).attr("x1",c?y=>c[y]:(b+h-p)/2).attr("x2",c?y=>c[y]:(b+h-p)/2).attr("y1",s&&!nr(f)?y=>s[y]+g:d+g).attr("y2",u&&!nr(f)?f.bandwidth?y=>u[y]+f.bandwidth()-x:y=>u[y]-x:l-m-x).call(xn,this,r)).node()}}class xb extends Ze{constructor(t,n={}){const{x1:r,x2:i,y:a,inset:o=0,insetRight:f=o,insetLeft:c=o}=n;super(t,{y:{value:a,scale:"y",optional:!0},x1:{value:r,scale:"x",optional:!0},x2:{value:i,scale:"x",optional:!0}},n,zu),this.insetRight=te(f),this.insetLeft=te(c)}render(t,n,r,i,a){const{x:o,y:f}=n,{y:c,x1:s,x2:u}=r,{width:h,height:l,marginTop:d,marginRight:p,marginLeft:b,marginBottom:m}=i,{insetLeft:g,insetRight:x}=this;return oe("svg:g",a).call(It,this,i,a).call(Ot,this,{y:c&&f},0,le).call(_=>_.selectAll().data(t).enter().append("line").call(Ut,this).attr("x1",s&&!nr(o)?y=>s[y]+g:b+g).attr("x2",u&&!nr(o)?o.bandwidth?y=>u[y]+o.bandwidth()-x:y=>u[y]-x:h-p-x).attr("y1",c?y=>c[y]:(d+l-m)/2).attr("y2",c?y=>c[y]:(d+l-m)/2).call(xn,this,r)).node()}}function vb(e,t){let{x:n=rt,y:r,y1:i,y2:a,...o}=gb(t);return[i,a]=ju(r,i,a),new wb(e,{...o,x:n,y1:i,y2:a})}function Mb(e,t){let{y:n=rt,x:r,x1:i,x2:a,...o}=mb(t);return[i,a]=ju(r,i,a),new xb(e,{...o,y:n,x1:i,x2:a})}function ju(e,t,n){if(e===void 0){if(t===void 0){if(n!==void 0)return[0,n]}else if(n===void 0)return[0,t]}else{if(t===void 0)return n===void 0?[0,e]:[e,n];if(n===void 0)return[e,t]}return[t,n]}function Vu(e,...t){let n=t.length;for(let r=0,i=!0;r<n;++r)typeof t[r]!="function"&&(i&&(e=e.slice(),i=!1),e.splice(r,2,e[r]+t[r]+e[r+1]),t.splice(r,1),--r,--n);return r=>{let i=e[0];for(let a=0;a<n;++a)i+=t[a](r)+e[a+1];return i}}const Tb={ariaLabel:"text",strokeLinejoin:"round",strokeWidth:3,paintOrder:"stroke"},Zu="";class $a extends Ze{constructor(t,n={}){const{x:r,y:i,text:a=mt(t)&&l1(t)?rt:n1,frameAnchor:o,textAnchor:f=/right$/i.test(o)?"end":/left$/i.test(o)?"start":"middle",lineAnchor:c=/^top/i.test(o)?"top":/^bottom/i.test(o)?"bottom":"middle",lineHeight:s=1,lineWidth:u=1/0,textOverflow:h,monospace:l,fontFamily:d=l?"ui-monospace, monospace":void 0,fontSize:p,fontStyle:b,fontVariant:m,fontWeight:g,rotate:x}=n,[_,y]=pe(x,0),[v,M]=Lb(p);if(super(t,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},fontSize:{value:v,optional:!0},rotate:{value:u1(_),optional:!0},text:{value:a,filter:Xs,optional:!0}},n,Tb),this.rotate=y,this.textAnchor=se(f,"middle"),this.lineAnchor=Ve(c,"lineAnchor",["top","middle","bottom"]),this.lineHeight=+s,this.lineWidth=+u,this.textOverflow=$b(h),this.monospace=!!l,this.fontFamily=we(d),this.fontSize=M,this.fontStyle=we(b),this.fontVariant=we(m),this.fontWeight=we(g),this.frameAnchor=au(o),!(this.lineWidth>=0))throw new Error(`invalid lineWidth: ${u}`);this.splitLines=Ib(this),this.clipLine=Ub(this)}render(t,n,r,i,a){const{x:o,y:f}=n,{x:c,y:s,rotate:u,text:h,title:l,fontSize:d}=r,{rotate:p}=this,[b,m]=Lu(this,i);return oe("svg:g",a).call(It,this,i,a).call(Nb,this,h,i).call(Ot,this,{x:c&&o,y:s&&f}).call(g=>g.selectAll().data(t).enter().append("text").call(Ut,this).call(Sb,this,h,l).attr("transform",Vu`translate(${c?x=>c[x]:b},${s?x=>s[x]:m})${u?x=>` rotate(${u[x]})`:p?` rotate(${p})`:""}`).call(U,"font-size",d&&(x=>d[x])).call(xn,this,r)).node()}}function $b(e){return e==null?null:Ve(e,"textOverflow",["clip","ellipsis","clip-start","clip-end","ellipsis-start","ellipsis-middle","ellipsis-end"]).replace(/^(clip|ellipsis)$/,"$1-end")}function Sb(e,t,n,r){if(!n)return;const{lineAnchor:i,lineHeight:a,textOverflow:o,splitLines:f,clipLine:c}=t;e.each(function(s){const u=f(xa(n[s])??"").map(c),h=u.length,l=i==="top"?.71:i==="bottom"?1-h:(164-h*100)/200;if(h>1)for(let d=0;d<h;++d){if(!u[d])continue;const p=this.ownerDocument.createElementNS(kn.svg,"tspan");p.setAttribute("x",0),p.setAttribute("y",`${(l+d)*a}em`),p.textContent=u[d],this.appendChild(p)}else l&&this.setAttribute("y",`${l*a}em`),this.textContent=u[0];if(o&&!r&&u[0]!==n[s]){const d=this.ownerDocument.createElementNS(kn.svg,"title");d.textContent=n[s],this.appendChild(d)}})}function rr(e,t={}){let{x:n,y:r,...i}=t;return t.frameAnchor===void 0&&([n,r]=c1(n,r)),new $a(e,{...i,x:n,y:r})}function Cb(e,t={}){const{x:n=rt,...r}=t;return new $a(e,_b({...r,x:n}))}function Ab(e,t={}){const{y:n=rt,...r}=t;return new $a(e,yb({...r,y:n}))}function Nb(e,t,n){U(e,"text-anchor",t.textAnchor),U(e,"font-family",t.fontFamily),U(e,"font-size",t.fontSize),U(e,"font-style",t.fontStyle),U(e,"font-variant",t.fontVariant===void 0?Eb(n):t.fontVariant),U(e,"font-weight",t.fontWeight)}function Eb(e){return b1(e)||je(e)?"tabular-nums":void 0}const Db=new Set(["inherit","initial","revert","unset","xx-small","x-small","small","medium","large","x-large","xx-large","xxx-large","larger","smaller"]);function Lb(e){return e==null||typeof e=="number"?[void 0,e]:typeof e!="string"?[e,void 0]:(e=e.trim().toLowerCase(),Db.has(e)||/^[+-]?\d*\.?\d+(e[+-]?\d+)?(\w*|%)$/.test(e)?[void 0,e]:[e,void 0])}function kb(e,t,n){const r=[];let i,a=0;for(const[o,f,c]of Rb(e)){if(i===void 0&&(i=o),a>i&&n(e,i,f)>t&&(r.push(e.slice(i,a)+(e[a-1]===Zu?"-":"")),i=o),c){r.push(e.slice(i,f)),i=void 0;continue}a=f}return r}function*Rb(e){let t=0,n=0;const r=e.length;for(;n<r;){let i=1;switch(e[n]){case Zu:case"-":++n,yield[t,n,!1],t=n;break;case" ":for(yield[t,n,!1];e[++n]===" ";);t=n;break;case"\r":e[n+1]===`
`&&++i;case`
`:yield[t,n,!0],n+=i,t=n;break;default:++n;break}}yield[t,n,!0]}const Bo={a:56,b:63,c:57,d:63,e:58,f:37,g:62,h:60,i:26,j:26,k:55,l:26,m:88,n:60,o:60,p:62,q:62,r:39,s:54,t:38,u:60,v:55,w:79,x:54,y:55,z:55,A:69,B:67,C:73,D:74,E:61,F:58,G:76,H:75,I:28,J:55,K:67,L:58,M:89,N:75,O:78,P:65,Q:78,R:67,S:65,T:65,U:75,V:69,W:98,X:69,Y:67,Z:67,0:64,1:48,2:62,3:64,4:66,5:63,6:65,7:58,8:65,9:65," ":29,"!":32,'"':49,"'":31,"(":39,")":39,",":31,"-":48,".":31,"/":32,":":31,";":31,"?":52,"":31,"":31,"":47,"":47,"":82};function Gu(e,t=0,n=e.length){let r=0;for(let i=t;i<n;i=Pt(e,i))r+=Bo[e[i]]??(Xu(e,i)?120:Bo.e);return r}function Qu(e,t=0,n=e.length){let r=0;for(let i=t;i<n;i=Pt(e,i))r+=Xu(e,i)?200:100;return r}function Ib({monospace:e,lineWidth:t,textOverflow:n}){if(n!=null||t==1/0)return a=>a.split(/\r\n?|\n/g);const r=e?Qu:Gu,i=t*100;return a=>kb(a,i,r)}function Ub({monospace:e,lineWidth:t,textOverflow:n}){if(n==null||t==1/0)return a=>a;const r=e?Qu:Gu,i=t*100;switch(n){case"clip-start":return a=>Yo(a,i,r,"");case"clip-end":return a=>Wo(a,i,r,"");case"ellipsis-start":return a=>Yo(a,i,r,"");case"ellipsis-middle":return a=>Ob(a,i,r,"");case"ellipsis-end":return a=>Wo(a,i,r,"")}}function ir(e,t,n,r){const i=[];let a=0;for(let o=0,f=0,c=e.length;o<c;o=f){f=Pt(e,o);const s=n(e,o,f);if(a+s>t){for(a+=r;a>t&&o>0;)f=o,o=i.pop(),a-=n(e,o,f);return[o,t-a]}a+=s,i.push(o)}return[-1,0]}function Wo(e,t,n,r){e=e.trim();const i=n(r),[a]=ir(e,t,n,i);return a<0?e:e.slice(0,a).trimEnd()+r}function Ob(e,t,n,r){e=e.trim();const i=n(e);if(i<=t)return e;const a=n(r)/2,[o,f]=ir(e,t/2,n,a),[c]=ir(e,i-t/2-f+a,n,-a);return c<0?r:e.slice(0,o).trimEnd()+r+e.slice(Pt(e,c)).trimStart()}function Yo(e,t,n,r){e=e.trim();const i=n(e);if(i<=t)return e;const a=n(r),[o]=ir(e,i-t+a,n,-a);return o<0?r:r+e.slice(Pt(e,o)).trimStart()}const qi=/[\p{Combining_Mark}\p{Emoji_Modifier}]+/uy,Ho=/\p{Extended_Pictographic}/uy;function Pt(e,t){return t+=Pb(e,t)?2:1,qb(e,t)&&(t=qi.lastIndex),Fb(e,t)?Pt(e,t+1):t}function Ku(e,t){return e.charCodeAt(t)<128}function Pb(e,t){const n=e.charCodeAt(t);if(n>=55296&&n<56320){const r=e.charCodeAt(t+1);return r>=56320&&r<57344}return!1}function Fb(e,t){return e.charCodeAt(t)===8205}function qb(e,t){return Ku(e,t)?!1:(qi.lastIndex=t,qi.test(e))}function Xu(e,t){return Ku(e,t)?!1:(Ho.lastIndex=t,Ho.test(e))}const Bb={ariaLabel:"vector",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinejoin:"round",strokeLinecap:"round"},Ju=3.5,Wb=Ju*5,el={draw(e,t,n){const r=t*n/Wb;e.moveTo(0,0),e.lineTo(0,-t),e.moveTo(-r,r-t),e.lineTo(0,-t),e.lineTo(r,r-t)}},Yb={draw(e,t,n){e.moveTo(-n,0),e.lineTo(0,-t),e.lineTo(n,0)}},Hb=new Map([["arrow",el],["spike",Yb]]);function zb(e){return e&&typeof e.draw=="function"}function jb(e){if(zb(e))return e;const t=Hb.get(`${e}`.toLowerCase());if(t)return t;throw new Error(`invalid shape: ${e}`)}class tl extends Ze{constructor(t,n={}){const{x:r,y:i,r:a=Ju,length:o,rotate:f,shape:c=el,anchor:s="middle",frameAnchor:u}=n,[h,l]=pe(o,12),[d,p]=pe(f,0);super(t,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},length:{value:h,scale:"length",optional:!0},rotate:{value:d,optional:!0}},n,Bb),this.r=+a,this.length=l,this.rotate=p,this.shape=jb(c),this.anchor=Ve(s,"anchor",["start","middle","end"]),this.frameAnchor=au(u)}render(t,n,r,i,a){const{x:o,y:f}=n,{x:c,y:s,length:u,rotate:h}=r,{length:l,rotate:d,anchor:p,shape:b,r:m}=this,[g,x]=Lu(this,i);return oe("svg:g",a).call(It,this,i,a).call(Ot,this,{x:c&&o,y:s&&f}).call(_=>_.selectAll().data(t).enter().append("path").call(Ut,this).attr("transform",Vu`translate(${c?y=>c[y]:g},${s?y=>s[y]:x})${h?y=>` rotate(${h[y]})`:d?` rotate(${d})`:""}${p==="start"?"":p==="end"?u?y=>` translate(0,${u[y]})`:` translate(0,${l})`:u?y=>` translate(0,${u[y]/2})`:` translate(0,${l/2})`}`).attr("d",u?y=>{const v=In();return b.draw(v,u[y],m),v}:(()=>{const y=In();return b.draw(y,l,m),y})()).call(xn,this,r)).node()}}function Vb(e,t={}){const{x:n=rt,...r}=t;return new tl(e,{...r,x:n})}function Zb(e,t={}){const{y:n=rt,...r}=t;return new tl(e,{...r,y:n})}function it(e,t){return arguments.length<2&&!mt(e)&&(t=e,e=null),t===void 0&&(t={}),[e,t]}function Or({anchor:e}={},t){return e===void 0?t[0]:Ve(e,"anchor",t)}function nl(e){return Or(e,["left","right"])}function rl(e){return Or(e,["right","left"])}function il(e){return Or(e,["bottom","top"])}function al(e){return Or(e,["top","bottom"])}function ol(){const[e,t]=it(...arguments);return cl("y",nl(t),e,t)}function Gb(){const[e,t]=it(...arguments);return cl("fy",rl(t),e,t)}function fl(){const[e,t]=it(...arguments);return sl("x",il(t),e,t)}function Qb(){const[e,t]=it(...arguments);return sl("fx",al(t),e,t)}function cl(e,t,n,{color:r="currentColor",opacity:i=1,stroke:a=r,strokeOpacity:o=i,strokeWidth:f=1,fill:c=r,fillOpacity:s=i,textAnchor:u,textStroke:h,textStrokeOpacity:l,textStrokeWidth:d,tickSize:p=e==="y"?6:0,tickPadding:b,tickRotate:m,x:g,marginTop:x=20,marginRight:_=t==="right"?40:0,marginBottom:y=20,marginLeft:v=t==="left"?40:0,label:M,labelOffset:S,labelAnchor:L,...D}){return p=te(p),b=te(b),m=te(m),L!==void 0&&(L=Ve(L,"labelAnchor",["center","top","bottom"])),Ou(p&&!ue(a)?Kb(e,t,n,{stroke:a,strokeOpacity:o,strokeWidth:f,tickSize:p,tickPadding:b,tickRotate:m,x:g,...D}):null,ue(c)?null:Jb(e,t,n,{fill:c,fillOpacity:s,stroke:h,strokeOpacity:l,strokeWidth:d,textAnchor:u,tickSize:p,tickPadding:b,tickRotate:m,x:g,marginTop:x,marginRight:_,marginBottom:y,marginLeft:v,...D}),!ue(c)&&M!==null?rr([],{fill:c,fillOpacity:s,...D,lineWidth:void 0,textOverflow:void 0,facet:"super",x:null,y:null,initializer:function(F,J,P,C,T){const A=C[e],{marginTop:N,marginRight:R,marginBottom:j,marginLeft:H}=e==="y"&&T.inset||T,W=L??(A.bandwidth?"center":"top"),ee=S??(t==="right"?R:H)-3;return W==="center"?(this.textAnchor=void 0,this.lineAnchor=t==="right"?"bottom":"top",this.frameAnchor=t,this.rotate=-90):(this.textAnchor=t==="right"?"end":"start",this.lineAnchor=W,this.frameAnchor=`${W}-${t}`,this.rotate=0),this.dy=W==="top"?3-N:W==="bottom"?j-3:0,this.dx=t==="right"?ee:-ee,this.ariaLabel=`${e}-axis label`,{facets:[[0]],channels:{text:{value:[M===void 0?pl(e,A,W):M]}}}}}):null)}function sl(e,t,n,{color:r="currentColor",opacity:i=1,stroke:a=r,strokeOpacity:o=i,strokeWidth:f=1,fill:c=r,fillOpacity:s=i,textAnchor:u,textStroke:h,textStrokeOpacity:l,textStrokeWidth:d,tickSize:p=e==="x"?6:0,tickPadding:b,tickRotate:m,y:g,marginTop:x=t==="top"?30:0,marginRight:_=20,marginBottom:y=t==="bottom"?30:0,marginLeft:v=20,label:M,labelAnchor:S,labelOffset:L,...D}){return p=te(p),b=te(b),m=te(m),S!==void 0&&(S=Ve(S,"labelAnchor",["center","left","right"])),Ou(p&&!ue(a)?Xb(e,t,n,{stroke:a,strokeOpacity:o,strokeWidth:f,tickSize:p,tickPadding:b,tickRotate:m,y:g,...D}):null,ue(c)?null:ep(e,t,n,{fill:c,fillOpacity:s,stroke:h,strokeOpacity:l,strokeWidth:d,textAnchor:u,tickSize:p,tickPadding:b,tickRotate:m,y:g,marginTop:x,marginRight:_,marginBottom:y,marginLeft:v,...D}),!ue(c)&&M!==null?rr([],{fill:c,fillOpacity:s,...D,lineWidth:void 0,textOverflow:void 0,facet:"super",x:null,y:null,initializer:function(F,J,P,C,T){const A=C[e],{marginTop:N,marginRight:R,marginBottom:j,marginLeft:H}=e==="x"&&T.inset||T,W=S??(A.bandwidth?"center":"right"),ee=L??(t==="top"?N:j)-3;return W==="center"?(this.frameAnchor=t,this.textAnchor=void 0):(this.frameAnchor=`${t}-${W}`,this.textAnchor=W==="right"?"end":"start"),this.lineAnchor=t,this.dy=t==="top"?-ee:ee,this.dx=W==="right"?R-3:W==="left"?3-H:0,this.ariaLabel=`${e}-axis label`,{facets:[[0]],channels:{text:{value:[M===void 0?pl(e,A,W):M]}}}}}):null)}function Kb(e,t,n,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:a=null,facetAnchor:o=t+(e==="y"?"-empty":""),frameAnchor:f=t,tickSize:c,inset:s=0,insetLeft:u=s,insetRight:h=s,dx:l=0,y:d=e==="y"?void 0:null,...p}){return Ft(Zb,e,`${e}-axis tick`,n,{strokeWidth:r,strokeLinecap:i,strokeLinejoin:a,facetAnchor:o,frameAnchor:f,y:d,...p,dx:t==="left"?+l-le+ +u:+l+le-h,anchor:"start",length:c,shape:t==="left"?cp:sp})}function Xb(e,t,n,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:a=null,facetAnchor:o=t+(e==="x"?"-empty":""),frameAnchor:f=t,tickSize:c,inset:s=0,insetTop:u=s,insetBottom:h=s,dy:l=0,x:d=e==="x"?void 0:null,...p}){return Ft(Vb,e,`${e}-axis tick`,n,{strokeWidth:r,strokeLinejoin:a,strokeLinecap:i,facetAnchor:o,frameAnchor:f,x:d,...p,dy:t==="bottom"?+l-le-h:+l+le+ +u,anchor:"start",length:c,shape:t==="bottom"?op:fp})}function Jb(e,t,n,{facetAnchor:r=t+(e==="y"?"-empty":""),frameAnchor:i=t,tickSize:a,tickRotate:o=0,tickPadding:f=Math.max(3,9-a)+(Math.abs(o)>60?4*Math.cos(o*Pu):0),tickFormat:c,text:s=typeof c=="function"?c:void 0,textAnchor:u=Math.abs(o)>60?"middle":t==="left"?"end":"start",lineAnchor:h=o>60?"top":o<-60?"bottom":"middle",fontVariant:l,inset:d=0,insetLeft:p=d,insetRight:b=d,dx:m=0,y:g=e==="y"?void 0:null,...x}){return Ft(Ab,e,`${e}-axis tick label`,n,{facetAnchor:r,frameAnchor:i,text:s===void 0?null:s,textAnchor:u,lineAnchor:h,fontVariant:l,rotate:o,y:g,...x,dx:t==="left"?+m-a-f+ +p:+m+ +a+ +f-b},function(_,y,v){l===void 0&&(this.fontVariant=bl(_)),s===void 0&&(v.text=hl(_,y,c))})}function ep(e,t,n,{facetAnchor:r=t+(e==="x"?"-empty":""),frameAnchor:i=t,tickSize:a,tickRotate:o=0,tickPadding:f=Math.max(3,9-a)+(Math.abs(o)>=10?4*Math.cos(o*Pu):0),tickFormat:c,text:s=typeof c=="function"?c:void 0,textAnchor:u=Math.abs(o)>=10?o<0^t==="bottom"?"start":"end":"middle",lineAnchor:h=Math.abs(o)>=10?"middle":t==="bottom"?"top":"bottom",fontVariant:l,inset:d=0,insetTop:p=d,insetBottom:b=d,dy:m=0,x:g=e==="x"?void 0:null,...x}){return Ft(Cb,e,`${e}-axis tick label`,n,{facetAnchor:r,frameAnchor:i,text:s===void 0?null:s,textAnchor:u,lineAnchor:h,fontVariant:l,rotate:o,x:g,...x,dy:t==="bottom"?+m+ +a+ +f-b:+m-a-f+ +p},function(_,y,v){l===void 0&&(this.fontVariant=bl(_)),s===void 0&&(v.text=hl(_,y,c))})}function tp(){const[e,t]=it(...arguments);return ul("y",nl(t),e,t)}function np(){const[e,t]=it(...arguments);return ul("fy",rl(t),e,t)}function rp(){const[e,t]=it(...arguments);return ll("x",il(t),e,t)}function ip(){const[e,t]=it(...arguments);return ll("fx",al(t),e,t)}function ul(e,t,n,{y:r=e==="y"?void 0:null,x:i=null,x1:a=t==="left"?i:null,x2:o=t==="right"?i:null,...f}){return Ft(Mb,e,`${e}-grid`,n,{y:r,x1:a,x2:o,...dl(f)})}function ll(e,t,n,{x:r=e==="x"?void 0:null,y:i=null,y1:a=t==="top"?i:null,y2:o=t==="bottom"?i:null,...f}){return Ft(vb,e,`${e}-grid`,n,{x:r,y1:a,y2:o,...dl(f)})}function dl({color:e="currentColor",opacity:t=.1,stroke:n=e,strokeOpacity:r=t,strokeWidth:i=1,...a}){return{stroke:n,strokeOpacity:r,strokeWidth:i,...a}}function Ft(e,t,n,r,i,a){let o;const f=e(r,cu(i,function(c,s,u,h){const{[t]:l}=h;if(!l)throw new Error(`missing scale: ${t}`);let{ticks:d,tickSpacing:p,interval:b}=i;if(Nu(l)&&typeof d=="string"&&(b=d,d=void 0),c==null){if(mt(d))c=Ee(d);else if(l.ticks)if(d!==void 0)c=l.ticks(d);else if(b=yn(b===void 0?l.interval:b,l.type),b!==void 0){const[m,g]=Nt(l.domain());c=b.range(m,b.offset(b.floor(g)))}else{const[m,g]=Nt(l.range());d=(g-m)/(p===void 0?t==="x"?80:35:p),c=l.ticks(d)}else c=l.domain();t==="y"||t==="x"?s=[Ar(c)]:(o[t]={scale:t,value:rt},s=void 0)}return a==null||a.call(this,l,d,o),{data:c,facets:s,channels:Object.fromEntries(Object.entries(o).map(([m,g])=>[m,{...g,value:tt(c,g.value)}]))}}));return r==null?(o=f.channels,f.channels={}):o={},f.ariaLabel=n,f}function hl(e,t,n){return{value:ap(e,t,n)}}function ap(e,t,n){return e.tickFormat?e.tickFormat(mt(t)?null:t,n):n===void 0?xa:typeof n=="string"?(je(e.domain())?xr:br)(n):Rt(n)}const op={draw(e,t){e.moveTo(0,0),e.lineTo(0,t)}},fp={draw(e,t){e.moveTo(0,0),e.lineTo(0,-t)}},cp={draw(e,t){e.moveTo(0,0),e.lineTo(-t,0)}},sp={draw(e,t){e.moveTo(0,0),e.lineTo(t,0)}};function bl(e){return e.bandwidth&&e.interval===void 0?void 0:"tabular-nums"}function up(e){return Math.sign(ln(e.domain()))*Math.sign(ln(e.range()))}function pl(e,t,n){const r=t.label;if(t.bandwidth||!(r!=null&&r.inferred))return r;const i=up(t);return i?e==="x"||n==="center"?e==="x"==i<0?` ${r}`:`${r} `:`${i<0?" ":" "}${r}`:r}const lp={ariaLabel:"frame",fill:"none",stroke:"currentColor"},dp={ariaLabel:"frame",fill:null,stroke:"currentColor",strokeLinecap:"square"};class hp extends Ze{constructor(t={}){const{anchor:n=null,inset:r=0,insetTop:i=r,insetRight:a=r,insetBottom:o=r,insetLeft:f=r,rx:c,ry:s}=t;super(void 0,void 0,t,n==null?lp:dp),this.anchor=ru(n,"anchor",["top","right","bottom","left"]),this.insetTop=te(i),this.insetRight=te(a),this.insetBottom=te(o),this.insetLeft=te(f),this.rx=te(c),this.ry=te(s)}render(t,n,r,i,a){const{marginTop:o,marginRight:f,marginBottom:c,marginLeft:s,width:u,height:h}=i,{anchor:l,insetTop:d,insetRight:p,insetBottom:b,insetLeft:m,rx:g,ry:x}=this,_=s+m,y=u-f-p,v=o+d,M=h-c-b;return oe(l?"svg:line":"svg:rect",a).call(It,this,i,a).call(Ut,this).call(Ot,this,{}).call(l==="left"?S=>S.attr("x1",_).attr("x2",_).attr("y1",v).attr("y2",M):l==="right"?S=>S.attr("x1",y).attr("x2",y).attr("y1",v).attr("y2",M):l==="top"?S=>S.attr("x1",_).attr("x2",y).attr("y1",v).attr("y2",v):l==="bottom"?S=>S.attr("x1",_).attr("x2",y).attr("y1",M).attr("y2",M):S=>S.attr("x",_).attr("y",v).attr("width",y-_).attr("height",M-v).attr("rx",g).attr("ry",x)).node()}}function bp(e){return new hp(e)}function ml(e={}){const{facet:t,style:n,caption:r,ariaLabel:i,ariaDescription:a}=e,o=va(e.className),f=e.marks===void 0?[]:zo(e.marks),c=_p(t,e),s=new Map;for(const C of f){const T=jo(C,c,e);T&&s.set(C,T)}const u=new Map;c&&jt(u,[c]),jt(u,s);const h=zo(wp(f,u,e));for(const C of h){const T=jo(C,c,e);T&&s.set(C,T)}f.unshift(...h);const l=K2(u,e);if(l!==void 0){const C=c?pi(l,c):void 0;for(const A of f){if(A.facet===null||A.facet==="super")continue;const N=s.get(A);N!==void 0&&(N.facetsIndex=A.fx!=null||A.fy!=null?pi(l,N):C)}const T=new Set;for(const{facetsIndex:A}of s.values())A==null||A.forEach((N,R)=>{(N==null?void 0:N.length)>0&&T.add(R)});l.forEach(0<T.size&&T.size<l.length?(A,N)=>A.empty=!T.has(N):A=>A.empty=!1);for(const A of f)if(A.facet==="exclude"){const N=s.get(A);N!==void 0&&(N.facetsIndex=eb(N.facetsIndex))}}for(const C of Y.keys())Ii(e[C])&&C!=="fx"&&C!=="fy"&&u.set(C,[]);const d=new Map;for(const C of f){if(d.has(C))throw new Error("duplicate mark; each mark must be unique");const{facetsIndex:T,channels:A}=s.get(C)??{},{data:N,facets:R,channels:j}=C.initialize(T,A);Sa(j,e),d.set(C,{data:N,facets:R,channels:j})}const p=Pi(jt(u,d),e),b=Ro(p),m=G2(p,f,e);C2(p,m);const{fx:g,fy:x}=b,_=g||x?Su(p,m):m,y=g||x?Cp(b,m):m,v=ma(e,_),M=new Set;for(const[C,T]of d)if(C.initializer!=null){const A=C.facet==="super"?y:_,N=C.initializer(T.data,T.facets,T.channels,b,A,v);if(N.data!==void 0&&(T.data=N.data),N.facets!==void 0&&(T.facets=N.facets),N.channels!==void 0){yp(N.channels),Object.assign(T.channels,N.channels);for(const H of Object.values(N.channels)){const{scale:W}=H;W!=null&&Y.get(W)!==Te&&(gl(H,e),M.add(W))}const{fx:R,fy:j}=N.channels;if(R!=null||j!=null){const H=s.get(C)??{channels:{}};R!=null&&(H.channels.fx=R),j!=null&&(H.channels.fy=j),H.groups=Ta(T.data,H.channels),H.facetsIndex=T.facets=pi(l,H),s.set(C,H)}}}if(M.size){const C=new Map;jt(C,d,N=>M.has(N)),jt(u,d,N=>M.has(N));const T=Sp(Pi(C,e),p),A=Ro(T);Object.assign(p,T),Object.assign(b,A)}for(const[C,T]of d)T.values=C.scale(T.channels,b,v);const{width:S,height:L}=m,D=oe("svg",v).attr("class",o).attr("fill","currentColor").attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("text-anchor","middle").attr("width",S).attr("height",L).attr("viewBox",`0 0 ${S} ${L}`).attr("aria-label",i).attr("aria-description",a).call(C=>C.append("style").text(`
        .${o} {
          display: block;
          background: white;
          height: auto;
          height: intrinsic;
          max-width: 100%;
        }
        .${o} text,
        .${o} tspan {
          white-space: pre;
        }
      `)).call(Ma,n).node();if(l!==void 0){const C={x:g==null?void 0:g.domain(),y:x==null?void 0:x.domain()};l.sort(X2(C)),Tt(D).selectAll().data(l).enter().append("g").attr("aria-label","facet").attr("transform",J2(g,x,m)).each(function(T){var N;let A=!0;for(const R of f){if(R.facet==="super")continue;const{channels:j,values:H,facets:W}=d.get(R);if(!(((N=R.facetAnchor)==null?void 0:N.call(R,l,C,T))??!T.empty))continue;let ee=null;if(W){if(ee=W[s.has(R)?T.i:0],ee=R.filter(ee,j,H),ee.length===0)continue;ee.fi=T.i}const yt=R.render(ee,b,H,_,v);yt!=null&&(A=!1,this.appendChild(yt))}A&&this.remove()})}for(const C of f){if(l!==void 0&&C.facet!=="super")continue;const{channels:T,values:A,facets:N}=d.get(C);let R=null;if(N&&(R=N[0],R=C.filter(R,T,A),R.length===0))continue;const j=C.render(R,b,A,y,v);j!=null&&D.appendChild(j)}let F=D;const J=pb(p,v,e);if(r!=null||J.length>0){const{document:C}=v;F=C.createElement("figure"),F.style.maxWidth="initial";for(const T of J)F.appendChild(T);if(F.appendChild(D),r!=null){const T=C.createElement("figcaption");T.appendChild(r instanceof Node?r:C.createTextNode(r)),F.appendChild(T)}}F.scale=R2(p),F.legend=db(p,v,e);const P=W1();return P>0&&Tt(D).append("text").attr("x",S).attr("y",20).attr("dy","-1em").attr("text-anchor","end").attr("font-family","initial").text("").append("title").text(`${P.toLocaleString("en-US")} warning${P===1?"":"s"}. Please check the console.`),F}function pp({marks:e=[],...t}={}){return ml({...t,marks:[...e,this]})}Ze.prototype.plot=pp;function zo(e){return e.flat(1/0).filter(t=>t!=null).map(mp)}function mp(e){return typeof e.render=="function"?e:new gp(e)}class gp extends Ze{constructor(t){if(typeof t!="function")throw new TypeError("invalid mark; missing render function");super(),this.render=t}render(){}}function Sa(e,t){for(const n in e)gl(e[n],t);return e}function gl(e,t){var f;const{scale:n}=e;if(n==null)return;const{type:r,percent:i,interval:a,transform:o=i?c=>c*100:(f=ha(a,r))==null?void 0:f.floor}=t[n]??{};o!=null&&(e.value=ae(e.value,o))}function yp(e){for(const t in e)du(t,e[t])}function jt(e,t,n=r1){for(const{channels:r}of t.values())for(const i in r){const a=r[i],{scale:o}=a;if(o!=null&&n(o)){const f=e.get(o);f!==void 0?f.push(a):e.set(o,[a])}}return e}function _p(e,t){if(e==null)return;const{x:n,y:r}=e;if(n==null&&r==null)return;const i=Ee(e.data??n??r);if(i===void 0)throw new Error("missing facet data");const a={};n!=null&&(a.fx=dn(i,{value:n,scale:"fx"})),r!=null&&(a.fy=dn(i,{value:r,scale:"fy"})),Sa(a,t);const o=Ta(i,a);return{channels:a,groups:o,data:e.data}}function jo(e,t,n){var c;if(e.facet===null||e.facet==="super")return;const{fx:r,fy:i}=e;if(r!=null||i!=null){const s=Ee(e.data??r??i);if(s===void 0)throw new Error(`missing facet data in ${e.ariaLabel}`);if(s===null)return;const u={};return r!=null&&(u.fx=dn(s,{value:r,scale:"fx"})),i!=null&&(u.fy=dn(s,{value:i,scale:"fy"})),Sa(u,n),{channels:u,groups:Ta(s,u)}}if(t===void 0)return;const{channels:a,groups:o,data:f}=t;if(e.facet!=="auto"||e.data===f)return{channels:a,groups:o};(o.size>1||o.size===1&&a.fx&&a.fy&&[...o][0][1].size>1)&&((c=Ee(e.data))==null?void 0:c.length)===f.length&&tn(`Warning: the ${e.ariaLabel} mark appears to use faceted data, but isnt faceted. The mark data has the same length as the facet data and the mark facet option is "auto", but the mark data and facet data are distinct. If this mark should be faceted, set the mark facet option to true; otherwise, suppress this warning by setting the mark facet option to false.`)}function wp(e,t,n){let{projection:r,x:i={},y:a={},fx:o={},fy:f={},axis:c,grid:s,facet:u={},facet:{axis:h=c,grid:l}=u,x:{axis:d=c,grid:p=d===null?null:s}=i,y:{axis:b=c,grid:m=b===null?null:s}=a,fx:{axis:g=h,grid:x=g===null?null:l}=o,fy:{axis:_=h,grid:y=_===null?null:l}=f}=n;(r||!Ii(i)&&!Vo("x",e))&&(d=p=null),(r||!Ii(a)&&!Vo("y",e))&&(b=m=null),t.has("fx")||(g=x=null),t.has("fy")||(_=y=null),d===void 0&&(d=!En(e,"x")),b===void 0&&(b=!En(e,"y")),g===void 0&&(g=!En(e,"fx")),_===void 0&&(_=!En(e,"fy")),d===!0&&(d="bottom"),b===!0&&(b="left"),g===!0&&(g=d==="top"||d===null?"bottom":"top"),_===!0&&(_=b==="right"||b===null?"left":"right");const v=[];return Nn(v,y,np,f),An(v,_,Gb,"right","left",u,f),Nn(v,x,ip,o),An(v,g,Qb,"top","bottom",u,o),Nn(v,m,tp,a),An(v,b,ol,"left","right",n,a),Nn(v,p,rp,i),An(v,d,fl,"bottom","top",n,i),v}function An(e,t,n,r,i,a,o){if(!t)return;const f=xp(t);o=vp(f?r:t,a,o);const{line:c}=o;(n===ol||n===fl)&&c&&!un(c)&&e.push(bp(Mp(o))),e.push(n(o)),f&&e.push(n({...o,anchor:i,label:null}))}function Nn(e,t,n,r){!t||un(t)||e.push(n(Tp(t,r)))}function xp(e){return/^\s*both\s*$/i.test(e)}function vp(e,t,{line:n=t.line,ticks:r,tickSize:i,tickSpacing:a,tickPadding:o,tickFormat:f,tickRotate:c,fontVariant:s,ariaLabel:u,ariaDescription:h,label:l=t.label,labelAnchor:d,labelOffset:p}){return{anchor:e,line:n,ticks:r,tickSize:i,tickSpacing:a,tickPadding:o,tickFormat:f,tickRotate:c,fontVariant:s,ariaLabel:u,ariaDescription:h,label:l,labelAnchor:d,labelOffset:p}}function Mp(e){const{anchor:t,line:n}=e;return{anchor:t,facetAnchor:t+"-empty",stroke:n===!0?void 0:n}}function Tp(e,{stroke:t=Er(e)?e:void 0,ticks:n=$p(e)?e:void 0,tickSpacing:r,ariaLabel:i,ariaDescription:a}){return{stroke:t,ticks:n,tickSpacing:r,ariaLabel:i,ariaDescription:a}}function $p(e){switch(typeof e){case"number":return!0;case"string":return!Er(e)}return mt(e)||typeof(e==null?void 0:e.range)=="function"}function En(e,t){const n=`${t}-axis `;return e.some(r=>{var i;return(i=r.ariaLabel)==null?void 0:i.startsWith(n)})}function Vo(e,t){for(const n of t)for(const r in n.channels)if(n.channels[r].scale===e)return!0;return!1}function Sp(e,t){for(const n in e){const r=e[n],i=t[n];r.label===void 0&&i&&(r.label=i.label)}return e}function Cp({fx:e,fy:t},n){const{marginTop:r,marginRight:i,marginBottom:a,marginLeft:o,width:f,height:c}=wa(n),s=e&&Zo(e),u=t&&Zo(t);return{marginTop:t?u[0]:r,marginRight:e?f-s[1]:i,marginBottom:t?c-u[1]:a,marginLeft:e?s[0]:o,inset:{marginTop:n.marginTop,marginRight:n.marginRight,marginBottom:n.marginBottom,marginLeft:n.marginLeft},width:f,height:c}}function Zo(e){const t=e.domain();let n=e(t[0]),r=e(t[t.length-1]);return r<n&&([n,r]=[r,n]),[n,r+e.bandwidth()]}const Ap=new Map([["basis",Nh],["basis-closed",Eh],["basis-open",Dh],["bundle",Lh],["bump-x",yh],["bump-y",_h],["cardinal",kh],["cardinal-closed",Rh],["cardinal-open",Ih],["catmull-rom",Uh],["catmull-rom-closed",Oh],["catmull-rom-open",Ph],["linear",Vi],["linear-closed",Fh],["monotone-x",qh],["monotone-y",Bh],["natural",Wh],["step",Yh],["step-after",zh],["step-before",Hh]]);function Np(e=Vi,t){if(typeof e=="function")return e;const n=Ap.get(`${e}`.toLowerCase());if(!n)throw new Error(`unknown curve: ${e}`);if(t!==void 0){if("beta"in n)return n.beta(t);if("tension"in n)return n.tension(t);if("alpha"in n)return n.alpha(t)}return n}function Ep(e=ar,t){return typeof e!="function"&&`${e}`.toLowerCase()==="auto"?ar:Np(e,t)}function ar(e){return Vi(e)}function Dp(e,{marker:t,markerStart:n=t,markerMid:r=t,markerEnd:i=t}={}){e.markerStart=mi(n),e.markerMid=mi(r),e.markerEnd=mi(i)}function mi(e){if(e==null||e===!1)return null;if(e===!0)return Go;if(typeof e=="function")return e;switch(`${e}`.toLowerCase()){case"none":return null;case"arrow":return Lp;case"dot":return kp;case"circle":case"circle-fill":return Go;case"circle-stroke":return Rp}throw new Error(`invalid marker: ${e}`)}function Lp(e,t){return oe("svg:marker",t).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("orient","auto").attr("fill","none").attr("stroke",e).attr("stroke-width",1.5).attr("stroke-linecap","round").attr("stroke-linejoin","round").call(n=>n.append("path").attr("d","M-1.5,-3l3,3l-3,3")).node()}function kp(e,t){return oe("svg:marker",t).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",e).attr("stroke","none").call(n=>n.append("circle").attr("r",2.5)).node()}function Go(e,t){return oe("svg:marker",t).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",e).attr("stroke","white").attr("stroke-width",1.5).call(n=>n.append("circle").attr("r",3)).node()}function Rp(e,t){return oe("svg:marker",t).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill","white").attr("stroke",e).attr("stroke-width",1.5).call(n=>n.append("circle").attr("r",3)).node()}let Ip=0;function Up(e,t,{stroke:n},r){return Op(e,t,n&&(i=>n[i]),r)}function Op(e,{markerStart:t,markerMid:n,markerEnd:r,stroke:i},a=()=>i,o){const f=new Map;function c(s){return function(u){const h=a(u);let l=f.get(s);l||f.set(s,l=new Map);let d=l.get(h);if(!d){const p=this.parentNode.insertBefore(s(h,o),this),b=`plot-marker-${++Ip}`;p.setAttribute("id",b),l.set(h,d=`url(#${b})`)}return d}}t&&e.attr("marker-start",c(t)),n&&e.attr("marker-mid",c(n)),r&&e.attr("marker-end",c(r))}const Pp={ariaLabel:"link",fill:"none",stroke:"currentColor",strokeMiterlimit:1};class Fp extends Ze{constructor(t,n={}){const{x1:r,y1:i,x2:a,y2:o,curve:f,tension:c}=n;super(t,{x1:{value:r,scale:"x"},y1:{value:i,scale:"y"},x2:{value:a,scale:"x",optional:!0},y2:{value:o,scale:"y",optional:!0}},n,Pp),this.curve=Ep(f,c),Dp(this,n)}project(t,n,r){this.curve!==ar&&super.project(t,n,r)}render(t,n,r,i,a){const{x1:o,y1:f,x2:c=o,y2:s=f}=r,{curve:u}=this;return oe("svg:g",a).call(It,this,i,a).call(Ot,this,n).call(h=>h.selectAll().data(t).enter().append("path").call(Ut,this).attr("d",u===ar&&a.projection?qp(a.projection,o,f,c,s):l=>{const d=In(),p=u(d);return p.lineStart(),p.point(o[l],f[l]),p.point(c[l],s[l]),p.lineEnd(),d}).call(xn,this,r).call(Up,this,r,a)).node()}}function qp(e,t,n,r,i){const a=ea(e);return t=Mt(t),n=Mt(n),r=Mt(r),i=Mt(i),o=>a({type:"LineString",coordinates:[[t[o],n[o]],[r[o],i[o]]]})}function Bp(e,t={}){let{x:n,x1:r,x2:i,y:a,y1:o,y2:f,...c}=t;return[r,i]=Qo(n,r,i),[o,f]=Qo(a,o,f),new Fp(e,{...c,x1:r,x2:i,y1:o,y2:f})}function Qo(e,t,n){if(e===void 0){if(t===void 0){if(n!==void 0)return[n]}else if(n===void 0)return[t]}else{if(t===void 0)return n===void 0?[e]:[e,n];if(n===void 0)return[e,t]}return[t,n]}function Wp(e){let t,n,r,i,a,o,f,c,s,u,h,l,d,p,b,m,g,x,_;return{c(){t=Le("div"),n=Le("div"),r=Le("h1"),i=Ge("Evolution of "),a=Le("span"),o=Ge("mobile cellular"),f=Ge(" subscriptions and "),c=Le("span"),s=Ge("fixed telephone"),u=Ge(" subscriptions between 2005 and 2021 (per 100 people)."),h=Aa(),l=Le("div"),d=Ge("Data Source: "),p=Le("a"),b=Ge("data.worldbank.org"),m=Le("br"),g=Ge(`
            Layout: Observable Plot`),x=Aa(),_=Le("div"),this.h()},l(y){t=ke(y,"DIV",{id:!0,class:!0});var v=Qe(t);n=ke(v,"DIV",{id:!0,class:!0});var M=Qe(n);r=ke(M,"H1",{class:!0});var S=Qe(r);i=Ke(S,"Evolution of "),a=ke(S,"SPAN",{id:!0});var L=Qe(a);o=Ke(L,"mobile cellular"),L.forEach(Re),f=Ke(S," subscriptions and "),c=ke(S,"SPAN",{id:!0});var D=Qe(c);s=Ke(D,"fixed telephone"),D.forEach(Re),u=Ke(S," subscriptions between 2005 and 2021 (per 100 people)."),S.forEach(Re),h=Na(M),l=ke(M,"DIV",{id:!0,class:!0});var F=Qe(l);d=Ke(F,"Data Source: "),p=ke(F,"A",{href:!0});var J=Qe(p);b=Ke(J,"data.worldbank.org"),J.forEach(Re),m=ke(F,"BR",{}),g=Ke(F,`
            Layout: Observable Plot`),F.forEach(Re),M.forEach(Re),x=Na(v),_=ke(v,"DIV",{id:!0});var P=Qe(_);P.forEach(Re),v.forEach(Re),this.h()},h(){me(a,"id","mobile"),me(c,"id","fix"),me(r,"class","svelte-uaxgu3"),me(p,"href","https://data.worldbank.org/indicator/IT.MLT.MAIN.P2?view=chart"),me(l,"id","data-source"),me(l,"class","svelte-uaxgu3"),me(n,"id","main-text"),me(n,"class","svelte-uaxgu3"),me(_,"id","graph"),me(t,"id","container"),me(t,"class","svelte-uaxgu3")},m(y,v){vl(y,t,v),G(t,n),G(n,r),G(r,i),G(r,a),G(a,o),G(r,f),G(r,c),G(c,s),G(r,u),G(n,h),G(n,l),G(l,d),G(l,p),G(p,b),G(l,m),G(l,g),G(t,x),G(t,_)},p:Yr,i:Yr,o:Yr,d(y){y&&Re(t)}}}const Yp=1800;function Hp(e){let t=[{name:"Fix",2005:19,2021:11},{name:"Mobile",2005:34,2021:110}];const n=["#66c2a5","#fc8d62"];Ml(()=>{i(),Tt("#fix").style("color",r.Fix),Tt("#mobile").style("color",r.Mobile)});let r={Fix:n[0],Mobile:n[1]};function i(){console.log(t);let a=ml({width:Yp/2,height:500,marginLeft:120,marginRight:120,style:{fontSize:26,backgroundColor:"#f4efff",display:"flex"},x:{axis:"top",ticks:[2005,2021],tickFormat:""},y:{label:"% change in year",domain:[0,140],axis:null},marks:[Bp(t,{x1:2005,y1:"2005",x2:2021,y2:"2021",stroke:o=>r[o.name],strokeWidth:5}),rr(t,{x:2005,y:"2005",text:o=>`${o.name}: ${o[2005]}`,textAnchor:"end",dx:-5,fill:o=>r[o.name],fontSize:22}),rr(t,{x:2021,y:"2021",text:o=>o[2021],textAnchor:"start",dx:5,fill:o=>r[o.name],fontSize:22})]});Tt(a).style("display","unset"),document.querySelector("#graph").append(a)}return[]}class em extends _l{constructor(t){super(),wl(this,t,Hp,Wp,xl,{})}}export{em as default};
