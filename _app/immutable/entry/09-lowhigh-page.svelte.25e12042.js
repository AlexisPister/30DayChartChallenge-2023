import{S as X,i as Z,s as tt,M as I,q as $,N as B,m as x,r as z,h as p,n as c,b as N,H as h,C as R,k as C,a as Y,y as at,J as et,l as A,c as F,z as rt,p as nt,A as lt,g as it,d as st,B as ot,o as dt}from"../chunks/index.06a14631.js";import"../chunks/transform.2ac1f063.js";import{e as ht}from"../chunks/extent.4cf1c809.js";import{b as ct}from"../chunks/band.82e7aa82.js";import{r as ut,m as ft}from"../chunks/mean.e1aff159.js";import{a as gt,b as mt,e as pt}from"../chunks/linear.4cf592b7.js";import{s as Q}from"../chunks/select.c6d05060.js";function vt(S){let n,w,b,s,y;return{c(){n=I("svg"),w=I("title"),b=$("Flag of Canada"),s=I("path"),y=I("path"),this.h()},l(u){n=B(u,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0});var m=x(n);w=B(m,"title",{});var e=x(w);b=z(e,"Flag of Canada"),e.forEach(p),s=B(m,"path",{fill:!0,d:!0}),x(s).forEach(p),y=B(m,"path",{fill:!0,d:!0}),x(y).forEach(p),m.forEach(p),this.h()},h(){c(s,"fill","#f00"),c(s,"d","m0 0h2400l99 99h4602l99-99h2400v4800h-2400l-99-99h-4602l-99 99H0z"),c(y,"fill","#fff"),c(y,"d","m2400 0h4800v4800h-4800zm2490 4430-45-863a95 95 0 0 1 111-98l859 151-116-320a65 65 0 0 1 20-73l941-762-212-99a65 65 0 0 1-34-79l186-572-542 115a65 65 0 0 1-73-38l-105-247-423 454a65 65 0 0 1-111-57l204-1052-327 189a65 65 0 0 1-91-27l-332-652-332 652a65 65 0 0 1-91 27l-327-189 204 1052a65 65 0 0 1-111 57l-423-454-105 247a65 65 0 0 1-73 38l-542-115 186 572a65 65 0 0 1-34 79l-212 99 941 762a65 65 0 0 1 20 73l-116 320 859-151a95 95 0 0 1 111 98l-45 863z"),c(n,"xmlns","http://www.w3.org/2000/svg"),c(n,"width","1200"),c(n,"height","600"),c(n,"viewBox","0 0 9600 4800")},m(u,m){N(u,n,m),h(n,w),h(w,b),h(n,s),h(n,y)},p:R,i:R,o:R,d(u){u&&p(n)}}}class yt extends X{constructor(n){super(),Z(this,n,null,vt,tt,{})}}function _t(S){let n,w,b,s,y,u,m,e,g,J,E,v,o,D,M,f,r,i,t,a,l,_;return l=new yt({}),{c(){n=C("style"),w=$(`body {
        background-color: rgba(162, 99, 164, 0.2);
    }`),b=Y(),s=C("div"),y=C("div"),u=C("h1"),m=$("Mean Temperatures during the months of January (Jan) and June (Jun) at Calgary, Canada, 2010-2020."),e=Y(),g=C("div"),J=$("Data Source: "),E=C("a"),v=$("Eighty years of Canadian climate data"),o=$(`
            Layout: `),D=C("a"),M=$("D3JS"),f=C("br"),r=Y(),i=C("div"),t=I("svg"),a=I("g"),at(l.$$.fragment),this.h()},l(d){const k=et("svelte-p6ihd7",document.head);n=A(k,"STYLE",{});var j=x(n);w=z(j,`body {
        background-color: rgba(162, 99, 164, 0.2);
    }`),j.forEach(p),k.forEach(p),b=F(d),s=A(d,"DIV",{id:!0,class:!0});var H=x(s);y=A(H,"DIV",{id:!0,class:!0});var L=x(y);u=A(L,"H1",{class:!0});var q=x(u);m=z(q,"Mean Temperatures during the months of January (Jan) and June (Jun) at Calgary, Canada, 2010-2020."),q.forEach(p),e=F(L),g=A(L,"DIV",{id:!0,class:!0});var T=x(g);J=z(T,"Data Source: "),E=A(T,"A",{href:!0,style:!0});var G=x(E);v=z(G,"Eighty years of Canadian climate data"),G.forEach(p),o=z(T,`
            Layout: `),D=A(T,"A",{href:!0});var W=x(D);M=z(W,"D3JS"),W.forEach(p),f=A(T,"BR",{}),T.forEach(p),L.forEach(p),r=F(H),i=A(H,"DIV",{id:!0});var O=x(i);t=B(O,"svg",{width:!0,height:!0});var U=x(t);a=B(U,"g",{id:!0,transform:!0});var K=x(a);rt(l.$$.fragment,K),K.forEach(p),U.forEach(p),O.forEach(p),H.forEach(p),this.h()},h(){c(u,"class","svelte-1msvv3z"),c(E,"href","https://www.kaggle.com/datasets/aturner374/eighty-years-of-canadian-climate-data"),nt(E,"padding-right","8px"),c(D,"href","https://d3js.org/"),c(g,"id","data-source"),c(g,"class","svelte-1msvv3z"),c(y,"id","main-text"),c(y,"class","svelte-1msvv3z"),c(a,"id","gflag"),c(a,"transform","translate("+(V-103)+", "+(S[0]()+21)+") scale(0.08) "),c(t,"width",V),c(t,"height",P),c(i,"id","graph"),c(s,"id","container"),c(s,"class","svelte-1msvv3z")},m(d,k){h(document.head,n),h(n,w),N(d,b,k),N(d,s,k),h(s,y),h(y,u),h(u,m),h(y,e),h(y,g),h(g,J),h(g,E),h(E,v),h(g,o),h(g,D),h(D,M),h(g,f),h(s,r),h(s,i),h(i,t),h(t,a),lt(l,a,null),_=!0},p:R,i(d){_||(it(l.$$.fragment,d),_=!0)},o(d){st(l.$$.fragment,d),_=!1},d(d){p(n),d&&p(b),d&&p(s),ot(l)}}}let xt="MEAN_TEMPERATURE_CALGARY";const V=1600,P=900;function bt(S,n,w){let{data:b}=n,s=b.data;s.forEach(r=>{let i=r.LOCAL_DATE,t=i.split("-")[1],a=i.split("-")[2].split(" ")[0];r.monthYear=t+a,r.year=a}),s=s.filter(r=>r.year>=2010);let u=[...ut(s,r=>ft(r,i=>i[xt]),r=>r.monthYear)];u=u.filter(r=>r[0].includes("Jan")||r[0].includes("Jun")),u=u.filter(r=>r[0].includes("Jan")||r[0].includes("Jun")),console.log(u);const m={bottom:20,left:60,right:120,top:20};let e,g,J,E=ht(u,r=>r[1]);console.log(E);const v=gt().domain([18,-18]).range([0,P-m.top-m.bottom]);let o=ct().domain(u.map(r=>r[0])).range([0,V-m.right-m.left]).paddingInner(.5);dt(()=>{J=Q("svg").append("g").attr("transform",`translate(${m.left}, ${m.top})`),e=o.bandwidth(),g=o.paddingInner()*e;let r=mt(o),i=pt(v).tickFormat((t,a)=>`${t} Â°C`).ticks(18);D(),J.append("g").call(r).attr("transform",`translate(0, ${f()})`).attr("font-size",15).attr("font-weight","bold"),J.append("g").call(i).attr("transform","translate(-55, 0)").attr("font-size",14).attr("font-weight","bold"),Q("#gflag").raise()});function D(){J.selectAll(".monthyear").data(u).join(r=>{let i=r.append("g");return i.append("line").attr("x1",(t,a)=>o(t[0])).attr("y1",(t,a)=>f()).attr("x2",(t,a)=>o(t[0])).attr("y2",(t,a)=>{let l=t[1]<0?1:-1;return v(t[1])+l*e}).attr("stroke","black").attr("stroke-width",3),i.append("line").attr("x1",(t,a)=>o(t[0])+e).attr("y1",(t,a)=>f()).attr("x2",(t,a)=>o(t[0])+e).attr("y2",(t,a)=>v(t[1])).attr("stroke","black").attr("stroke-width",3),i.append("line").attr("x1",(t,a)=>o(t[0])).attr("y1",(t,a)=>{let l=t[1]<0?1:-1;return v(t[1])+l*e}).attr("x2",(t,a)=>o(t[0])+(e+g)*2).attr("y2",(t,a)=>{let l=t[1]<0?1:-1;return v(t[1])+l*e}).attr("stroke","black").attr("stroke-width",3),i.append("line").attr("x1",(t,a)=>o(t[0])+e).attr("y1",(t,a)=>v(t[1])).attr("stroke","black").attr("x2",(t,a)=>o(t[0])+(e+g+e/2)).attr("y2",t=>v(t[1])).attr("stroke","black").attr("stroke-width",3),i.append("line").attr("x1",(t,a)=>o(t[0])+(e+g)*2).attr("y1",(t,a)=>{let l=t[1]<0?1:-1;return v(t[1])+l*e}).attr("x2",(t,a)=>o(t[0])+(e+g)*2).attr("y2",(t,a)=>f()).attr("stroke","black").attr("stroke-width",3),i.append("line").attr("x1",(t,a)=>o(t[0])+(e+g+e/2)).attr("y1",(t,a)=>v(t[1])).attr("stroke","black").attr("x2",(t,a)=>o(t[0])+(e+g+e/2)).attr("y2",(t,a)=>f()).attr("stroke","black").attr("stroke-width",3),i.append("rect").attr("width",(t,a)=>e).attr("height",(t,a)=>{let l=t[1]<0?1:-1,_=v(t[1])+l*e,d=f();return Math.abs(_-d)}).attr("x",(t,a)=>o(t[0])).attr("y",(t,a)=>{let l=t[1]<0?1:-1,_=v(t[1])+l*e,d=f(),k=Math.abs(_-d);return t[1]>0?f()-k:f()}).attr("fill",M),i.append("rect").attr("width",(t,a)=>e).attr("height",(t,a)=>{let l=t[1]<0?1:-1,_=v(t[1])+l*e,d=f();return Math.abs(_-d)}).attr("x",(t,a)=>o(t[0])+(e+g*2)).attr("y",(t,a)=>{let l=t[1]<0?1:-1,_=v(t[1])+l*e,d=f(),k=Math.abs(_-d);return t[1]>0?f()-k:f()}).attr("fill",M),i.append("rect").attr("width",(t,a)=>e*2).attr("height",(t,a)=>e).attr("x",(t,a)=>o(t[0])).attr("y",(t,a)=>{let l=t[1]<0?1:-1,_=v(t[1])+l*e,d=f(),k=Math.abs(_-d);return t[1]>0?f()-k:f()+k-e}).attr("fill",M),i}).classed("monthyear",!0)}const M=r=>r[1]>0?"#fbb4ae":"#b3cde3";function f(){return(P-m.top-m.bottom)/2}return S.$$set=r=>{"data"in r&&w(1,b=r.data)},[f,b]}class Mt extends X{constructor(n){super(),Z(this,n,bt,_t,tt,{data:1})}}export{Mt as default};
