class mn{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const r=this._partials;let i=0;for(let e=0;e<this._n&&e<32;e++){const l=r[e],a=t+l,s=Math.abs(t)<Math.abs(l)?t-(a-l):l-(a-t);s&&(r[i++]=s),t=a}return r[i]=t,this._n=i+1,this}valueOf(){const t=this._partials;let r=this._n,i,e,l,a=0;if(r>0){for(a=t[--r];r>0&&(i=a,e=t[--r],a=i+e,l=e-(a-i),!l););r>0&&(l<0&&t[r-1]<0||l>0&&t[r-1]>0)&&(e=l*2,i=a+e,e==i-a&&(a=i))}return a}}function*xn(n){for(const t of n)yield*t}function Jn(n){return Array.from(xn(n))}var C=1e-6,jn=1e-12,R=Math.PI,J=R/2,Rn=R/4,Y=R*2,K=180/R,H=R/180,q=Math.abs,Kn=Math.atan,nn=Math.atan2,F=Math.cos,kn=Math.exp,bn=Math.log,Lt=Math.pow,G=Math.sin,nt=Math.sign||function(n){return n>0?1:n<0?-1:0},vn=Math.sqrt,tt=Math.tan;function it(n){return n>1?0:n<-1?R:Math.acos(n)}function tn(n){return n>1?J:n<-1?-J:Math.asin(n)}function k(){}function cn(n,t){n&&Tn.hasOwnProperty(n.type)&&Tn[n.type](n,t)}var An={Feature:function(n,t){cn(n.geometry,t)},FeatureCollection:function(n,t){for(var r=n.features,i=-1,e=r.length;++i<e;)cn(r[i].geometry,t)}},Tn={Sphere:function(n,t){t.sphere()},Point:function(n,t){n=n.coordinates,t.point(n[0],n[1],n[2])},MultiPoint:function(n,t){for(var r=n.coordinates,i=-1,e=r.length;++i<e;)n=r[i],t.point(n[0],n[1],n[2])},LineString:function(n,t){Mn(n.coordinates,t,0)},MultiLineString:function(n,t){for(var r=n.coordinates,i=-1,e=r.length;++i<e;)Mn(r[i],t,0)},Polygon:function(n,t){Ln(n.coordinates,t)},MultiPolygon:function(n,t){for(var r=n.coordinates,i=-1,e=r.length;++i<e;)Ln(r[i],t)},GeometryCollection:function(n,t){for(var r=n.geometries,i=-1,e=r.length;++i<e;)cn(r[i],t)}};function Mn(n,t,r){var i=-1,e=n.length-r,l;for(t.lineStart();++i<e;)l=n[i],t.point(l[0],l[1],l[2]);t.lineEnd()}function Ln(n,t){var r=-1,i=n.length;for(t.polygonStart();++r<i;)Mn(n[r],t,1);t.polygonEnd()}function rt(n,t){n&&An.hasOwnProperty(n.type)?An[n.type](n,t):cn(n,t)}function wn(n){return[nn(n[1],n[0]),tn(n[2])]}function m(n){var t=n[0],r=n[1],i=F(r);return[i*F(t),i*G(t),G(r)]}function on(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]}function sn(n,t){return[n[1]*t[2]-n[2]*t[1],n[2]*t[0]-n[0]*t[2],n[0]*t[1]-n[1]*t[0]]}function Sn(n,t){n[0]+=t[0],n[1]+=t[1],n[2]+=t[2]}function un(n,t){return[n[0]*t,n[1]*t,n[2]*t]}function yn(n){var t=vn(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=t,n[1]/=t,n[2]/=t}function dn(n,t){function r(i,e){return i=n(i,e),t(i[0],i[1])}return n.invert&&t.invert&&(r.invert=function(i,e){return i=t.invert(i,e),i&&n.invert(i[0],i[1])}),r}function Pn(n,t){return q(n)>R&&(n-=Math.round(n/Y)*Y),[n,t]}Pn.invert=Pn;function Xn(n,t,r){return(n%=Y)?t||r?dn(Cn(n),Dn(t,r)):Cn(n):t||r?Dn(t,r):Pn}function zn(n){return function(t,r){return t+=n,q(t)>R&&(t-=Math.round(t/Y)*Y),[t,r]}}function Cn(n){var t=zn(n);return t.invert=zn(-n),t}function Dn(n,t){var r=F(n),i=G(n),e=F(t),l=G(t);function a(s,g){var v=F(g),o=F(s)*v,u=G(s)*v,f=G(g),p=f*r+o*i;return[nn(u*e-p*l,o*r-f*i),tn(p*e+u*l)]}return a.invert=function(s,g){var v=F(g),o=F(s)*v,u=G(s)*v,f=G(g),p=f*e-u*l;return[nn(u*e+f*l,o*r+p*i),tn(p*r-o*i)]},a}function et(n){n=Xn(n[0]*H,n[1]*H,n.length>2?n[2]*H:0);function t(r){return r=n(r[0]*H,r[1]*H),r[0]*=K,r[1]*=K,r}return t.invert=function(r){return r=n.invert(r[0]*H,r[1]*H),r[0]*=K,r[1]*=K,r},t}function ot(n,t,r,i,e,l){if(r){var a=F(t),s=G(t),g=i*r;e==null?(e=t+i*Y,l=t-g/2):(e=qn(a,e),l=qn(a,l),(i>0?e<l:e>l)&&(e+=i*Y));for(var v,o=e;i>0?o>l:o<l;o-=g)v=wn([a,-s*F(o),-s*G(o)]),n.point(v[0],v[1])}}function qn(n,t){t=m(t),t[0]-=n,yn(t);var r=it(-t[1]);return((-t[2]<0?-r:r)+Y-C)%Y}function Yn(){var n=[],t;return{point:function(r,i,e){t.push([r,i,e])},lineStart:function(){n.push(t=[])},lineEnd:k,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var r=n;return n=[],t=null,r}}}function an(n,t){return q(n[0]-t[0])<C&&q(n[1]-t[1])<C}function fn(n,t,r,i){this.x=n,this.z=t,this.o=r,this.e=i,this.v=!1,this.n=this.p=null}function Qn(n,t,r,i,e){var l=[],a=[],s,g;if(n.forEach(function(h){if(!((y=h.length-1)<=0)){var y,S=h[0],N=h[y],M;if(an(S,N)){if(!S[2]&&!N[2]){for(e.lineStart(),s=0;s<y;++s)e.point((S=h[s])[0],S[1]);e.lineEnd();return}N[0]+=2*C}l.push(M=new fn(S,h,null,!0)),a.push(M.o=new fn(S,null,M,!1)),l.push(M=new fn(N,h,null,!1)),a.push(M.o=new fn(N,null,M,!0))}}),!!l.length){for(a.sort(t),Bn(l),Bn(a),s=0,g=a.length;s<g;++s)a[s].e=r=!r;for(var v=l[0],o,u;;){for(var f=v,p=!0;f.v;)if((f=f.n)===v)return;o=f.z,e.lineStart();do{if(f.v=f.o.v=!0,f.e){if(p)for(s=0,g=o.length;s<g;++s)e.point((u=o[s])[0],u[1]);else i(f.x,f.n.x,1,e);f=f.n}else{if(p)for(o=f.p.z,s=o.length-1;s>=0;--s)e.point((u=o[s])[0],u[1]);else i(f.x,f.p.x,-1,e);f=f.p}f=f.o,o=f.z,p=!p}while(!f.v);e.lineEnd()}}}function Bn(n){if(t=n.length){for(var t,r=0,i=n[0],e;++r<t;)i.n=e=n[r],e.p=i,i=e;i.n=e=n[0],e.p=i}}function En(n){return q(n[0])<=R?n[0]:nt(n[0])*((q(n[0])+R)%Y-R)}function ut(n,t){var r=En(t),i=t[1],e=G(i),l=[G(r),-F(r),0],a=0,s=0,g=new mn;e===1?i=J+C:e===-1&&(i=-J-C);for(var v=0,o=n.length;v<o;++v)if(f=(u=n[v]).length)for(var u,f,p=u[f-1],h=En(p),y=p[1]/2+Rn,S=G(y),N=F(y),M=0;M<f;++M,h=E,S=_,N=L,p=d){var d=u[M],E=En(d),P=d[1]/2+Rn,_=G(P),L=F(P),A=E-h,T=A>=0?1:-1,D=T*A,w=D>R,W=S*_;if(g.add(nn(W*T*G(D),N*L+W*F(D))),a+=w?A+T*Y:A,w^h>=r^E>=r){var B=sn(m(p),m(d));yn(B);var z=sn(l,B);yn(z);var c=(w^A>=0?-1:1)*tn(z[2]);(i>c||i===c&&(B[0]||B[1]))&&(s+=w^A>=0?1:-1)}}return(a<-C||a<C&&g<-jn)^s&1}function Un(n,t,r,i){return function(e){var l=t(e),a=Yn(),s=t(a),g=!1,v,o,u,f={point:p,lineStart:y,lineEnd:S,polygonStart:function(){f.point=N,f.lineStart=M,f.lineEnd=d,o=[],v=[]},polygonEnd:function(){f.point=p,f.lineStart=y,f.lineEnd=S,o=Jn(o);var E=ut(v,i);o.length?(g||(e.polygonStart(),g=!0),Qn(o,lt,E,r,e)):E&&(g||(e.polygonStart(),g=!0),e.lineStart(),r(null,null,1,e),e.lineEnd()),g&&(e.polygonEnd(),g=!1),o=v=null},sphere:function(){e.polygonStart(),e.lineStart(),r(null,null,1,e),e.lineEnd(),e.polygonEnd()}};function p(E,P){n(E,P)&&e.point(E,P)}function h(E,P){l.point(E,P)}function y(){f.point=h,l.lineStart()}function S(){f.point=p,l.lineEnd()}function N(E,P){u.push([E,P]),s.point(E,P)}function M(){s.lineStart(),u=[]}function d(){N(u[0][0],u[0][1]),s.lineEnd();var E=s.clean(),P=a.result(),_,L=P.length,A,T,D;if(u.pop(),v.push(u),u=null,!!L){if(E&1){if(T=P[0],(A=T.length-1)>0){for(g||(e.polygonStart(),g=!0),e.lineStart(),_=0;_<A;++_)e.point((D=T[_])[0],D[1]);e.lineEnd()}return}L>1&&E&2&&P.push(P.pop().concat(P.shift())),o.push(P.filter(ft))}}return f}}function ft(n){return n.length>1}function lt(n,t){return((n=n.x)[0]<0?n[1]-J-C:J-n[1])-((t=t.x)[0]<0?t[1]-J-C:J-t[1])}const Fn=Un(function(){return!0},at,st,[-R,-J]);function at(n){var t=NaN,r=NaN,i=NaN,e;return{lineStart:function(){n.lineStart(),e=1},point:function(l,a){var s=l>0?R:-R,g=q(l-t);q(g-R)<C?(n.point(t,r=(r+a)/2>0?J:-J),n.point(i,r),n.lineEnd(),n.lineStart(),n.point(s,r),n.point(l,r),e=0):i!==s&&g>=R&&(q(t-i)<C&&(t-=i*C),q(l-s)<C&&(l-=s*C),r=ct(t,r,l,a),n.point(i,r),n.lineEnd(),n.lineStart(),n.point(s,r),e=0),n.point(t=l,r=a),i=s},lineEnd:function(){n.lineEnd(),t=r=NaN},clean:function(){return 2-e}}}function ct(n,t,r,i){var e,l,a=G(n-r);return q(a)>C?Kn((G(t)*(l=F(i))*G(r)-G(i)*(e=F(t))*G(n))/(e*l*a)):(t+i)/2}function st(n,t,r,i){var e;if(n==null)e=r*J,i.point(-R,e),i.point(0,e),i.point(R,e),i.point(R,0),i.point(R,-e),i.point(0,-e),i.point(-R,-e),i.point(-R,0),i.point(-R,e);else if(q(n[0]-t[0])>C){var l=n[0]<t[0]?R:-R;e=r*l/2,i.point(-l,e),i.point(0,e),i.point(l,e)}else i.point(t[0],t[1])}function pt(n){var t=F(n),r=6*H,i=t>0,e=q(t)>C;function l(o,u,f,p){ot(p,n,r,f,o,u)}function a(o,u){return F(o)*F(u)>t}function s(o){var u,f,p,h,y;return{lineStart:function(){h=p=!1,y=1},point:function(S,N){var M=[S,N],d,E=a(S,N),P=i?E?0:v(S,N):E?v(S+(S<0?R:-R),N):0;if(!u&&(h=p=E)&&o.lineStart(),E!==p&&(d=g(u,M),(!d||an(u,d)||an(M,d))&&(M[2]=1)),E!==p)y=0,E?(o.lineStart(),d=g(M,u),o.point(d[0],d[1])):(d=g(u,M),o.point(d[0],d[1],2),o.lineEnd()),u=d;else if(e&&u&&i^E){var _;!(P&f)&&(_=g(M,u,!0))&&(y=0,i?(o.lineStart(),o.point(_[0][0],_[0][1]),o.point(_[1][0],_[1][1]),o.lineEnd()):(o.point(_[1][0],_[1][1]),o.lineEnd(),o.lineStart(),o.point(_[0][0],_[0][1],3)))}E&&(!u||!an(u,M))&&o.point(M[0],M[1]),u=M,p=E,f=P},lineEnd:function(){p&&o.lineEnd(),u=null},clean:function(){return y|(h&&p)<<1}}}function g(o,u,f){var p=m(o),h=m(u),y=[1,0,0],S=sn(p,h),N=on(S,S),M=S[0],d=N-M*M;if(!d)return!f&&o;var E=t*N/d,P=-t*M/d,_=sn(y,S),L=un(y,E),A=un(S,P);Sn(L,A);var T=_,D=on(L,T),w=on(T,T),W=D*D-w*(on(L,L)-1);if(!(W<0)){var B=vn(W),z=un(T,(-D-B)/w);if(Sn(z,L),z=wn(z),!f)return z;var c=o[0],I=u[0],O=o[1],$=u[1],X;I<c&&(X=c,c=I,I=X);var j=I-c,Q=q(j-R)<C,V=Q||j<C;if(!Q&&$<O&&(X=O,O=$,$=X),V?Q?O+$>0^z[1]<(q(z[0]-c)<C?O:$):O<=z[1]&&z[1]<=$:j>R^(c<=z[0]&&z[0]<=I)){var U=un(T,(-D+B)/w);return Sn(U,L),[z,wn(U)]}}}function v(o,u){var f=i?n:R-n,p=0;return o<-f?p|=1:o>f&&(p|=2),u<-f?p|=4:u>f&&(p|=8),p}return Un(a,s,l,i?[0,-n]:[-R,n-R])}function ht(n,t,r,i,e,l){var a=n[0],s=n[1],g=t[0],v=t[1],o=0,u=1,f=g-a,p=v-s,h;if(h=r-a,!(!f&&h>0)){if(h/=f,f<0){if(h<o)return;h<u&&(u=h)}else if(f>0){if(h>u)return;h>o&&(o=h)}if(h=e-a,!(!f&&h<0)){if(h/=f,f<0){if(h>u)return;h>o&&(o=h)}else if(f>0){if(h<o)return;h<u&&(u=h)}if(h=i-s,!(!p&&h>0)){if(h/=p,p<0){if(h<o)return;h<u&&(u=h)}else if(p>0){if(h>u)return;h>o&&(o=h)}if(h=l-s,!(!p&&h<0)){if(h/=p,p<0){if(h>u)return;h>o&&(o=h)}else if(p>0){if(h<o)return;h<u&&(u=h)}return o>0&&(n[0]=a+o*f,n[1]=s+o*p),u<1&&(t[0]=a+u*f,t[1]=s+u*p),!0}}}}}var b=1e9,ln=-b;function vt(n,t,r,i){function e(v,o){return n<=v&&v<=r&&t<=o&&o<=i}function l(v,o,u,f){var p=0,h=0;if(v==null||(p=a(v,u))!==(h=a(o,u))||g(v,o)<0^u>0)do f.point(p===0||p===3?n:r,p>1?i:t);while((p=(p+u+4)%4)!==h);else f.point(o[0],o[1])}function a(v,o){return q(v[0]-n)<C?o>0?0:3:q(v[0]-r)<C?o>0?2:1:q(v[1]-t)<C?o>0?1:0:o>0?3:2}function s(v,o){return g(v.x,o.x)}function g(v,o){var u=a(v,1),f=a(o,1);return u!==f?u-f:u===0?o[1]-v[1]:u===1?v[0]-o[0]:u===2?v[1]-o[1]:o[0]-v[0]}return function(v){var o=v,u=Yn(),f,p,h,y,S,N,M,d,E,P,_,L={point:A,lineStart:W,lineEnd:B,polygonStart:D,polygonEnd:w};function A(c,I){e(c,I)&&o.point(c,I)}function T(){for(var c=0,I=0,O=p.length;I<O;++I)for(var $=p[I],X=1,j=$.length,Q=$[0],V,U,en=Q[0],Z=Q[1];X<j;++X)V=en,U=Z,Q=$[X],en=Q[0],Z=Q[1],U<=i?Z>i&&(en-V)*(i-U)>(Z-U)*(n-V)&&++c:Z<=i&&(en-V)*(i-U)<(Z-U)*(n-V)&&--c;return c}function D(){o=u,f=[],p=[],_=!0}function w(){var c=T(),I=_&&c,O=(f=Jn(f)).length;(I||O)&&(v.polygonStart(),I&&(v.lineStart(),l(null,null,1,v),v.lineEnd()),O&&Qn(f,s,c,l,v),v.polygonEnd()),o=v,f=p=h=null}function W(){L.point=z,p&&p.push(h=[]),P=!0,E=!1,M=d=NaN}function B(){f&&(z(y,S),N&&E&&u.rejoin(),f.push(u.result())),L.point=A,E&&o.lineEnd()}function z(c,I){var O=e(c,I);if(p&&h.push([c,I]),P)y=c,S=I,N=O,P=!1,O&&(o.lineStart(),o.point(c,I));else if(O&&E)o.point(c,I);else{var $=[M=Math.max(ln,Math.min(b,M)),d=Math.max(ln,Math.min(b,d))],X=[c=Math.max(ln,Math.min(b,c)),I=Math.max(ln,Math.min(b,I))];ht($,X,n,t,r,i)?(E||(o.lineStart(),o.point($[0],$[1])),o.point(X[0],X[1]),O||o.lineEnd(),_=!1):O&&(o.lineStart(),o.point(c,I),_=!1)}M=c,d=I,E=O}return L}}const Gn=n=>n;var x=1/0,pn=x,rn=-x,hn=rn,gt={point:St,lineStart:k,lineEnd:k,polygonStart:k,polygonEnd:k,result:function(){var n=[[x,pn],[rn,hn]];return rn=hn=-(pn=x=1/0),n}};function St(n,t){n<x&&(x=n),n>rn&&(rn=n),t<pn&&(pn=t),t>hn&&(hn=t)}const Hn=gt;function zt(n){return{stream:gn(n)}}function gn(n){return function(t){var r=new _n;for(var i in n)r[i]=n[i];return r.stream=t,r}}function _n(){}_n.prototype={constructor:_n,point:function(n,t){this.stream.point(n,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Nn(n,t,r){var i=n.clipExtent&&n.clipExtent();return n.scale(150).translate([0,0]),i!=null&&n.clipExtent(null),rt(r,n.stream(Hn)),t(Hn.result()),i!=null&&n.clipExtent(i),n}function Vn(n,t,r){return Nn(n,function(i){var e=t[1][0]-t[0][0],l=t[1][1]-t[0][1],a=Math.min(e/(i[1][0]-i[0][0]),l/(i[1][1]-i[0][1])),s=+t[0][0]+(e-a*(i[1][0]+i[0][0]))/2,g=+t[0][1]+(l-a*(i[1][1]+i[0][1]))/2;n.scale(150*a).translate([s,g])},r)}function Et(n,t,r){return Vn(n,[[0,0],t],r)}function Mt(n,t,r){return Nn(n,function(i){var e=+t,l=e/(i[1][0]-i[0][0]),a=(e-l*(i[1][0]+i[0][0]))/2,s=-l*i[0][1];n.scale(150*l).translate([a,s])},r)}function wt(n,t,r){return Nn(n,function(i){var e=+t,l=e/(i[1][1]-i[0][1]),a=-l*i[0][0],s=(e-l*(i[1][1]+i[0][1]))/2;n.scale(150*l).translate([a,s])},r)}var On=16,yt=F(30*H);function Wn(n,t){return+t?Pt(n,t):dt(n)}function dt(n){return gn({point:function(t,r){t=n(t,r),this.stream.point(t[0],t[1])}})}function Pt(n,t){function r(i,e,l,a,s,g,v,o,u,f,p,h,y,S){var N=v-i,M=o-e,d=N*N+M*M;if(d>4*t&&y--){var E=a+f,P=s+p,_=g+h,L=vn(E*E+P*P+_*_),A=tn(_/=L),T=q(q(_)-1)<C||q(l-u)<C?(l+u)/2:nn(P,E),D=n(T,A),w=D[0],W=D[1],B=w-i,z=W-e,c=M*B-N*z;(c*c/d>t||q((N*B+M*z)/d-.5)>.3||a*f+s*p+g*h<yt)&&(r(i,e,l,a,s,g,w,W,T,E/=L,P/=L,_,y,S),S.point(w,W),r(w,W,T,E,P,_,v,o,u,f,p,h,y,S))}}return function(i){var e,l,a,s,g,v,o,u,f,p,h,y,S={point:N,lineStart:M,lineEnd:E,polygonStart:function(){i.polygonStart(),S.lineStart=P},polygonEnd:function(){i.polygonEnd(),S.lineStart=M}};function N(A,T){A=n(A,T),i.point(A[0],A[1])}function M(){u=NaN,S.point=d,i.lineStart()}function d(A,T){var D=m([A,T]),w=n(A,T);r(u,f,o,p,h,y,u=w[0],f=w[1],o=A,p=D[0],h=D[1],y=D[2],On,i),i.point(u,f)}function E(){S.point=N,i.lineEnd()}function P(){M(),S.point=_,S.lineEnd=L}function _(A,T){d(e=A,T),l=u,a=f,s=p,g=h,v=y,S.point=d}function L(){r(u,f,o,p,h,y,l,a,e,s,g,v,On,i),S.lineEnd=E,E()}return S}}var _t=gn({point:function(n,t){this.stream.point(n*H,t*H)}});function Nt(n){return gn({point:function(t,r){var i=n(t,r);return this.stream.point(i[0],i[1])}})}function It(n,t,r,i,e){function l(a,s){return a*=i,s*=e,[t+n*a,r-n*s]}return l.invert=function(a,s){return[(a-t)/n*i,(r-s)/n*e]},l}function $n(n,t,r,i,e,l){if(!l)return It(n,t,r,i,e);var a=F(l),s=G(l),g=a*n,v=s*n,o=a/n,u=s/n,f=(s*r-a*t)/n,p=(s*t+a*r)/n;function h(y,S){return y*=i,S*=e,[g*y-v*S+t,r-v*y-g*S]}return h.invert=function(y,S){return[i*(o*y-u*S+f),e*(p-u*y-o*S)]},h}function Rt(n){return At(function(){return n})()}function At(n){var t,r=150,i=480,e=250,l=0,a=0,s=0,g=0,v=0,o,u=0,f=1,p=1,h=null,y=Fn,S=null,N,M,d,E=Gn,P=.5,_,L,A,T,D;function w(c){return A(c[0]*H,c[1]*H)}function W(c){return c=A.invert(c[0],c[1]),c&&[c[0]*K,c[1]*K]}w.stream=function(c){return T&&D===c?T:T=_t(Nt(o)(y(_(E(D=c)))))},w.preclip=function(c){return arguments.length?(y=c,h=void 0,z()):y},w.postclip=function(c){return arguments.length?(E=c,S=N=M=d=null,z()):E},w.clipAngle=function(c){return arguments.length?(y=+c?pt(h=c*H):(h=null,Fn),z()):h*K},w.clipExtent=function(c){return arguments.length?(E=c==null?(S=N=M=d=null,Gn):vt(S=+c[0][0],N=+c[0][1],M=+c[1][0],d=+c[1][1]),z()):S==null?null:[[S,N],[M,d]]},w.scale=function(c){return arguments.length?(r=+c,B()):r},w.translate=function(c){return arguments.length?(i=+c[0],e=+c[1],B()):[i,e]},w.center=function(c){return arguments.length?(l=c[0]%360*H,a=c[1]%360*H,B()):[l*K,a*K]},w.rotate=function(c){return arguments.length?(s=c[0]%360*H,g=c[1]%360*H,v=c.length>2?c[2]%360*H:0,B()):[s*K,g*K,v*K]},w.angle=function(c){return arguments.length?(u=c%360*H,B()):u*K},w.reflectX=function(c){return arguments.length?(f=c?-1:1,B()):f<0},w.reflectY=function(c){return arguments.length?(p=c?-1:1,B()):p<0},w.precision=function(c){return arguments.length?(_=Wn(L,P=c*c),z()):vn(P)},w.fitExtent=function(c,I){return Vn(w,c,I)},w.fitSize=function(c,I){return Et(w,c,I)},w.fitWidth=function(c,I){return Mt(w,c,I)},w.fitHeight=function(c,I){return wt(w,c,I)};function B(){var c=$n(r,0,0,f,p,u).apply(null,t(l,a)),I=$n(r,i-c[0],e-c[1],f,p,u);return o=Xn(s,g,v),L=dn(t,I),A=dn(o,L),_=Wn(L,P),z()}function z(){return T=D=null,w}return function(){return t=n.apply(this,arguments),w.invert=t.invert&&W,B()}}function In(n,t){return[n,bn(tt((J+t)/2))]}In.invert=function(n,t){return[n,2*Kn(kn(t))-J]};function Ct(){return Tt(In).scale(961/Y)}function Tt(n){var t=Rt(n),r=t.center,i=t.scale,e=t.translate,l=t.clipExtent,a=null,s,g,v;t.scale=function(u){return arguments.length?(i(u),o()):i()},t.translate=function(u){return arguments.length?(e(u),o()):e()},t.center=function(u){return arguments.length?(r(u),o()):r()},t.clipExtent=function(u){return arguments.length?(u==null?a=s=g=v=null:(a=+u[0][0],s=+u[0][1],g=+u[1][0],v=+u[1][1]),o()):a==null?null:[[a,s],[g,v]]};function o(){var u=R*i(),f=t(et(t.rotate()).invert([0,0]));return l(a==null?[[f[0]-u,f[1]-u],[f[0]+u,f[1]+u]]:n===In?[[Math.max(f[0]-u,a),s],[Math.min(f[0]+u,g),v]]:[[a,Math.max(f[1]-u,s)],[g,Math.min(f[1]+u,v)]])}return o()}function Zn(n){this._context=n}Zn.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,t){switch(n=+n,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,t):this._context.moveTo(n,t);break;case 1:this._point=2;default:this._context.lineTo(n,t);break}}};function Dt(n){return new Zn(n)}export{mn as A,Lt as B,J as C,tt as D,jn as E,Tt as F,kn as G,zt as H,vt as I,Ct as J,Dt as K,q as a,Hn as b,R as c,K as d,G as e,tn as f,rt as g,F as h,Gn as i,C as j,nn as k,nt as l,Vn as m,k as n,Et as o,At as p,Mt as q,H as r,vn as s,Y as t,wt as u,Rt as v,it as w,In as x,bn as y,Kn as z};
