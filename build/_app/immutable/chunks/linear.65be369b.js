import{f as O,g as j,c as B,j as L,k as T}from"./continuous.4bb1cc2d.js";import{i as X}from"./init.a5b10ee5.js";import{e as v,a as Y,b as q,f as D}from"./defaultLocale.c00e5010.js";function G(t){return t}var N=1,S=2,I=3,x=4,_=1e-6;function J(t){return"translate("+t+",0)"}function K(t){return"translate(0,"+t+")"}function Q(t){return n=>+t(n)}function U(t,n){return n=Math.max(0,t.bandwidth()-n*2)/2,t.round()&&(n=Math.round(n)),o=>+t(o)+n}function W(){return!this.__axis}function z(t,n){var o=[],r=null,l=null,s=6,e=6,f=3,c=typeof window<"u"&&window.devicePixelRatio>1?0:.5,i=t===N||t===x?-1:1,g=t===x||t===S?"x":"y",V=t===N||t===I?J:K;function u(a){var C=r??(n.ticks?n.ticks.apply(n,o):n.domain()),E=l??(n.tickFormat?n.tickFormat.apply(n,o):G),R=Math.max(s,0)+f,P=n.range(),y=+P[0]+c,b=+P[P.length-1]+c,F=(n.bandwidth?U:Q)(n.copy(),c),d=a.selection?a.selection():a,k=d.selectAll(".domain").data([null]),m=d.selectAll(".tick").data(C,n).order(),H=m.exit(),w=m.enter().append("g").attr("class","tick"),p=m.select("line"),M=m.select("text");k=k.merge(k.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),m=m.merge(w),p=p.merge(w.append("line").attr("stroke","currentColor").attr(g+"2",i*s)),M=M.merge(w.append("text").attr("fill","currentColor").attr(g,i*R).attr("dy",t===N?"0em":t===I?"0.71em":"0.32em")),a!==d&&(k=k.transition(a),m=m.transition(a),p=p.transition(a),M=M.transition(a),H=H.transition(a).attr("opacity",_).attr("transform",function(h){return isFinite(h=F(h))?V(h+c):this.getAttribute("transform")}),w.attr("opacity",_).attr("transform",function(h){var A=this.parentNode.__axis;return V((A&&isFinite(A=A(h))?A:F(h))+c)})),H.remove(),k.attr("d",t===x||t===S?e?"M"+i*e+","+y+"H"+c+"V"+b+"H"+i*e:"M"+c+","+y+"V"+b:e?"M"+y+","+i*e+"V"+c+"H"+b+"V"+i*e:"M"+y+","+c+"H"+b),m.attr("opacity",1).attr("transform",function(h){return V(F(h)+c)}),p.attr(g+"2",i*s),M.attr(g,i*R).text(E),d.filter(W).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===S?"start":t===x?"end":"middle"),d.each(function(){this.__axis=F})}return u.scale=function(a){return arguments.length?(n=a,u):n},u.ticks=function(){return o=Array.from(arguments),u},u.tickArguments=function(a){return arguments.length?(o=a==null?[]:Array.from(a),u):o.slice()},u.tickValues=function(a){return arguments.length?(r=a==null?null:Array.from(a),u):r&&r.slice()},u.tickFormat=function(a){return arguments.length?(l=a,u):l},u.tickSize=function(a){return arguments.length?(s=e=+a,u):s},u.tickSizeInner=function(a){return arguments.length?(s=+a,u):s},u.tickSizeOuter=function(a){return arguments.length?(e=+a,u):e},u.tickPadding=function(a){return arguments.length?(f=+a,u):f},u.offset=function(a){return arguments.length?(c=+a,u):c},u}function ot(t){return z(N,t)}function st(t){return z(S,t)}function lt(t){return z(I,t)}function ct(t){return z(x,t)}function Z(t){return Math.max(0,-v(Math.abs(t)))}function $(t,n){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(v(n)/3)))*3-v(Math.abs(t)))}function tt(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,v(n)-v(t))+1}function nt(t,n,o,r){var l=O(t,n,o),s;switch(r=Y(r??",f"),r.type){case"s":{var e=Math.max(Math.abs(t),Math.abs(n));return r.precision==null&&!isNaN(s=$(l,e))&&(r.precision=s),q(r,e)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=tt(l,Math.max(Math.abs(t),Math.abs(n))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=Z(l))&&(r.precision=s-(r.type==="%")*2);break}}return D(r)}function rt(t){var n=t.domain;return t.ticks=function(o){var r=n();return L(r[0],r[r.length-1],o??10)},t.tickFormat=function(o,r){var l=n();return nt(l[0],l[l.length-1],o??10,r)},t.nice=function(o){o==null&&(o=10);var r=n(),l=0,s=r.length-1,e=r[l],f=r[s],c,i,g=10;for(f<e&&(i=e,e=f,f=i,i=l,l=s,s=i);g-- >0;){if(i=T(e,f,o),i===c)return r[l]=e,r[s]=f,n(r);if(i>0)e=Math.floor(e/i)*i,f=Math.ceil(f/i)*i;else if(i<0)e=Math.ceil(e*i)/i,f=Math.floor(f*i)/i;else break;c=i}return t},t}function at(){var t=j();return t.copy=function(){return B(t,at())},X.apply(t,arguments),rt(t)}export{at as a,lt as b,ot as c,ct as d,st as e,rt as l};
