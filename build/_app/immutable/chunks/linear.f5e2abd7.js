import{v as X}from"./transform.0dd040bf.js";import{e as N,i as Y,a as D,b as G,f as J}from"./defaultLocale.135a86a0.js";import{a as S}from"./ascending.3ff63084.js";import{i as K}from"./init.a5b10ee5.js";function Q(n,t){return n==null||t==null?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function O(n){let t,i,e;n.length!==2?(t=S,i=(o,a)=>S(n(o),a),e=(o,a)=>n(o)-a):(t=n===S||n===Q?n:U,i=n,e=n);function f(o,a,r=0,m=o.length){if(r<m){if(t(a,a)!==0)return m;do{const h=r+m>>>1;i(o[h],a)<0?r=h+1:m=h}while(r<m)}return r}function c(o,a,r=0,m=o.length){if(r<m){if(t(a,a)!==0)return m;do{const h=r+m>>>1;i(o[h],a)<=0?r=h+1:m=h}while(r<m)}return r}function u(o,a,r=0,m=o.length){const h=f(o,a,r,m-1);return h>r&&e(o[h-1],a)>-e(o[h],a)?h-1:h}return{left:f,center:u,right:c}}function U(){return 0}function W(n){return n===null?NaN:+n}function*Hn(n,t){if(t===void 0)for(let i of n)i!=null&&(i=+i)>=i&&(yield i);else{let i=-1;for(let e of n)(e=t(e,++i,n))!=null&&(e=+e)>=e&&(yield e)}}const Z=O(S),nn=Z.right;O(W).center;const tn=nn,rn=Math.sqrt(50),en=Math.sqrt(10),an=Math.sqrt(2);function V(n,t,i){const e=(t-n)/Math.max(0,i),f=Math.floor(Math.log10(e)),c=e/Math.pow(10,f),u=c>=rn?10:c>=en?5:c>=an?2:1;let o,a,r;return f<0?(r=Math.pow(10,-f)/u,o=Math.round(n*r),a=Math.round(t*r),o/r<n&&++o,a/r>t&&--a,r=-r):(r=Math.pow(10,f)*u,o=Math.round(n/r),a=Math.round(t/r),o*r<n&&++o,a*r>t&&--a),a<o&&.5<=i&&i<2?V(n,t,i*2):[o,a,r]}function un(n,t,i){if(t=+t,n=+n,i=+i,!(i>0))return[];if(n===t)return[n];const e=t<n,[f,c,u]=e?V(t,n,i):V(n,t,i);if(!(c>=f))return[];const o=c-f+1,a=new Array(o);if(e)if(u<0)for(let r=0;r<o;++r)a[r]=(c-r)/-u;else for(let r=0;r<o;++r)a[r]=(c-r)*u;else if(u<0)for(let r=0;r<o;++r)a[r]=(f+r)/-u;else for(let r=0;r<o;++r)a[r]=(f+r)*u;return a}function I(n,t,i){return t=+t,n=+n,i=+i,V(n,t,i)[2]}function on(n,t,i){t=+t,n=+n,i=+i;const e=t<n,f=e?I(t,n,i):I(n,t,i);return(e?-1:1)*(f<0?1/-f:f)}function ln(n){return n}var R=1,H=2,_=3,w=4,B=1e-6;function fn(n){return"translate("+n+",0)"}function cn(n){return"translate(0,"+n+")"}function sn(n){return t=>+n(t)}function mn(n,t){return t=Math.max(0,n.bandwidth()-t*2)/2,n.round()&&(t=Math.round(t)),i=>+n(i)+t}function hn(){return!this.__axis}function C(n,t){var i=[],e=null,f=null,c=6,u=6,o=3,a=typeof window<"u"&&window.devicePixelRatio>1?0:.5,r=n===R||n===w?-1:1,m=n===w||n===H?"x":"y",h=n===R||n===_?fn:cn;function l(s){var L=e??(t.ticks?t.ticks.apply(t,i):t.domain()),T=f??(t.tickFormat?t.tickFormat.apply(t,i):ln),j=Math.max(c,0)+o,P=t.range(),b=+P[0]+a,x=+P[P.length-1]+a,A=(t.bandwidth?mn:sn)(t.copy(),a),k=s.selection?s.selection():s,p=k.selectAll(".domain").data([null]),g=k.selectAll(".tick").data(L,t).order(),q=g.exit(),F=g.enter().append("g").attr("class","tick"),v=g.select("line"),y=g.select("text");p=p.merge(p.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),g=g.merge(F),v=v.merge(F.append("line").attr("stroke","currentColor").attr(m+"2",r*c)),y=y.merge(F.append("text").attr("fill","currentColor").attr(m,r*j).attr("dy",n===R?"0em":n===_?"0.71em":"0.32em")),s!==k&&(p=p.transition(s),g=g.transition(s),v=v.transition(s),y=y.transition(s),q=q.transition(s).attr("opacity",B).attr("transform",function(d){return isFinite(d=A(d))?h(d+a):this.getAttribute("transform")}),F.attr("opacity",B).attr("transform",function(d){var z=this.parentNode.__axis;return h((z&&isFinite(z=z(d))?z:A(d))+a)})),q.remove(),p.attr("d",n===w||n===H?u?"M"+r*u+","+b+"H"+a+"V"+x+"H"+r*u:"M"+a+","+b+"V"+x:u?"M"+b+","+r*u+"V"+a+"H"+x+"V"+r*u:"M"+b+","+a+"H"+x),g.attr("opacity",1).attr("transform",function(d){return h(A(d)+a)}),v.attr(m+"2",r*c),y.attr(m,r*j).text(T),k.filter(hn).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",n===H?"start":n===w?"end":"middle"),k.each(function(){this.__axis=A})}return l.scale=function(s){return arguments.length?(t=s,l):t},l.ticks=function(){return i=Array.from(arguments),l},l.tickArguments=function(s){return arguments.length?(i=s==null?[]:Array.from(s),l):i.slice()},l.tickValues=function(s){return arguments.length?(e=s==null?null:Array.from(s),l):e&&e.slice()},l.tickFormat=function(s){return arguments.length?(f=s,l):f},l.tickSize=function(s){return arguments.length?(c=u=+s,l):c},l.tickSizeInner=function(s){return arguments.length?(c=+s,l):c},l.tickSizeOuter=function(s){return arguments.length?(u=+s,l):u},l.tickPadding=function(s){return arguments.length?(o=+s,l):o},l.offset=function(s){return arguments.length?(a=+s,l):a},l}function In(n){return C(R,n)}function _n(n){return C(_,n)}function $n(n){return C(w,n)}function gn(n,t){return n=+n,t=+t,function(i){return Math.round(n*(1-i)+t*i)}}function dn(n){return Math.max(0,-N(Math.abs(n)))}function pn(n,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(N(t)/3)))*3-N(Math.abs(n)))}function Mn(n,t){return n=Math.abs(n),t=Math.abs(t)-n,Math.max(0,N(t)-N(n))+1}function kn(n){return function(){return n}}function vn(n){return+n}var E=[0,1];function M(n){return n}function $(n,t){return(t-=n=+n)?function(i){return(i-n)/t}:kn(isNaN(t)?NaN:.5)}function yn(n,t){var i;return n>t&&(i=n,n=t,t=i),function(e){return Math.max(n,Math.min(t,e))}}function wn(n,t,i){var e=n[0],f=n[1],c=t[0],u=t[1];return f<e?(e=$(f,e),c=i(u,c)):(e=$(e,f),c=i(c,u)),function(o){return c(e(o))}}function Nn(n,t,i){var e=Math.min(n.length,t.length)-1,f=new Array(e),c=new Array(e),u=-1;for(n[e]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++u<e;)f[u]=$(n[u],n[u+1]),c[u]=i(t[u],t[u+1]);return function(o){var a=tn(n,o,1,e)-1;return c[a](f[a](o))}}function bn(n,t){return t.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function xn(){var n=E,t=E,i=Y,e,f,c,u=M,o,a,r;function m(){var l=Math.min(n.length,t.length);return u!==M&&(u=yn(n[0],n[l-1])),o=l>2?Nn:wn,a=r=null,h}function h(l){return l==null||isNaN(l=+l)?c:(a||(a=o(n.map(e),t,i)))(e(u(l)))}return h.invert=function(l){return u(f((r||(r=o(t,n.map(e),X)))(l)))},h.domain=function(l){return arguments.length?(n=Array.from(l,vn),m()):n.slice()},h.range=function(l){return arguments.length?(t=Array.from(l),m()):t.slice()},h.rangeRound=function(l){return t=Array.from(l),i=gn,m()},h.clamp=function(l){return arguments.length?(u=l?!0:M,m()):u!==M},h.interpolate=function(l){return arguments.length?(i=l,m()):i},h.unknown=function(l){return arguments.length?(c=l,h):c},function(l,s){return e=l,f=s,m()}}function An(){return xn()(M,M)}function Fn(n,t,i,e){var f=on(n,t,i),c;switch(e=D(e??",f"),e.type){case"s":{var u=Math.max(Math.abs(n),Math.abs(t));return e.precision==null&&!isNaN(c=pn(f,u))&&(e.precision=c),G(e,u)}case"":case"e":case"g":case"p":case"r":{e.precision==null&&!isNaN(c=Mn(f,Math.max(Math.abs(n),Math.abs(t))))&&(e.precision=c-(e.type==="e"));break}case"f":case"%":{e.precision==null&&!isNaN(c=dn(f))&&(e.precision=c-(e.type==="%")*2);break}}return J(e)}function zn(n){var t=n.domain;return n.ticks=function(i){var e=t();return un(e[0],e[e.length-1],i??10)},n.tickFormat=function(i,e){var f=t();return Fn(f[0],f[f.length-1],i??10,e)},n.nice=function(i){i==null&&(i=10);var e=t(),f=0,c=e.length-1,u=e[f],o=e[c],a,r,m=10;for(o<u&&(r=u,u=o,o=r,r=f,f=c,c=r);m-- >0;){if(r=I(u,o,i),r===a)return e[f]=u,e[c]=o,t(e);if(r>0)u=Math.floor(u/r)*r,o=Math.ceil(o/r)*r;else if(r<0)u=Math.ceil(u*r)/r,o=Math.floor(o*r)/r;else break;a=r}return n},n}function Sn(){var n=An();return n.copy=function(){return bn(n,Sn())},K.apply(n,arguments),zn(n)}export{W as a,vn as b,bn as c,tn as d,O as e,on as f,An as g,gn as h,M as i,Q as j,Sn as k,zn as l,un as m,Hn as n,_n as o,In as p,$n as q,xn as t};
