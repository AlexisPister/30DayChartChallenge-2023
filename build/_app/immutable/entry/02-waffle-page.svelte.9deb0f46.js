import{S as K,i as V,s as $,k as C,q as I,a as P,M as L,J as B,l as F,m as x,r as N,h as i,c as T,N as O,n as u,H as m,b as q,C as z,o as J}from"../chunks/index.06a14631.js";import"../chunks/transform.2ac1f063.js";import{o as Q}from"../chunks/ordinal.9aa01bae.js";import{r as U}from"../chunks/range.6bc2a9a0.js";import{s as R}from"../chunks/select.c6d05060.js";function X(_){let s,g,d,l,y,S,b,f,w,v,p,E,c,t;return{c(){s=C("style"),g=I(`body {
        background-color: rgba(248, 189, 35, 0.32);
        font-family: Rasa;
    }`),d=P(),l=C("div"),y=C("h1"),S=I("Macronutrients' distributions of famous McDonald's dishes."),b=P(),f=C("div"),w=I("Data Source: "),v=C("a"),p=I("Kaggle"),E=P(),c=L("svg"),t=L("g"),this.h()},l(e){const a=B("svelte-1swpf6e",document.head);s=F(a,"STYLE",{});var r=x(s);g=N(r,`body {
        background-color: rgba(248, 189, 35, 0.32);
        font-family: Rasa;
    }`),r.forEach(i),a.forEach(i),d=T(e),l=F(e,"DIV",{id:!0,class:!0});var o=x(l);y=F(o,"H1",{class:!0});var n=x(y);S=N(n,"Macronutrients' distributions of famous McDonald's dishes."),n.forEach(i),b=T(o),f=F(o,"DIV",{id:!0,class:!0});var h=x(f);w=N(h,"Data Source: "),v=F(h,"A",{href:!0});var k=x(v);p=N(k,"Kaggle"),k.forEach(i),h.forEach(i),o.forEach(i),E=T(e),c=O(e,"svg",{id:!0,width:!0,height:!0,class:!0});var D=x(c);t=O(D,"g",{id:!0});var W=x(t);W.forEach(i),D.forEach(i),this.h()},h(){u(y,"class","svelte-st2q31"),u(v,"href","https://www.kaggle.com/datasets/mcdonalds/nutrition-facts"),u(f,"id","data-source"),u(f,"class","svelte-st2q31"),u(l,"id","main-text"),u(l,"class","svelte-st2q31"),u(t,"id","legend"),u(c,"id","vis"),u(c,"width",Z+600),u(c,"height",G),u(c,"class","svelte-st2q31")},m(e,a){m(document.head,s),m(s,g),q(e,d,a),q(e,l,a),m(l,y),m(y,S),m(l,b),m(l,f),m(f,w),m(f,v),m(v,p),q(e,E,a),q(e,c,a),m(c,t)},p:z,i:z,o:z,d(e){i(s),e&&i(d),e&&i(l),e&&i(E),e&&i(c)}}}const H=8,M=18,Z=1800,G=1600,Y="#427e5a",tt="#f5b100",et="#D62718";function at(_){const s=["McFlurry with M&M’s Candies (Small)","Big Mac","Filet-O-Fish","Medium French Fries","Chicken McNuggets (6 piece)","Side Salad"];let g=_.filter(d=>s.includes(d.Item));return g.sort((d,l)=>s.indexOf(d.Item)-s.indexOf(l.Item)),console.log(g),g}function rt(_){let s=_.split("(")[1].split(" ")[0];return Number(s)}function A(){return G/2-M*2}function j(){return 14}function nt(){return j()*(M+H)}function st(_,s,g){var d=(t=>(t.Protein="Protein",t.Fat="Fat",t.Carbohydrates="Carbohydrates",t.Other="Other",t))(d||{});let{data:l}=s,y,S=at(l.data),b=Q().domain(Object.values(d)).range([et,tt,Y,"white"]);J(()=>{y=R("#vis").append("g").attr("transform","translate(20, 0)"),f(S)});function f(t){let a=y.selectAll(".aliment").data(t).join("g").attr("transform",(r,o)=>o<3?`translate(${o*500}, -100)`:`translate(${(o-3)*500}, ${A()/3})`).classed("aliment",!0);a.selectAll("rect").data(r=>v(r)).join("rect").attr("width",M).attr("height",M).attr("x",r=>E(r)).attr("y",r=>c(r)).style("fill",r=>b(r.type)).attr("stroke","black").attr("stroke-width",r=>1),a.append("text").classed("title",!0).text(r=>r.Item=="McFlurry with M&M’s Candies (Small)"?"M&M’s McFlurry (Small)":r.Item).attr("x",r=>0).attr("y",r=>A()+40).attr("font-size","2em").attr("font-family","Rasa"),w()}function w(){let t=R("#legend"),e=["Fat","Protein","Carbohydrates","Other"],a=20,r=1500,o=A()-M-100-235;t.selectAll("mydots").data(e).join("rect").attr("x",r).attr("y",function(n,h){return o+h*(a+5)}).attr("width",a).attr("height",a).style("fill",function(n){return b(n)}).attr("stroke","black"),t.selectAll("mylabels").data(e).enter().append("text").attr("x",r+a*1.2).attr("y",function(n,h){return o+h*(a+5)+a/1.6}).style("fill",function(n){return n=="Other"?"black":b(n)}).text(function(n){return n}).attr("text-anchor","left").style("alignment-baseline","middle").attr("font-size","1.3em"),t.append("text").attr("x",r-2).attr("y",function(n,h){return o-23+a/2}).text("Each square represents one gram of food.").attr("font-size","1.4em")}function v(t){let e=rt(t["Serving Size"]),a=Number(t.Protein);t.Sugars;let r=Number(t.Carbohydrates),o=Number(t["Total Fat"]);t["Saturated Fat"],t["Trans Fat"];let n=p(a,"Protein").concat(p(r,"Carbohydrates")).concat(p(o,"Fat")),h=e-n.length;return n=n.concat(p(h,"Other")),n.forEach((k,D)=>{k.n=D+1}),n}function p(t,e){return U(1,t+1).map(a=>({type:e}))}const E=t=>((t.n-1)*M+(t.n-1)*H)%nt(),c=t=>{let e=Math.floor((t.n-1)/j())+1,a=e*M+(e-1)*H;return A()-a};return _.$$set=t=>{"data"in t&&g(0,l=t.data)},[l]}class ut extends K{constructor(s){super(),V(this,s,st,X,$,{data:0})}}export{ut as default};
