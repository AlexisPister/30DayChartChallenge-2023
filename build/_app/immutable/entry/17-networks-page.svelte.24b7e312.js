import{S as P,i as W,s as F,k as f,q as N,a as C,M as K,l as m,m as g,r as S,h,c as z,N as O,n as o,b as Q,H as a,C as M,o as U}from"../chunks/index.06a14631.js";import"../chunks/transform.2ac1f063.js";import{o as X}from"../chunks/ordinal.9aa01bae.js";import{p as Y}from"../chunks/band.82e7aa82.js";import{a as Z}from"../chunks/log.c3a8e9bb.js";import{e as ee}from"../chunks/extent.4cf1c809.js";import{s as R}from"../chunks/select.c6d05060.js";function te(j){let l,i,d,u,D,r,p,_,n,A,v,I,e,t,c,s,b,x,y;return{c(){l=f("div"),i=f("div"),d=f("h1"),u=N("Neural Network of C. Elegans"),D=C(),r=f("h3"),p=N(`Each dot is a neuron. Each line represents a synapse. The neurons that have a low number of connections have
            been filtered out. The size of circles encodes the number of connections.`),_=C(),n=f("div"),A=N("Data Source: "),v=f("a"),I=N("openworm.org"),e=N(`
            Layout: `),t=f("a"),c=N("D3JS"),s=f("br"),b=C(),x=f("div"),y=K("svg"),this.h()},l(k){l=m(k,"DIV",{id:!0,class:!0});var E=g(l);i=m(E,"DIV",{id:!0,class:!0});var w=g(i);d=m(w,"H1",{class:!0});var V=g(d);u=S(V,"Neural Network of C. Elegans"),V.forEach(h),D=z(w),r=m(w,"H3",{id:!0,class:!0});var L=g(r);p=S(L,`Each dot is a neuron. Each line represents a synapse. The neurons that have a low number of connections have
            been filtered out. The size of circles encodes the number of connections.`),L.forEach(h),_=z(w),n=m(w,"DIV",{id:!0,class:!0});var T=g(n);A=S(T,"Data Source: "),v=m(T,"A",{href:!0});var $=g(v);I=S($,"openworm.org"),$.forEach(h),e=S(T,`
            Layout: `),t=m(T,"A",{href:!0});var q=g(t);c=S(q,"D3JS"),q.forEach(h),s=m(T,"BR",{}),T.forEach(h),w.forEach(h),b=z(E),x=m(E,"DIV",{id:!0});var J=g(x);y=O(J,"svg",{width:!0,height:!0,class:!0});var G=g(y);G.forEach(h),J.forEach(h),E.forEach(h),this.h()},h(){o(d,"class","svelte-1sw2c8i"),o(r,"id","subtitle"),o(r,"class","svelte-1sw2c8i"),o(v,"href","https://openworm.org/science.html"),o(t,"href","https://d3js.org/"),o(n,"id","data-source"),o(n,"class","svelte-1sw2c8i"),o(i,"id","main-text"),o(i,"class","svelte-1sw2c8i"),o(y,"width",B),o(y,"height",H),o(y,"class","svelte-1sw2c8i"),o(x,"id","graph"),o(l,"id","container"),o(l,"class","svelte-1sw2c8i")},m(k,E){Q(k,l,E),a(l,i),a(i,d),a(d,u),a(i,D),a(i,r),a(r,p),a(i,_),a(i,n),a(n,A),a(n,v),a(v,I),a(n,e),a(n,t),a(t,c),a(n,s),a(l,b),a(l,x),a(x,y)},p:M,i:M,o:M,d(k){k&&h(l)}}}let B=1300;const H=1e3;function re(j,l,i){let{data:d}=l,u=d.neurons.data,D=d.muscles.data;console.log(u,D),u=u.filter(e=>e["Number of Connections"]>5);let r=new Set;u.forEach(e=>{r.add(e.Neuron),r.add(e.Target)}),r=Array.from(r).map(e=>({name:e,degree:0})),u.forEach(e=>{r.filter(t=>t.name==e.Neuron)[0].degree+=1,r.filter(t=>t.name==e.Target)[0].degree+=1}),r=r.sort((e,t)=>e.degree-t.degree);const p={bottom:20,left:60,right:120,top:20},_=X().domain(["exc","inh"]).range(["rgb(176,161,89)","rgb(165,114,215)"]);var n=Y().range([0,B-p.right-p.left]).domain(r.map(e=>e.name));let A=Z().domain(ee(r.map(e=>e.degree))).range([1,7]);U(()=>{v()});function v(){const e=R("svg").append("g").attr("transform",`translate(${p.left}, ${p.top})`);e.selectAll("mynodes").data(r.sort(function(t,c){return t.degree-c.degree})).join("circle").attr("cx",function(t){return n(t.name)}).attr("cy",H/1.7).attr("r",t=>A(t.degree)).style("fill",function(t){return"rgb(173,152,152)"}),e.selectAll("mylinks").data(u).join("path").attr("d",function(t){let c=n(t.Neuron),s=n(t.Target);return["M",c,H/1.7,"A",(c-s)/2,",",(c-s)/2,0,0,",",c<s?1:0,s,",",H/1.7].join(" ")}).style("fill","none").attr("stroke",t=>_(t.Neurotransmitter)).style("stroke-width",1),I()}function I(){let e=R("svg").append("g").attr("transform","translate(500, 70)"),t=500,c=80;e.append("text").text("Synapse Type").attr("transform",(s,b)=>`translate(${t-4},10)`).attr("fill","white").attr("font-size","22px"),e.selectAll(".llabel").data(["exc","inh"]).join("text").attr("x",t+20).attr("y",function(s,b){return c+b*25}).style("fill",function(s){return _(s)}).text(function(s){if(s=="exc")return"Excitatory Synapses";if(s=="inh")return"Inhibitory Synapses"}).style("alignment-baseline","middle").style("font-style","bold").classed("llabel",!0)}return j.$$set=e=>{"data"in e&&i(0,d=e.data)},[d]}class de extends P{constructor(l){super(),W(this,l,re,te,F,{data:0})}}export{de as default};
