import{S as K,i as P,s as W,k as h,q as S,a as C,J as F,l as m,m as g,r as D,h as f,c as z,K as O,n as o,b as Q,H as r,C as V,o as U}from"../chunks/index.2e204e96.js";import{s as R}from"../chunks/transform.3e593064.js";import{o as X}from"../chunks/ordinal.9aa01bae.js";import{p as Y,e as Z}from"../chunks/band.27971c68.js";import{a as ee}from"../chunks/log.90376da7.js";function te(j){let l,i,d,u,N,a,p,b,n,A,v,I,e,t,c,s,_,x,y;return{c(){l=h("div"),i=h("div"),d=h("h1"),u=S("Neural Network of C. Elegans"),N=C(),a=h("h3"),p=S(`Each dot is a neuron. Each line represents a synapse. The neurons that have a low number of connections have
            been filtered out. The size of circles encodes the number of connections.`),b=C(),n=h("div"),A=S("Data Source: "),v=h("a"),I=S("openworm.org"),e=S(`
            Layout: `),t=h("a"),c=S("D3JS"),s=h("br"),_=C(),x=h("div"),y=F("svg"),this.h()},l(k){l=m(k,"DIV",{id:!0,class:!0});var E=g(l);i=m(E,"DIV",{id:!0,class:!0});var w=g(i);d=m(w,"H1",{class:!0});var J=g(d);u=D(J,"Neural Network of C. Elegans"),J.forEach(f),N=z(w),a=m(w,"H3",{id:!0,class:!0});var L=g(a);p=D(L,`Each dot is a neuron. Each line represents a synapse. The neurons that have a low number of connections have
            been filtered out. The size of circles encodes the number of connections.`),L.forEach(f),b=z(w),n=m(w,"DIV",{id:!0,class:!0});var T=g(n);A=D(T,"Data Source: "),v=m(T,"A",{href:!0});var M=g(v);I=D(M,"openworm.org"),M.forEach(f),e=D(T,`
            Layout: `),t=m(T,"A",{href:!0});var $=g(t);c=D($,"D3JS"),$.forEach(f),s=m(T,"BR",{}),T.forEach(f),w.forEach(f),_=z(E),x=m(E,"DIV",{id:!0});var q=g(x);y=O(q,"svg",{width:!0,height:!0,class:!0});var G=g(y);G.forEach(f),q.forEach(f),E.forEach(f),this.h()},h(){o(d,"class","svelte-ybfpsa"),o(a,"id","subtitle"),o(a,"class","svelte-ybfpsa"),o(v,"href","https://openworm.org/science.html"),o(t,"href","https://d3js.org/"),o(n,"id","data-source"),o(n,"class","svelte-ybfpsa"),o(i,"id","main-text"),o(i,"class","svelte-ybfpsa"),o(y,"width",B),o(y,"height",H),o(y,"class","svelte-ybfpsa"),o(x,"id","graph"),o(l,"id","container"),o(l,"class","svelte-ybfpsa")},m(k,E){Q(k,l,E),r(l,i),r(i,d),r(d,u),r(i,N),r(i,a),r(a,p),r(i,b),r(i,n),r(n,A),r(n,v),r(v,I),r(n,e),r(n,t),r(t,c),r(n,s),r(l,_),r(l,x),r(x,y)},p:V,i:V,o:V,d(k){k&&f(l)}}}let B=1300;const H=1e3;function ae(j,l,i){let{data:d}=l,u=d.neurons.data,N=d.muscles.data;console.log(u,N),u=u.filter(e=>e["Number of Connections"]>5);let a=new Set;u.forEach(e=>{a.add(e.Neuron),a.add(e.Target)}),a=Array.from(a).map(e=>({name:e,degree:0})),u.forEach(e=>{a.filter(t=>t.name==e.Neuron)[0].degree+=1,a.filter(t=>t.name==e.Target)[0].degree+=1}),a=a.sort((e,t)=>e.degree-t.degree);const p={bottom:20,left:60,right:120,top:20},b=X().domain(["exc","inh"]).range(["rgb(176,161,89)","rgb(165,114,215)"]);var n=Y().range([0,B-p.right-p.left]).domain(a.map(e=>e.name));let A=ee().domain(Z(a.map(e=>e.degree))).range([1,7]);U(()=>{v()});function v(){const e=R("svg").append("g").attr("transform",`translate(${p.left}, ${p.top})`);e.selectAll("mynodes").data(a.sort(function(t,c){return t.degree-c.degree})).join("circle").attr("cx",function(t){return n(t.name)}).attr("cy",H/1.7).attr("r",t=>A(t.degree)).style("fill",function(t){return"rgb(173,152,152)"}),e.selectAll("mylinks").data(u).join("path").attr("d",function(t){let c=n(t.Neuron),s=n(t.Target);return["M",c,H/1.7,"A",(c-s)/2,",",(c-s)/2,0,0,",",c<s?1:0,s,",",H/1.7].join(" ")}).style("fill","none").attr("stroke",t=>b(t.Neurotransmitter)).style("stroke-width",1),I()}function I(){let e=R("svg").append("g").attr("transform","translate(500, 70)"),t=500,c=80;e.append("text").text("Synapse Type").attr("transform",(s,_)=>`translate(${t-4},10)`).attr("fill","white").attr("font-size","22px"),e.selectAll(".llabel").data(["exc","inh"]).join("text").attr("x",t+20).attr("y",function(s,_){return c+_*25}).style("fill",function(s){return b(s)}).text(function(s){if(s=="exc")return"Excitatory Synapses";if(s=="inh")return"Inhibitory Synapses"}).style("alignment-baseline","middle").style("font-style","bold").classed("llabel",!0)}return j.$$set=e=>{"data"in e&&i(0,d=e.data)},[d]}class ie extends K{constructor(l){super(),P(this,l,ae,te,W,{data:0})}}export{ie as default};
