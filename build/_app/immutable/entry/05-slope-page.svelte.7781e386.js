import{S as te,i as re,s as ae,k,q as g,a as N,J as ne,l as b,m as x,r as _,h as f,c as O,n as h,H as i,b as G,C as T,o as oe,Q as le}from"../chunks/index.06a14631.js";import"../chunks/transform.2ac1f063.js";import"../chunks/paths.9fde2edb.js";import{s as V}from"../chunks/select.c6d05060.js";import{c as D,M as ie,a as se,b as ce,d as de,e as ue,g as fe,f as B,p as pe,t as K}from"../chunks/plot.81b3b730.js";import{m as he,c as U}from"../chunks/curve.dc70a6d2.js";import{a as me}from"../chunks/path.1bc61eb4.js";function ve(r,{marker:e,markerStart:t=e,markerMid:n=e,markerEnd:o=e}={}){r.markerStart=z(t),r.markerMid=z(n),r.markerEnd=z(o)}function z(r){if(r==null||r===!1)return null;if(r===!0)return Z;if(typeof r=="function")return r;switch(`${r}`.toLowerCase()){case"none":return null;case"arrow":return ye;case"dot":return ke;case"circle":case"circle-fill":return Z;case"circle-stroke":return be}throw new Error(`invalid marker: ${r}`)}function ye(r,e){return D("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("orient","auto").attr("fill","none").attr("stroke",r).attr("stroke-width",1.5).attr("stroke-linecap","round").attr("stroke-linejoin","round").call(t=>t.append("path").attr("d","M-1.5,-3l3,3l-3,3")).node()}function ke(r,e){return D("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",r).attr("stroke","none").call(t=>t.append("circle").attr("r",2.5)).node()}function Z(r,e){return D("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",r).attr("stroke","white").attr("stroke-width",1.5).call(t=>t.append("circle").attr("r",3)).node()}function be(r,e){return D("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill","white").attr("stroke",r).attr("stroke-width",1.5).call(t=>t.append("circle").attr("r",3)).node()}let ge=0;function xe(r,e,{stroke:t},n){return _e(r,e,t&&(o=>t[o]),n)}function _e(r,{markerStart:e,markerMid:t,markerEnd:n,stroke:o},l=()=>o,a){const c=new Map;function s(m){return function(w){const p=l(w);let d=c.get(m);d||c.set(m,d=new Map);let v=d.get(p);if(!v){const y=this.parentNode.insertBefore(m(p,a),this),u=`plot-marker-${++ge}`;y.setAttribute("id",u),d.set(p,v=`url(#${u})`)}return v}}e&&r.attr("marker-start",s(e)),t&&r.attr("marker-mid",s(t)),n&&r.attr("marker-end",s(n))}const we={ariaLabel:"link",fill:"none",stroke:"currentColor",strokeMiterlimit:1};class Se extends ie{constructor(e,t={}){const{x1:n,y1:o,x2:l,y2:a,curve:c,tension:s}=t;super(e,{x1:{value:n,scale:"x"},y1:{value:o,scale:"y"},x2:{value:l,scale:"x",optional:!0},y2:{value:a,scale:"y",optional:!0}},t,we),this.curve=he(c,s),ve(this,t)}project(e,t,n){this.curve!==U&&super.project(e,t,n)}render(e,t,n,o,l){const{x1:a,y1:c,x2:s=a,y2:m=c}=n,{curve:w}=this;return D("svg:g",l).call(se,this,o,l).call(ce,this,t).call(p=>p.selectAll().data(e).enter().append("path").call(de,this).attr("d",w===U&&l.projection?Me(l.projection,a,c,s,m):d=>{const v=me(),y=w(v);return y.lineStart(),y.point(a[d],c[d]),y.point(s[d],m[d]),y.lineEnd(),v}).call(ue,this,n).call(xe,this,n,l)).node()}}function Me(r,e,t,n,o){const l=fe(r);return e=B(e),t=B(t),n=B(n),o=B(o),a=>l({type:"LineString",coordinates:[[e[a],t[a]],[n[a],o[a]]]})}function Ee(r,e={}){let{x:t,x1:n,x2:o,y:l,y1:a,y2:c,...s}=e;return[n,o]=Y(t,n,o),[a,c]=Y(l,a,c),new Se(r,{...s,x1:n,x2:o,y1:a,y2:c})}function Y(r,e,t){if(r===void 0){if(e===void 0){if(t!==void 0)return[t]}else if(t===void 0)return[e]}else{if(e===void 0)return t===void 0?[r]:[r,t];if(t===void 0)return[r,e]}return[e,t]}const{document:X}=le;function Ce(r){let e,t,n,o,l,a,c,s,m,w,p,d,v,y,u,H,M,P,W,j,F,C;return{c(){e=k("style"),t=g(`body {
        background-color: #f4efff;
    }`),n=N(),o=k("div"),l=k("div"),a=k("h1"),c=g("Evolution of "),s=k("span"),m=g("mobile cellular"),w=g(" subscriptions and "),p=k("span"),d=g("fixed telephone"),v=g(" subscriptions between 2005 and 2021 (per 100 people)."),y=N(),u=k("div"),H=g("Data Source: "),M=k("a"),P=g("data.worldbank.org"),W=k("br"),j=g(`
            Layout: Observable Plot`),F=N(),C=k("div"),this.h()},l(S){const A=ne("svelte-1r1l4z8",X.head);e=b(A,"STYLE",{});var R=x(e);t=_(R,`body {
        background-color: #f4efff;
    }`),R.forEach(f),A.forEach(f),n=O(S),o=b(S,"DIV",{id:!0,class:!0});var I=x(o);l=b(I,"DIV",{id:!0,class:!0});var $=x(l);a=b($,"H1",{class:!0});var E=x(a);c=_(E,"Evolution of "),s=b(E,"SPAN",{id:!0});var q=x(s);m=_(q,"mobile cellular"),q.forEach(f),w=_(E," subscriptions and "),p=b(E,"SPAN",{id:!0});var J=x(p);d=_(J,"fixed telephone"),J.forEach(f),v=_(E," subscriptions between 2005 and 2021 (per 100 people)."),E.forEach(f),y=O($),u=b($,"DIV",{id:!0,class:!0});var L=x(u);H=_(L,"Data Source: "),M=b(L,"A",{href:!0});var Q=x(M);P=_(Q,"data.worldbank.org"),Q.forEach(f),W=b(L,"BR",{}),j=_(L,`
            Layout: Observable Plot`),L.forEach(f),$.forEach(f),F=O(I),C=b(I,"DIV",{id:!0});var ee=x(C);ee.forEach(f),I.forEach(f),this.h()},h(){h(s,"id","mobile"),h(p,"id","fix"),h(a,"class","svelte-1mcsfxc"),h(M,"href","https://data.worldbank.org/indicator/IT.MLT.MAIN.P2?view=chart"),h(u,"id","data-source"),h(u,"class","svelte-1mcsfxc"),h(l,"id","main-text"),h(l,"class","svelte-1mcsfxc"),h(C,"id","graph"),h(o,"id","container"),h(o,"class","svelte-1mcsfxc")},m(S,A){i(X.head,e),i(e,t),G(S,n,A),G(S,o,A),i(o,l),i(l,a),i(a,c),i(a,s),i(s,m),i(a,w),i(a,p),i(p,d),i(a,v),i(l,y),i(l,u),i(u,H),i(u,M),i(M,P),i(u,W),i(u,j),i(o,F),i(o,C)},p:T,i:T,o:T,d(S){f(e),S&&f(n),S&&f(o)}}}const Ae=1800;function Le(r){let e=[{name:"Fix",2005:19,2021:11},{name:"Mobile",2005:34,2021:110}];const t=["#66c2a5","#fc8d62"];oe(()=>{o(),V("#fix").style("color",n.Fix),V("#mobile").style("color",n.Mobile)});let n={Fix:t[0],Mobile:t[1]};function o(){console.log(e);let l=pe({width:Ae/2,height:500,marginLeft:120,marginRight:120,style:{fontSize:26,backgroundColor:"#f4efff",display:"flex"},x:{axis:"top",ticks:[2005,2021],tickFormat:""},y:{label:"% change in year",domain:[0,140],axis:null},marks:[Ee(e,{x1:2005,y1:"2005",x2:2021,y2:"2021",stroke:a=>n[a.name],strokeWidth:5}),K(e,{x:2005,y:"2005",text:a=>`${a.name}: ${a[2005]}`,textAnchor:"end",dx:-5,fill:a=>n[a.name],fontSize:22}),K(e,{x:2021,y:"2021",text:a=>a[2021],textAnchor:"start",dx:5,fill:a=>n[a.name],fontSize:22})]});V(l).style("display","unset"),document.querySelector("#graph").append(l)}return[]}class je extends te{constructor(e){super(),re(this,e,Le,Ce,ae,{})}}export{je as default};
