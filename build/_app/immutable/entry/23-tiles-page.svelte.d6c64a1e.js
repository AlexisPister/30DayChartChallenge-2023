import{S as U,i as F,s as G,k as h,q as C,a as H,l as u,m as f,r as D,h as p,c as A,n as d,b as W,H as i,C as B,o as $}from"../chunks/index.06a14631.js";import{M as j,ae as q,af as V,c as z,a as J,d as K,ag as N,e as Q,_ as Y,b as Z,p as X,ah as tt}from"../chunks/plot.81b3b730.js";class et extends j{constructor(s,t,e={},a){super(s,t,e,a);const{inset:r=0,insetTop:l=r,insetRight:o=r,insetBottom:n=r,insetLeft:y=r,rx:b,ry:c}=e;this.insetTop=q(l),this.insetRight=q(o),this.insetBottom=q(n),this.insetLeft=q(y),this.rx=V(b,"auto"),this.ry=V(c,"auto")}render(s,t,e,a,r){const{rx:l,ry:o}=this;return z("svg:g",r).call(J,this,a,r).call(this._transform,this,t).call(n=>n.selectAll().data(s).enter().append("rect").call(K,this).attr("x",this._x(t,e,a)).attr("width",this._width(t,e,a)).attr("y",this._y(t,e,a)).attr("height",this._height(t,e,a)).call(N,"rx",l).call(N,"ry",o).call(Q,this,e)).node()}_x(s,{x:t},{marginLeft:e}){const{insetLeft:a}=this;return t?r=>t[r]+a:e+a}_y(s,{y:t},{marginTop:e}){const{insetTop:a}=this;return t?r=>t[r]+a:e+a}_width({x:s},{x:t},{marginRight:e,marginLeft:a,width:r}){const{insetLeft:l,insetRight:o}=this,n=t&&s?s.bandwidth():r-e-a;return Math.max(0,n-l-o)}_height({y:s},{y:t},{marginTop:e,marginBottom:a,height:r}){const{insetTop:l,insetBottom:o}=this,n=t&&s?s.bandwidth():r-e-a;return Math.max(0,n-l-o)}}const at={ariaLabel:"cell"};class st extends et{constructor(s,{x:t,y:e,...a}={}){super(s,{x:{value:t,scale:"x",type:"band",optional:!0},y:{value:e,scale:"y",type:"band",optional:!0}},a,at)}_transform(s,t){s.call(Z,t,{},0,0)}}function rt(v,s={}){let{x:t,y:e,...a}=s;return[t,e]=Y(t,e),new st(v,{...a,x:t,y:e})}function lt(v){let s,t,e,a,r,l,o,n,y,b,c,T,g,E,I,L,w;return{c(){s=h("div"),t=h("div"),e=h("h1"),a=h("span"),r=C("Cold Showers"),l=C(" Calendar 2021"),o=H(),n=h("h3"),y=C("Cold showers seem to be more difficult during winter."),b=H(),c=h("div"),T=C("Layout: "),g=h("a"),E=C("Observable Plot"),I=h("br"),L=H(),w=h("div"),this.h()},l(x){s=u(x,"DIV",{id:!0,class:!0});var m=f(s);t=u(m,"DIV",{id:!0,class:!0});var _=f(t);e=u(_,"H1",{class:!0});var M=f(e);a=u(M,"SPAN",{id:!0,class:!0});var k=f(a);r=D(k,"Cold Showers"),k.forEach(p),l=D(M," Calendar 2021"),M.forEach(p),o=A(_),n=u(_,"H3",{id:!0,class:!0});var P=f(n);y=D(P,"Cold showers seem to be more difficult during winter."),P.forEach(p),b=A(_),c=u(_,"DIV",{id:!0,class:!0});var S=f(c);T=D(S,"Layout: "),g=u(S,"A",{href:!0});var R=f(g);E=D(R,"Observable Plot"),R.forEach(p),I=u(S,"BR",{}),S.forEach(p),_.forEach(p),L=A(m),w=u(m,"DIV",{id:!0});var O=f(w);O.forEach(p),m.forEach(p),this.h()},h(){d(a,"id","cold"),d(a,"class","svelte-1aqog32"),d(e,"class","svelte-1aqog32"),d(n,"id","subtitle"),d(n,"class","svelte-1aqog32"),d(g,"href","https://observablehq.com/plot/"),d(c,"id","data-source"),d(c,"class","svelte-1aqog32"),d(t,"id","main-text"),d(t,"class","svelte-1aqog32"),d(w,"id","graph"),d(s,"id","container"),d(s,"class","svelte-1aqog32")},m(x,m){W(x,s,m),i(s,t),i(t,e),i(e,a),i(a,r),i(e,l),i(t,o),i(t,n),i(n,y),i(t,b),i(t,c),i(c,T),i(c,g),i(g,E),i(c,I),i(s,L),i(s,w)},p:B,i:B,o:B,d(x){x&&p(s)}}}const it=1300,ot=1e3;function nt(v,s,t){let{data:e}=s,a=e.data;a=a.filter(l=>l.Date.slice(-4)=="2021"),console.log(a.map(l=>l["Cold Shower"])),$(()=>{r()});function r(){let l=X({padding:0,width:it-200,height:ot-500,y:{tickFormat:tt("en","short")},color:{type:"ordinal",domain:["Yes","No","Not logged"],range:["#91bfdb","#fc8d59","white"],legend:"swatches"},marks:[rt(a,{x:o=>new Date(o.Date).getUTCDate(),y:o=>new Date(o.Date).getUTCMonth(),fill:"Cold Shower",inset:.7})]});document.querySelector("#graph").append(l)}return v.$$set=l=>{"data"in l&&t(0,e=l.data)},[e]}class ht extends U{constructor(s){super(),F(this,s,nt,lt,G,{data:0})}}export{ht as default};
